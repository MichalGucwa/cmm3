# LIBTBX_PRE_DISPATCHER_INCLUDE_SH BOOST_ADAPTBX_FPE_DEFAULT=1
# LIBTBX_PRE_DISPATCHER_INCLUDE_SH export BOOST_ADAPTBX_FPE_DEFAULT=1

import unittest

import libtbx.load_env
import os.path
import sys

FOLDER = libtbx.env.under_dist( "phaser", os.path.join( "test", "unit" ) )

alltests = unittest.defaultTestLoader.discover( start_dir = FOLDER, pattern = "tst*.py" )

res = unittest.TextTestRunner( verbosity = 2 ).run( alltests )

if res.failures or res.errors:
    sys.exit( 1 )
    
else:
    sys.exit( 0 )
