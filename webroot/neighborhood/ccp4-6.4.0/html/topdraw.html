<html>
<head><title>CCP4 Program Suite</title></head>
<body>

<!-- ::INDEX_INFO::TOPDRAW::Supported::Plotting / Graphics::Sketchpad for protein topology diagrams::supported:::::: -->

<H1> TOPDRAW (CCP4: Supported Program)</H1>
<H2> NAME</H2>
<b>topdraw </b>
- Sketchpad for protein topology diagrams
<H2> SYNOPSIS </H2>
<b>topdraw</b>
<br>

<H2><a name="description">DESCRIPTION</a></H2>
             
<p><b>TopDraw - Version: Sep 2002</b></p>

<p><i>(c) 2000, 2001 Charlie Bond&nbsp; <a href="mailto:C.S.Bond@dundee.ac.uk">
C.S.Bond@dundee.ac.uk</a></i></p>

<p>TopDraw is a sketchpad for drawing topology cartoons of proteins written 
in <tt><a href="http://tcl.activestate.com">Tcl/Tk</a></tt>&nbsp;(<tt>Tcl/Tk</tt>
is installed by default with most unix variants and is available for most 
if not all platforms). It does not calculate topology from a PDB file, but
merely allows you to sketch a topology derived from another source (my favourite
is <tt>HERA</tt> - if you run
<tt><a href="http://www.biochem.ucl.ac.uk/bsm/promotif/promotif.html">
PROMOTIF</a> </tt>on your protein, you get a .her file which is a postscript
file containing the <tt>HERA</tt>&nbsp;topology.)</p>

<p><i>TopDraw is distributed under the GNU General Public License terms.</i></p>

<P>
<A HREF="#features">Features</A>  <br>
<A HREF="#rationale">Rationale</A>  <br>
<A HREF="#usage">Usage</A>  <br>
<A HREF="#output">Output</A>  <br>
<A HREF="#limitations">Limitations</A>  <br>
<A HREF="#references">References</A><BR>
<A HREF="#author">Author</A><BR>
</P>

<H2><a name="features">FEATURES</a></H2>
   
<ul>
    <li>Easy sketching of protein topologies</li>
    <li>Save/Open function for reusing/editing previous drawings<br></li>
    <li>Postscript output for printing/publication</li>
    <li>Runs (probably) on all common platforms (anywhere Tcl/Tkv8 will run).</li>
    <li>Horizontal or vertical helices and strands</li>
    <li>New version allows diagonal connections</li>
</ul>
   
<p><i><b>Screen Shot (click for larger version):</b></i> <br>
<a href="images/topdraw_sep2002_screenshot.gif"><img src="images/topdraw_sep2002_small.gif" alt="TopDraw Screenshot (small)"></a></p>
   
<H2><a name="rationale">RATIONALE</a></H2>

<p>I wrote it because there was a lack of such software - I spent hours
creating a topology diagram with a drawing program for a publication and
got 4 or 5 emails subsequently asking which software I used. While
<tt><a href="http://www.sander.embl-ebi.ac.uk/tops/">Tops/XTops</a></tt>
provides a route to automatic cartoon generation from a PDB file, the cartoon
style of <tt>XTops</tt> is not a style I like.</p>

<p>If you have any good ideas for improvements, or spot any bugs, let me know
and I will try to implement/fix them. If you have any customisations which
could be included, let me know.</p>

<H2><a name="usage">USAGE</a></H2>

<p>TopDraw requires Tcl/Tk version 8.0 or better.</p>

<p><i>Unix:</i> From the command-line type topdraw<br>
   <i>Windows:</i> click on the TopDraw.tcl icon
</p>

<p>Select an item type by clicking on it.
(Colours are determined by the selection boxes, not the
colour on the icon!)
</p><p>
Select fillcolour, linecolour and linewidth, then 
place the item on the canvas by clicking at the correct
position.
</p><p>
Move it by dragging it with middle mouse button.
</p><p>
Delete it by clicking 'Delete' then clicking the 
unwanted item.
</p><p>
To place text, set the fontsize and colour and type the 
text in the box, followed by Enter/Return.
Then you can place/move/delete it as described above.
</p><p>
If you are going to scale the final image to a new size for
publication, make sure that you use a large-enough font size. A final
size of 8pt is the smallest usually accepted, so if you will need to
scale the figure down by a factor of two, then select font size 16. 
</p><p>
HINT: If in desperation you have finished a complex drawing and
subsequently want to change the font size or some colours, this can be
achieved by editing the saved file in a text editor and then
re-reading it into TopDraw. You will see lines like this:<br>
<tt>
helixtop Green 375 500 3 DarkGreen<br>
line01 Green 375 550 3 DarkGreen<br>
text Blue 275 417 18 Helvetica-Bold D<br>
</tt>
For text objects, the fields are "Object_type fill_colour x-coord
y-coord font_size font text".<br>
For other objects, the fields are "Object_type fill_colour x-coord
y-coord line_width line_colour".<br> 
</p><p>
Objects can't be pushed underneath previously drawn 
objects. Place background objects first.
</p><p>
If you wish to move everything (e.g. you started too close
to the edge), activate the \"Move all objects\" button.
</p><p>         
Keep your drawing to the lower left side of the canvas
to make further processing of postscript files easier.
</p>

<H2><a name="output">OUTPUT</a></H2>

<p>The PostScript output is written using a native Tcl/Tk command. This
is fully conforming PS. It should be readable by any postscript viewer
(ghostscript, ghostview, ImageMagick, gimp are all freely
available). If your sketch is on the far right of the canvas, it may
appear 'off the page' with some viewers.</p>
<p>To prepare a figure for publication, I save as Postscript
(e.g. test.ps), run ps2epsi from the ghostscript package ('ps2epsi
test.ps') to produce encapsulated postscript (test.epsi) which is
accepted by most publishers. EPS files can be scaled to any size with
no loss of resolution. Alternatively, this can be converted to
any other image type with ImageMagick ('convert test.epsi test.tif').

<H2><a name="limitations">LIMITATIONS</a></H2>

<p>Tcl/Tk for Windows (I have V8.3) seems to leave some ovals opaque. This 
only affects the cursor, not the finished image, so I shall wait for TK to 
be fixed rather than work around it.</p>

<H2><A NAME="references"></A>REFERENCES</H2>

<OL>
<P><!-- KEEP startreferencelist --></P>

<LI><a
href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&db=PubMed&list_uids=12538265&dopt=Abstract">Bond,
C.S. (2003) <i>Bioinformatics</i> <b>19</b>, 311-2.</a>

<!-- KEEP endreferencelist -->
</OL>

<H2><A NAME="author"></A> AUTHOR</H2>
Charlie Bond<br>
Webpage <a href="http://stein.bioch.dundee.ac.uk/~charlie">http://stein.bioch.dundee.ac.uk/~charlie</a>
       
</body>
</html>
