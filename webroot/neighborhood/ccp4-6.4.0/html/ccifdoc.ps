%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: ccifdoc.dvi
%%Pages: 44
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Roman Times-Bold Courier Courier-Oblique
%%+ Times-Italic
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o ccifdoc.ps ccifdoc.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2004.08.23:1406
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (ccifdoc.dvi)
@start /Fa 134[33 4[18 1[22 1[33 2[52 7[29 3[29 97[{
.167 SlantFont TeXBase1Encoding ReEncodeFont}7 66.4176
/Times-Roman rf
%DVIPSBitmapFont: Fb cmsy8 8 2
/Fb 2 106 df<13031307130F130EA2131E131C133C1338A21378137013F013E0A21201
13C01203138012071300A25A120E121E121CA2123C123812781270A212F05A7E1270A212
781238123C121CA2121E120E120F7EA21380120313C0120113E01200A213F01370137813
38A2133C131C131E130EA2130F1307130310437AB11B>104 D<12E0A27E1270A2127812
38123C121CA2121E120E120F7EA21380120313C0120113E01200A213F0137013781338A2
133C131C131E130EA2130F1307130F130EA2131E131C133C1338A21378137013F013E0A2
120113C01203138012071300A25A120E121E121CA2123C123812781270A212F05AA21043
7CB11B>I E
%EndDVIPSBitmapFont
/Fc 139[40 40 3[40 40 10[40 52[40 3[40 42[{
TeXBase1Encoding ReEncodeFont}7 66.4176 /Courier rf /Fd
134[42 2[42 1[23 32 28 1[42 42 42 65 23 2[23 1[42 28
37 1[37 42 37 10[60 60 8[51 6[51 3[60 62[46 2[{
.167 SlantFont TeXBase1Encoding ReEncodeFont}23 83.022
/Times-Roman rf /Fe 134[45 45 45 1[45 45 45 45 45 45
45 45 45 45 45 1[45 45 45 45 45 45 45 45 45 1[45 5[45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 45 45
45 45 45 45 45 45 3[45 2[45 1[45 2[45 1[45 45 45 45 1[45
45 45 1[45 45 45 45 45 38[{TeXBase1Encoding ReEncodeFont}64
74.7198 /Courier rf
%DVIPSBitmapFont: Ff cmsy10 10 6
/Ff 6 121 df<EB1FF0EBFFFE487F000714C04814E04814F04814F8A24814FCA3B612FE
A96C14FCA36C14F8A26C14F06C14E06C14C0000114006C5BEB1FF01F1F7BA42A>15
D<EF0180EF07C0171FEF7F80933801FF00EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0
ED7FC04A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FC
EA3FF0EA7FC048CBFC5AEA7F80EA3FE0EA0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE9038
00FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0FF8ED03FE923800FF80EE3FE0EE0F
F8EE03FE933800FF80EF3FC0170FEF038094C7FCAE007FB81280B912C0A26C1780324479
B441>20 D<126012F812FEEA7F80EA3FE0EA0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE90
3800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0FF8ED03FE923800FF80EE3FE0EE
0FF8EE03FE933800FF80EF3FC0171FEF7F80933801FF00EE07FCEE1FF0EE7FC04B48C7FC
ED07FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07FCEB1FF0EB7FC048
48CAFCEA07FCEA1FF0EA7FC048CBFC12FC1270CCFCAE007FB81280B912C0A26C17803244
79B441>I<14C0EB01E01303A214C01307A21480130FA2EB1F00A2131E133EA25BA21378
13F8A2485AA25B1203A25B1207A2485AA290C7FC5AA2123EA2123C127CA2127812F8A412
78127CA2123C123EA27EA27E7FA26C7EA212037FA212017FA26C7EA21378137CA27FA213
1E131FA2EB0F80A2130714C0A2130314E0A21301EB00C0135278BD20>104
D<126012F07EA21278127CA2123C123EA27EA27E7FA26C7EA212037FA26C7EA212007FA2
1378137CA27FA2131E131FA2EB0F80A2130714C0A2130314E0A414C01307A21480130FA2
EB1F00A2131E133EA25BA2137813F8A25B1201A2485AA25B1207A2485AA290C7FC5AA212
3EA2123C127CA2127812F8A25A126013527CBD20>I<137E3801FFC03807C1E0380F0070
001E1338003E131C48130C141E147E5AA3143C1400A3127CA37E121E7E6C7E6C7EEA00F0
13FCEA03FF380F8780381F01E0003E13F0EB00F848137CA200FC133E5A141FA6127C143F
6C133EA26C137CEA0F80000713F83801E1F03800FFC0EB3F00130FEB03C0EB01E0EB00F0
1478147C143EA3141FA3123C127EA3143E127812300038137C6C13786C13F0380783E038
03FF8038007E00184C7ABA25>120 D E
%EndDVIPSBitmapFont
/Fg 198[33 4[33 2[33 49[{TeXBase1Encoding ReEncodeFont}3
66.4176 /Times-Bold rf /Fh 134[29 3[33 18 26 26 1[33
33 33 48 3[18 33 1[18 29 1[29 1[33 13[33 8[29 22 5[44
1[41 9[33 2[33 33 4[17 46[{TeXBase1Encoding ReEncodeFont}24
66.4176 /Times-Italic rf /Fi 104[66 29[33 33 48 33 33
18 26 22 33 33 33 33 52 18 33 1[18 33 33 22 29 33 29
33 29 22 8[63 48 1[41 37 44 1[37 48 48 59 41 2[22 48
48 37 1[48 44 44 48 5[18 18 33 33 33 33 33 1[33 33 33
33 1[17 22 17 2[22 22 22 5[22 30[37 2[{TeXBase1Encoding ReEncodeFont}63
66.4176 /Times-Roman rf /Fj 198[25 25 25 25 25 25 25
25 25 25 48[{TeXBase1Encoding ReEncodeFont}10 49.8132
/Times-Roman rf /Fk 137[37 1[23 1[32 2[42 42 1[23 2[23
2[23 37 42 1[42 42 50[21 46[{TeXBase1Encoding ReEncodeFont}13
83.022 /Times-Italic rf /Fl 198[29 29 29 29 29 29 29
29 29 29 48[{TeXBase1Encoding ReEncodeFont}10 58.1154
/Times-Roman rf
%DVIPSBitmapFont: Fm cmr7 7 1
/Fm 1 50 df<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521>49
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fn cmr10 10 6
/Fn 6 51 df<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA212075B
120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F1203A2
6C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<15301578B3A6007FB812
F8B912FCA26C17F8C80078C8FCB3A6153036367BAF41>43 D<EB03F8EB1FFF90387E0FC0
9038F803E03901E000F0484813780007147C48487FA248C77EA2481580A3007EEC0FC0A6
00FE15E0B3007E15C0A4007F141F6C1580A36C15006D5B000F143EA26C6C5B6C6C5B6C6C
485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7DB72A>48 D<EB01C013031307131F
13FFB5FCA2131F1200B3B3A8497E007FB512F0A31C3879B72A>I<EB0FF0EB7FFE48B57E
3903E03FE0390F000FF0000E6D7E486D7E486D7E123000706D7E126012FCB4EC7F807FA5
6CC7FC121CC8FCEDFF00A34A5A5D14035D4A5A5D140F4A5A4A5A92C7FC147C5C495A495A
495A495A91C8FC011EEB01805B5B49130348481400485A485A000EC75A000FB6FC5A5A48
5CB6FCA321387CB72A>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fo cmmi10 10 7
/Fo 7 111 df<EF0380EF0FC0173FEFFF80933803FE00EE0FF8EE3FE0EEFF80DB03FEC7
FCED0FF8ED3FE0EDFF80DA03FEC8FCEC0FF8EC3FE0ECFF80D903FEC9FCEB0FF8EB3FE0EB
FF80D803FECAFCEA0FF8EA3FE0EA7F8000FECBFCA2EA7F80EA3FE0EA0FF8EA03FEC66C7E
EB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0FF8ED03
FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FC0170FEF0380323279AD41>60
D<0103B7FC4916E018F8903B0007F80007FC4BEB00FE187F020FED3F80F01FC05DA2021F
16E0A25DA2143FF03FC05DA2027FED7F80A292C8130018FE4A4A5A604AEC07F04D5A0101
ED3FC04CB4C7FC91B612FC17E0D903FCCAFCA25CA21307A25CA2130FA25CA2131FA25CA2
133FA25CA2137FA291CBFC497EB6FCA33B397DB835>80 D<EB03F0EA01FFA3EA00075CA3
130F5CA3131F5CA3133F91C9FCA35B90387E03F8EC0FFF91383C0F809039FEF007C0D9FD
C07FEBFF80EC0003485A5BA249130712035BA2150F00075D5BA2151F000F5D5B153F93C7
FC121F4990387F0180157EEDFE03003F02FC130090C7FC5EEDF80648150E007E150C161C
5E00FEEC787048EC3FE00038EC0F80293B7CB930>104 D<EB03F0EA01FFA3EA00075CA3
130F5CA3131F5CA3133F91C8FCA35B017EEB07C0ED1FF0ED783801FEEBE0F89039FC01C1
FCEC0383EC07070001130ED9F81C13F891383803F091387001E0000349C7FCEBF1C0EBF3
8001F7C8FCEA07FEA2EBFFE0EBE7F8380FE0FEEBC07F6E7E141F001F80D9800F1330A216
70003F011F136001001380A216E04815C0007E1481020F1380158300FE903807870048EB
03FE0038EB00F8263B7CB92B>107 D<EB0FC0EA03FF5AA2EA001F1480A2133FA21400A2
5BA2137EA213FEA25BA21201A25BA21203A25BA21207A25BA2120FA25BA2121FA25BA212
3FA290C7FCA25AA2EA7E03A2EAFE07130612FCA2130E130C131C1318EA7C38EA3C70EA1F
E0EA0780123B7DB919>I<D803E0017F14FE3D07F801FFE003FFC03D0E3C0781F00F03E0
3D1C3E1E00F83C01F026383F38D9FC707F00304914E04A90387DC000007049EB7F800060
4991C7FCA200E090C700FE1301485A017E5CA200000201140301FE5F495CA20303140700
0160495C180F03075D1203494A011F13601980030F023F13E00007F000C0495C1901031F
023E1380000F1803494A150061033F150E001FEF1E1C4991C7EA0FF80007C7000EEC03E0
43267EA449>I<D803E0137F3A07F801FFE03A0E3C0781F03A1C3E1E00F826383F387F00
305B4A137C00705B00605BA200E090C712FC485A137EA20000140101FE5C5BA215030001
5D5B15075E120349010F133016C0031F13700007ED80605B17E0EE00C0000F1501491580
1603EE0700001FEC0F0E49EB07FC0007C7EA01F02C267EA432>I
E
%EndDVIPSBitmapFont
/Fp 134[50 2[50 50 50 50 50 50 50 50 50 50 50 2[50 1[50
50 50 50 50 50 50 7[50 50 50 1[50 50 50 50 1[50 50 50
50 50 50 1[50 50 50 50 50 50 50 50 50 18[50 50 2[50 42[{
TeXBase1Encoding ReEncodeFont}45 83.022 /Courier-Oblique
rf /Fq 133[50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 1[50 4[50 50 50 50
50 50 50 50 50 1[50 50 50 50 50 50 1[50 50 50 50 50 50
50 50 50 1[50 50 1[50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 33[{
TeXBase1Encoding ReEncodeFont}81 83.022 /Courier rf /Fr
134[86 1[124 86 96 57 67 76 1[96 86 96 143 48 96 1[48
96 86 1[76 96 76 96 12[124 115 10[67 2[105 2[124 1[124
18[43 4[57 57 57 39[{TeXBase1Encoding ReEncodeFont}30
172.188 /Times-Bold rf /Fs 134[42 42 60 42 46 28 32 37
1[46 42 46 69 23 46 1[23 46 42 28 37 46 37 46 42 9[83
1[60 1[46 2[51 2[78 55 2[32 65 1[51 2[60 55 60 1[42 4[28
42 42 42 42 42 42 42 42 42 42 23 21 4[28 28 37[46 2[{
TeXBase1Encoding ReEncodeFont}52 83.022 /Times-Bold rf
/Ft 134[50 50 72 50 55 33 39 44 55 55 50 55 83 28 55
1[28 55 50 33 44 55 44 55 50 7[72 72 100 72 72 66 55
72 1[61 78 72 94 66 78 1[39 78 78 61 66 72 72 66 72 7[50
50 50 50 50 50 50 50 50 50 1[25 33 25 1[50 33 33 33 36[55
2[{TeXBase1Encoding ReEncodeFont}65 99.6264 /Times-Bold
rf /Fu 135[60 86 60 66 40 47 53 1[66 60 66 100 33 66
1[33 66 60 40 53 66 53 66 60 9[120 86 2[66 2[73 2[113
3[47 93 1[73 2[86 80 86 8[60 60 60 60 60 60 60 60 2[30
43[66 2[{TeXBase1Encoding ReEncodeFont}43 119.552 /Times-Bold
rf /Fv 104[83 42 27[37 42 42 60 42 42 23 32 28 42 42
42 42 65 23 42 23 23 42 42 28 37 42 37 42 37 28 2[28
1[28 1[60 60 78 60 60 51 46 55 1[46 60 60 74 51 60 32
28 60 60 46 51 60 55 55 60 1[37 3[23 23 42 42 42 42 42
42 42 42 42 42 23 21 28 21 1[42 28 28 28 5[28 29[46 46
2[{TeXBase1Encoding ReEncodeFont}79 83.022 /Times-Roman
rf
%DVIPSBitmapFont: Fw cmr12 12 1
/Fw 1 65 df<ED1FFC4AB512C0913907E003F0021EC7123C0278140FD901E0EC03C0D903
80EC00E0010FC91278011C161C4982498249707E4916010001844848D90FF06D7E90C7D8
3FFC146048DAFC0F1470000E902703F003C07F000C902707C000E01318001CD91F800170
131C0018013F6E130C003891C76C130E0030017E91380FF00614FE00704902071307D860
0183A2495AA200E019804848481601AB6C6C7E1260A26D7E1903D87000180000306D140F
147E00386D141F00186E013F5B001C011F02771306000CD907C09038E3F80E000E902703
F003C35B6C903B00FC0F00FC386CDA3FFCEB7FF06DD90FF0EB0FC06C6C90CBFC12007F13
707F7F010FEF1F80D90380167FD901E0923803FE00D90078ED1FF0021E913801FF80DA07
E0D97FF8C7FC0201B6C8FCDA001F13C041477BC54C>64 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fx cmmi12 12 10
/Fx 10 118 df<121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A0A78891B>58
D<EC0FC0EC7FF0903901F8381C903907E01C7E90380FC00E90393F0007FE496D5A13FE48
5A49130100035D485A120F491303001F5DA2485A1507007F5D5BA2150F00FF5D90C7FCA2
151F5E5AA2033F1330EE00701760A24B13E017C015FE007E130102031301003ED9073E13
80003F010E13036C011C14006C6C486C5A3A07C0F00F0E3A01FFC007FC3A007F0001F02C
2D7CAB33>97 D<EB0FE0EA07FFA338001FC0130F131FA25CA3133F91C8FCA35B137EA313
FE5BA312015BEC0FC0EC3FF00003EBF07C9038F3C03E9038F7001F01FE14804848130F49
14C05B16E0485A5BA3121F5BA2151F123F90C7FCA2153F4815C0127EA2157F16805A1600
5DA24A5A007C5CA24A5A4A5A5D003C130F003E495A001E495A001F017EC7FC6C5B3807C1
F03801FFC06C6CC8FC23467CC429>I<EC07F8EC3FFF9138FC07C0903903F000E0494813
70D91F80133049C71270017EEB03F801FE1307485A4848EB0FF012075B000FEC07C04848
90C7FCA2485AA2127F5BA312FF90C9FCA45AA5161816381670007E15E0ED01C06CEC0380
ED07006C6C131E000F14383907C001F03903F00FC02600FFFEC7FCEB1FF0252D7CAB2A>
I<EC07F8EC3FFE903901FC0780903903F003C090390FC001E090381F8000017FC7FC01FE
1470485A484814F0000715E05B000F1401484814C015034848EB0780ED1F0015FC007FEB
1FF090B5128002F0C7FC0180C8FC12FF90C9FCA55AA41618007E15381670007F15E06CEC
01C0ED03806CEC07006C6C131E6D13383907E001F03901F00FC026007FFEC7FCEB1FF025
2D7CAB2D>101 D<141E143F5C5CA3147E143891C7FCAE133EEBFF803801C3C0380781E0
380601F0120E121CEA180312381230A2EA700700605BA2EAE00F00C05BEA001F5CA2133F
91C7FCA25B137E13FE5BA212015BEC03800003140013F01207495A1406140E140CEBC01C
141814385C00035BEBE1C0C6B45A013EC7FC19437DC121>105 D<14FE137FA3EB01FC13
001301A25CA21303A25CA21307A25CA2130FA25CA2131FA25C163F013FECFFC0923803C0
E09138000703ED1E0F491338ED701F017E13E0EC01C001FE018013C00203EB07004948C8
FC140E00015B5C495A5C3803FBC001FFC9FC8014F83807F1FE9038F03F809038E00FE06E
7E000F130381EBC001A2001FED01C017801380A2003F15031700010013F05E481506160E
007E150C161C00FE01005BED787048EC3FE00038EC0F802B467BC433>107
D<EB03F8EA01FFA3380007F013031307A214E0A2130FA214C0A2131FA21480A2133FA214
00A25BA2137EA213FEA25BA21201A25BA21203A25BA21207A25BA2120FA25BA2121FA25B
A2123FA290C7FCA248136014E0007E13C0A2130100FE138012FCA21303007C13005B1306
EA3E0EEA1E1CEA0FF8EA03E015467CC41D>I<01F8EB0FC0D803FEEB7FF0D8070FEBF038
000E903883C07C3A0C07C701FC001C13CE0018EBDC03003813D8003013F8D90FF013F800
709038E000E0006015005C12E0EAC01F5C1200A2133F91C8FCA35B137EA313FE5BA31201
5BA312035BA312075BA3120F5BEA0380262D7DAB2C>114 D<133ED9FF8014E02603C3C0
EB03F0380703E0380601F0000E1507121CD818035D12380030150FA2D870075D00605B16
1FEAE00F00C0495CEA001F4A133FA2013F92C7FC91C7FC5E5B017E147EA216FE13FE495C
A20301EB01801703484802F81300A25F0303130616F000001407030F130E6D010D130C01
7C011D131C033913186D9038F0F838903A1F03C07870903A07FF803FE0903A01FC000F80
312D7DAB38>117 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fy cmsy10 12 2
/Fy 2 106 df<140C141E143EA2143C147CA214F8A214F01301A2EB03E0A214C01307A2
EB0F80A214005BA2133EA2133C137CA2137813F8A2485AA25B1203A2485AA25B120FA248
C7FCA2121E123EA25AA2127812F8A41278127CA27EA2121E121FA26C7EA212077FA26C7E
A212017FA26C7EA21378137CA2133C133EA27FA27F1480A2EB07C0A2130314E0A2EB01F0
A2130014F8A2147CA2143C143EA2141E140C176476CA27>104 D<126012F07EA2127812
7CA27EA2121E121FA26C7EA212077FA26C7EA212017FA26C7EA21378137CA2133C133EA2
7FA27F1480A2EB07C0A2130314E0A2EB01F0A2130014F8A2147CA2143C143EA4143C147C
A214F8A214F01301A2EB03E0A214C01307A2EB0F80A214005BA2133EA2133C137CA21378
13F8A2485AA25B1203A2485AA25B120FA248C7FCA2121E123EA25AA2127812F8A25A1260
17647BCA27>I E
%EndDVIPSBitmapFont
/Fz 134[50 3[50 28 39 33 3[50 1[28 6[44 3[44 14[66 1[55
4[72 39 8[72 10[50 1[50 1[50 1[50 1[25 1[25 2[33 33 40[{
TeXBase1Encoding ReEncodeFont}22 99.6264 /Times-Roman
rf /FA 135[72 2[72 40 56 48 2[72 1[112 40 2[40 72 72
48 64 72 1[72 64 16[80 6[48 1[104 80 2[96 1[104 6[40
5[72 5[36 6[48 39[{TeXBase1Encoding ReEncodeFont}26 143.462
/Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 801 2120 a FA(CCIF:)34 b(the)i(mmCIF)e(toolbox)g(for)h(CCP4.)43
b(A)1347 2302 y(Programmer')-8 b(s)33 b(Guide)1243 2709
y Fz(Peter)26 b(A.)f(K)n(eller)f Fy(h)p Fx(k)s(el)r(l)r(er)s
Fw(@)p Fx(ebi:ac:uk)s Fy(i)1330 2992 y Fz(Release)i(0.4)e(\(January)h
(26,)f(2004\))p eop
%%Page: 1 2
1 1 bop 639 523 a Fv(Cop)o(yright)19 b(\(c\))h(1995)f(-)h(2004,)f
(EMBL,)h(Peter)g(K)n(eller)639 664 y(CCIF:)j(a)f(library)e(to)h(access)
h(and)f(output)f(data)i(conforming)c(to)j(the)h(CIF)g
(\(Crystallographic)515 764 y(Information)e(File\))j(and)f(mmCIF)h
(\(Macromolecular)c(CIF\))k(speci\002cations,)g(and)f(other)g(related)
515 863 y(speci\002cations.)639 1005 y(Where)g(the)g(terms)g(and)f
(conditions)f(of)i(the)g(CCP4)g(licence)g(agreement)e(apply)h(to)h
(this)g(code)515 1104 y(\(including,)f(b)n(ut)h(not)h(limited)f(to,)h
(its)h(acquisition)e(as)h(a)g(component)d(of)i(the)h(CCP4)h(distrib)n
(ution)515 1204 y(and/or)h(its)i(use)g(in)g(b)n(uilding)e(an)i(e)o(x)o
(ecutable)d(program)h(that)h(uses)h(other)f(CCP4)h(components\),)515
1303 y(this)20 b(code)g(is)h(distrib)n(uted)e(as)i(P)o(art)g(1)f(softw)
o(are.)k(See)d(the)f(CCP4)h(licence)f(\(Anne)o(x)f(2\).)1926
5255 y(1)p eop
%%Page: 2 3
2 2 bop 515 523 a Fu(Contents)515 851 y Ft(Intr)n(oduction)2275
b(5)515 1179 y(I)99 b(Intr)n(oduction)27 b(to)e(CIF')l(s.)1737
b(5)515 1403 y Fs(1)82 b(Ho)o(w)20 b(the)h(CIF)f(speci\002ction)h(w)o
(orks.)1562 b(5)639 1544 y Fv(1.1)86 b(Analysing)19 b(te)o(xt)h
(\002les.)37 b(.)k(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)165
b(5)639 1685 y(1.2)86 b(Ho)n(w)20 b(this)h(is)g(applied)e(to)i(CIF')-5
b(s.)60 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)165 b(6)639 1826 y(1.3)86
b(The)20 b(structure)f(of)h(CIF')-5 b(s,)21 b(and)f(the)g(role)g(of)g
(CIF)h(dictionaries.)45 b(.)c(.)g(.)h(.)f(.)g(.)g(.)h(.)165
b(7)639 1968 y(1.4)86 b(More)20 b(about)f(CIF)i(cate)o(gories)58
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)165 b(7)639 2109 y(1.5)86 b(The)20
b(speci\002cation)g(of)f(null)h(and)g(unkno)n(wn)e(v)n(alues.)42
b(.)g(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)165
b(9)639 2250 y(1.6)86 b(Pri)n(vile)o(ged)19 b(ST)-8 b(AR)21
b(constructs,)e(and)h(non-quoted)d(te)o(xt.)51 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(10)515
2578 y Ft(II)99 b(Using)24 b(CCIF)-11 b(.)2061 b(10)515
2802 y Fs(2)82 b(Basic)21 b(Concepts)2119 b(10)639 2943
y Fv(2.1)86 b(Logical)20 b(names)f(and)h(input)g(and)f(output)g
(\002les)36 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)124 b(10)639 3084 y(2.2)86 b(Specifying)19 b(data)h(within)g(a)
g(\002le)77 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(12)639 3225 y(2.3)86
b(Sorting)19 b(and)h(searching.)79 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(12)830 3367 y(2.3.1)98 b(Searching)19 b(for)g(v)n(alues)h(in)g(a)h
(CIF)-7 b(.)71 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)124 b(13)639 3508 y(2.4)86 b(Error)19
b(reporting)f(and)i(diagnostics)38 b(.)k(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(15)830
3649 y(2.4.1)98 b(Setting)20 b(output)f(states)i(using)f(the)g(en)m
(vironment)57 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(16)830 3790 y(2.4.2)98 b(Loops)19 b(with)i(missing)f(or)g(e)o
(xtraneous)e(data)i(v)n(alues)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
124 b(16)830 3931 y(2.4.3)98 b(Contents)20 b(of)g(the)g(mmCIF)g
(dictionary)37 b(.)k(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)124 b(17)515 4155 y Fs(3)82 b(Writing)20 b(pr)o(ograms)g(using)g
(CCIF)h(and)g(CCP4)1188 b(17)515 4483 y Ft(III)99 b(Functions)25
b(pr)n(o)o(vided)h(by)f(CCIF)1325 b(18)1926 5255 y Fv(2)p
eop
%%Page: 3 4
3 3 bop 515 523 a Fs(4)82 b(File)21 b(handling)f(functions)1840
b(19)639 664 y Fv(4.1)86 b(CCIF)p 1019 664 25 4 v 31
w(INIT)71 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(19)639 805 y(4.2)86 b(CCIF)p 1019 805 V 31 w(LO)m(AD)p
1278 805 V 29 w(CIF)38 b(.)k(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(19)639 946 y(4.3)86 b(CCIF)p 1019 946 V 31 w(NEW)p
1239 946 V 30 w(CIF)76 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(20)639 1088 y(4.4)86 b(CCIF)p 1019 1088 V 31 w(PRINT)p
1290 1088 V 29 w(CIF)26 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(21)639 1229 y(4.5)86 b(CCIF)p 1019 1229 V 31 w(CLOSE)p
1313 1229 V 29 w(CIF)66 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(21)639 1370 y(4.6)86 b(CCIF)p 1019 1370 V 31 w(CHECK)p
1331 1370 V 30 w(CIF)47 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(22)515 1594 y Fs(5)82 b(Handling)20 b(blocks)h(and)g(contexts)1610
b(22)639 1735 y Fv(5.1)86 b(CCIF)p 1019 1735 V 31 w(BLOCK)p
1331 1735 V 30 w(BY)p 1476 1735 V 30 w(N)m(AME)38 b(.)j(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
124 b(22)639 1876 y(5.2)86 b(CCIF)p 1019 1876 V 31 w(BLOCK)p
1331 1876 V 30 w(BY)p 1476 1876 V 30 w(INDEX)21 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)124 b(23)639 2017 y(5.3)86 b(CCIF)p
1019 2017 V 31 w(SETUP)p 1304 2017 V 29 w(CONTEXT)65
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)124 b(24)639 2159 y(5.4)86 b(CCIF)p
1019 2159 V 31 w(RELEASE)p 1415 2159 V 29 w(CONTEXT)78
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)124 b(25)639 2300 y(5.5)86 b(CCIF)p 1019
2300 V 31 w(CONTEXT)p 1438 2300 V 29 w(ST)-8 b(A)f(TUS)22
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)124 b(25)515 2524 y Fs(6)82 b(Accessing)21
b(data)e(v)o(alues)1892 b(26)639 2665 y Fv(6.1)86 b(CCIF)p
1019 2665 V 31 w(ITEM)p 1254 2665 V 28 w(TYPE)47 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(28)639 2806
y(6.2)86 b(Items)20 b(common)f(to)h(the)g(CCIF)p 1743
2806 V 31 w(GET)p 1936 2806 V 29 w(*)g(functions.)49
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(29)639 2947 y(6.3)86 b(CCIF)p 1019 2947 V 31 w(GET)p
1212 2947 V 29 w(INT)32 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)124 b(29)639 3088 y(6.4)86 b(CCIF)p 1019 3088 V 31
w(GET)p 1212 3088 V 29 w(REAL)79 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)124 b(29)639 3230 y(6.5)86 b(CCIF)p 1019 3230 V 31
w(GET)p 1212 3230 V 29 w(REAL)p 1458 3230 V 30 w(ESD)79
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(30)639 3371 y(6.6)86
b(CCIF)p 1019 3371 V 31 w(GET)p 1212 3371 V 29 w(CHAR)66
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(30)639
3512 y(6.7)86 b(CCIF)p 1019 3512 V 31 w(GET)p 1212 3512
V 29 w(TEXT)20 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(31)639 3653 y(6.8)86 b(Items)20 b(common)f(to)h(the)g(CCIF)p
1743 3653 V 31 w(PUT)p 1931 3653 V 29 w(*)h(functions.)53
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(32)639 3794 y(6.9)86 b(CCIF)p 1019 3794 V 31 w(PUT)p
1207 3794 V 29 w(REAL)21 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
124 b(33)639 3935 y(6.10)44 b(CCIF)p 1019 3935 V 31 w(PUT)p
1207 3935 V 29 w(REAL)p 1453 3935 V 30 w(ESD)21 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(33)639 4076 y(6.11)44
b(CCIF)p 1019 4076 V 31 w(PUT)p 1207 4076 V 29 w(INT)37
b(.)k(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(33)639
4218 y(6.12)44 b(CCIF)p 1019 4218 V 31 w(PUT)p 1207 4218
V 29 w(CHAR)71 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(34)639 4359 y(6.13)44 b(CCIF)p 1019 4359 V 31 w(PUT)p
1207 4359 V 29 w(TEXT)25 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
124 b(34)639 4500 y(6.14)44 b(Special)20 b(considerations)f(for)g
(handling)g(esd')-5 b(s.)67 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)124 b(35)639 4641 y(6.15)44 b(CCIF)p
1019 4641 V 31 w(COPY)p 1271 4641 V 30 w(R)m(O)m(W)49
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(35)1926
5255 y(3)p eop
%%Page: 4 5
4 4 bop 515 523 a Fs(7)82 b(Sorting)20 b(and)h(sear)o(ching)1877
b(36)639 664 y Fv(7.1)86 b(CCIF)p 1019 664 25 4 v 31
w(SETUP)p 1304 664 V 29 w(SOR)-5 b(T)59 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)124 b(36)639 805 y(7.2)86 b(CCIF)p 1019 805 V
31 w(ADD)p 1230 805 V 29 w(T)o(O)p 1369 805 V 29 w(SOR)-5
b(T)56 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(36)639 946
y(7.3)86 b(CCIF)p 1019 946 V 31 w(DO)p 1170 946 V 29
w(SOR)-5 b(T)68 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(37)639 1088 y(7.4)86 b(CCIF)p 1019 1088 V 31 w(RELEASE)p
1415 1088 V 29 w(SOR)-5 b(T)73 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(38)639 1229 y(7.5)86 b(CCIF)p 1019 1229 V 31 w(SOR)-5
b(T)p 1257 1229 V 30 w(CONTEXT)49 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(38)639 1370 y(7.6)86 b(CCIF)p 1019 1370 V 31 w(SEARCH)p
1377 1370 V 30 w(CONTEXT)53 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124 b(39)515
1594 y Fs(8)82 b(Miscellaneous)21 b(functions)1810 b(40)639
1735 y Fv(8.1)86 b(CCIF)p 1019 1735 V 31 w(OUTPUT)p 1378
1735 V 29 w(FMT)21 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(40)639 1876 y(8.2)86 b(CCIF)p 1019 1876 V 31 w(SET)p
1198 1876 V 29 w(MSG)67 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)124
b(41)639 2017 y(8.3)86 b(CCIF)p 1019 2017 V 31 w(SET)p
1198 2017 V 29 w(LINE)p 1417 2017 V 29 w(LIMIT)46 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)124 b(42)515 2345 y Ft(IV)99 b(Things)25
b(CCIF)g(does)g(not)g(do)g(\(y)o(et\).)1244 b(42)515
2673 y(V)99 b(Ackno)o(wlegements)1826 b(43)1926 5255
y Fv(4)p eop
%%Page: 5 6
5 5 bop 515 559 a Fr(Intr)m(oduction.)515 812 y Fv(I')o(ll)20
b(think)g(of)f(something)g(pithy)g(to)i(put)e(in)i(here)e(in)i(due)e
(course)515 1152 y Fu(P)o(art)29 b(I)515 1401 y Fr(Intr)m(oduction)43
b(to)h(CIF')-6 b(s.)515 1704 y Fu(1)119 b(Ho)o(w)30 b(the)g(CIF)g
(speci\002ction)h(w)o(orks.)515 1948 y Ft(1.1)99 b(Analysing)24
b(text)h(\002les.)515 2145 y Fv(A)36 b(CIF)h(is)g(a)f(te)o(xt)g
(\002le,)k(which)35 b(is)i(designed)e(to)h(be)g(machine-readable,)g
(and)f(also)h(human-)515 2245 y(readable,)31 b(by)f(people)g(who)g(are)
g(kno)n(wledgeable)e(about)h(the)i(speci\002cation.)55
b(\(In)29 b(this)i(sense,)515 2344 y(CIF')-5 b(s)19 b(are)f(similar)g
(to)g(source)f(code)h(written)g(in)g(programming)c(languages)j(such)h
(as)g(F)o(ortran)f(and)515 2444 y(C.\))k(The)f(f)o(act)h(that)g(human)f
(beings)g(ha)n(v)o(e)g(v)o(ery)g(dif)n(ferent)f(w)o(ays)i(of)g
(analysing)e(and)i(assimilating)515 2544 y(information)e(from)h
(`ordinary')f(computer)g(programs,)h(has)i(important)e(consequences)f
(for)i(ho)n(w)515 2643 y(the)d(rules)h(for)e(such)i(\002les)g(are)f
(speci\002ed.)25 b(In)18 b(general,)f(a)i(computer)e(program)f(cannot)h
(just)i(glance)515 2743 y(at)g(a)g(the)g(contents)f(of)g(an)h
(arbitrary)e(te)o(xt)h(\002le,)i(form)d(an)i(o)o(v)o(erall)e
(impression)h(of)g(its)i(contents,)e(and)515 2843 y(then)i(skip)g(to)h
(the)g(rele)n(v)n(ant)e(bit,)i(as)g(a)g(human)e(being)h(w)o(ould.)25
b(The)20 b(program)f(has)i(to)f(read)g(the)h(\002le)515
2942 y(as)k(a)g(stream)f(of)g(characters,)h(and)e(interpret)h(them)g
(according)e(to)j(a)g(set)g(of)f(rules,)h(before)e(it)i(has)515
3042 y(an)o(y)19 b(access)i(to)f(the)g(information)e(which)i(is)h
(contained)e(in)h(the)g(\002le.)639 3183 y(This)31 b(process)f(f)o
(alls,)k(broadly)-5 b(,)31 b(into)f(three)g(stages.)57
b(The)30 b(\002rst)i(stage)e(is)i(kno)n(wn)d(as)i(`le)o(xi-)515
3283 y(cal)23 b(analysis',)g(and)f(in)m(v)n(olv)o(es)f(identifying)g
(important)g(groups)g(of)i(bytes,)g(which)f(are)h(kno)n(wn)e(as)515
3382 y(`tok)o(ens'.)i(F)o(or)d(e)o(xample,)f(in)h(a)h(fragment)d(of)i
(a)h(CIF)g(such)f(as:)664 3706 y Fq(data_EXAMPLE)814
3905 y(_symmetry.entry_id)893 b(EXAMPLE)814 4005 y
(_symmetry.space_group_name_H-M)243 b('P)50 b(21)f(21)g(21)149
b(')639 4428 y Fv(we)22 b(w)o(ould)g(start)g(by)f(noting)g(that)h(the)g
(input)f(be)o(gins)g(with)h(a)g(data)g(block)f(heading,)f(which)i(is)
515 4528 y(identi\002ed)h(by)h(its)h(initial)f(\002)n(v)o(e)g(bytes)g
(`)p Fq(d)p Fv(',)h(`)p Fq(a)o Fv(',)g(`)p Fq(t)p Fv(',)g(`)p
Fq(a)o Fv(',)g(`)p 2267 4528 25 4 v 30 w(',)g(and)e(which)h(continues)f
(up)g(to)i(the)515 4628 y(ne)o(xt)17 b(space)g(character)-5
b(.)23 b(W)-7 b(e)19 b(then)e(ha)n(v)o(e)g(a)h(data)f(name)g(\(which)g
(be)o(gins)f(with)i(a)g(`)p 2827 4628 V 29 w('\),)g(a)g(non-quoted)515
4727 y(te)o(xt)i(string,)f(another)g(data)h(name,)g(and)f(a)i
(single-quoted)d(te)o(xt)i(string.)639 4868 y(The)25
b(input)e(into)i(this)g(process)f(consists)h(of)f(a)h(byte)f(stream)h
(of)f(about)g(120)g(characters,)g(and)515 4968 y(the)41
b(output)e(is)j(a)f(`tok)o(en)f(stream')g(consisting)g(of)h(the)g(\002)
n(v)o(e)f(tok)o(ens)h Fq(<data)p 2936 4968 V 29 w(heading>)n
Fv(,)1926 5255 y(5)p eop
%%Page: 6 7
6 6 bop 515 523 a Fq(<data)p 770 523 25 4 v 29 w(name>)o
Fv(,)163 b Fq(<non)p 1432 523 V 29 w(quoted)p 1761 523
V 29 w(text)p 1990 523 V 29 w(string>)o Fv(,)g Fq(<data)p
2802 523 V 29 w(name>)o Fv(,)g(and)515 623 y Fq(<single)p
870 623 V 28 w(quoted)p 1198 623 V 29 w(text)p 1427 623
V 29 w(string>)o Fv(.)150 b(In)61 b(this)h(process,)71
b(le)o(xically)61 b(unimportant)515 722 y(characters)36
b(are)h(discarded,)k(for)36 b(e)o(xample)g(spaces)i(which)f(separate)g
(tok)o(ens)f(\(although)g(the)515 822 y(spaces)20 b(in)h(the)f(quoted)e
(string)i(are)g(signi\002cant,)g(and)g(so)g(are)g(retained\).)639
963 y(The)49 b(ne)o(xt)f(step)h(in)g(the)g(process)g(of)f(interpreting)
f(the)i(information,)54 b(is)49 b(kno)n(wn)f(as)515 1063
y(`syntactical)40 b([or)g(grammatical])f(analysis'.)85
b(At)42 b(this)f(stage,)k(the)c(tok)o(en)f(stream)g(is)i(anal-)515
1162 y(ysed)f(\(or)g(parsed\),)46 b(and)c(check)o(ed)e(for)h(errors.)89
b(F)o(or)42 b(e)o(xample,)j(a)e Fq(<data)p 2921 1162
V 29 w(name>)e Fv(may)515 1262 y(not)j(be)g(follo)n(wed)f(by)i(a)f
Fq(<data)p 1592 1262 V 29 w(heading>)g Fv(in)h(the)f(tok)o(en)g
(stream,)50 b(and)44 b(such)g(a)h(se-)515 1362 y(quence)29
b(should)h(cause)h(an)g(error)f(condition)f(to)i(occur)-5
b(.)56 b(A)32 b Fq(<data)p 2599 1362 V 29 w(name>)e Fv(follo)n(wed)g
(by)g(a)515 1461 y Fq(<single)p 870 1461 V 28 w(quoted)p
1198 1461 V 29 w(text)p 1427 1461 V 29 w(string>)25 b
Fv(is)i(allo)n(wed,)f(and)f(means)g(that)h(the)f(contents)g(of)h(the)
515 1561 y(te)o(xt)20 b(is)h(assigned)f(to)g(the)g(data)g(name.)639
1702 y(The)15 b(third)g(stage)h(is)g(kno)n(wn)e(as)j(`semantic)e
(analysis',)g(and)g(consists)h(of)g(actually)f(interpreting)515
1802 y(the)k(results)g(of)f(the)h(pre)n(vious)e(stage.)25
b(In)18 b(our)g(e)o(xample)f(abo)o(v)o(e,)h(it)h(is)h(during)d(this)i
(process)f(that)h(we)515 1901 y(note)j(that)i(the)f(data)g(name)p
1325 1901 V 52 w Fp(symmetry.space)p 2055 1901 V 28 w(group)p
2333 1901 V 29 w(name)p 2562 1901 V 29 w(H-M)32 b Fv(refers)23
b(to)g(the)h(space)515 2001 y(group)k(name)i(in)h(Hermann-Mauguin)26
b(notation,)31 b(and)f(that)h(in)f(this)h(CIF)-7 b(,)31
b(it)g(is)h(de\002ned)d(to)i(be)515 2100 y Fo(P)12 b
Fn(2)622 2112 y Fm(1)658 2100 y Fn(2)700 2112 y Fm(1)737
2100 y Fn(2)779 2112 y Fm(1)816 2100 y Fv(.)639 2242
y(In)17 b(practice,)f(there)g(can)g(be)h(some)f(\003e)o(xibility)g
(about)f(where)h(syntactical)h(analysis)f(tak)o(es)h(o)o(v)o(er)515
2341 y(from)h(le)o(xical)i(analysis)f(\227)i(the)e(discussion)h(abo)o
(v)o(e)e(re\003ects)i(the)f(w)o(ay)h(it)h(has)e(been)g(implemented)515
2441 y(in)j(CCIF)-7 b(.)24 b(An)o(y)e(application)f(which)h(is)i
(written)e(to)h(accept)f(its)i(input)e(as)h(a)g(sequence)e(of)i
(charac-)515 2540 y(ters,)k(is)g(implementing)d(these)i(three)g(stages)
g(of)g(analysis)g(\(at)g(least)h(implicitly\).)42 b(This)26
b(applies)515 2640 y(e)n(v)o(en)19 b(to)h(the)g(simplest)h(`jif)n(fy')e
(program.)515 2919 y Ft(1.2)99 b(Ho)o(w)24 b(this)h(is)f(applied)i(to)f
(CIF')l(s.)515 3116 y Fv(It)g(is)h(w)o(orthwile)f(being)f(clear)h
(about)f(these)i(three)e(stages)i(of)f(analysis,)h(since)g(otherwise)e
(there)515 3216 y(is)c(scope)e(for)g(misinterpreting)f(the)i(contents)f
(of)h(the)f(CIF)i(dictionaries,)e(or)g(becoming)f(confused)515
3316 y(about)25 b(what)h(the)g(CIF)g(standard)f(can)h(and)f(cannot)g
(specify)-5 b(.)41 b(This)26 b(is)h(because)f(the)g(le)o(xical)f(and)
515 3415 y(syntactical)19 b(rules)h(which)g(CIF')-5 b(s)21
b(and)e(CIF)i(dictionaries)e(follo)n(w)g(are)h(part)g(of)g(a)g
(standard)f(kno)n(wn)515 3515 y(as)32 b(ST)-8 b(AR)820
3485 y Fl(1)885 3515 y Fv(which)31 b(e)o(xists)g(independently)d(of)j
(CIF)-7 b(.)32 b(This)g(means)f(that)g(e)n(v)o(ery)f(CIF)i(\(and)e(CIF)
515 3615 y(dictionary\))f(must)i(be)g(a)g(v)n(alid)g(ST)-8
b(AR)32 b(\002le,)i(and)d(nothing)e(can)i(be)g(introduced)e(into)i(the)
g(CIF)515 3714 y(standard)25 b(which)h(w)o(ould)g(allo)n(w)g(a)h(CIF)g
(to)g(be)f(in)m(v)n(alid)g(according)e(to)i(the)h(ST)-8
b(AR)27 b(rules)3133 3684 y Fl(2)3166 3714 y Fv(.)44
b(This)515 3814 y(has)20 b(important)e(consequences)g(for)h(the)h
(construction)d(of)j(non-quoted)c(te)o(xt)k(strings)g(\(see)g(belo)n(w)
-5 b(,)515 3913 y(section)20 b(1.6\).)639 4055 y(W)m(ith)f(this)g(in)f
(mind,)g(the)h(CIF)g(standard)e(can)h(be)g(seen)h(as)g(a)g(set)g(of)f
(restrictions)g(on)g(the)h(ST)-8 b(AR)515 4154 y(syntax)21
b(\(discussed)g(by)h(Hall)h Fk(et)f(al.)1562 4124 y Fl(3)1595
4154 y Fv(\))30 b(together)21 b(with)h(the)g(speci\002cation)f(of)h
(the)g(semantic)g(rules)p 515 4207 1146 4 v 605 4263
a Fj(1)660 4286 y Fi(Self-de\002ning)28 b(T)-5 b(e)o(xt)27
b(Archi)n(v)o(e)h(and)f(Retrie)n(v)n(al;)34 b(see)27
b(`The)f(ST)-6 b(AR)25 b(File:)41 b(Detailed)28 b(Speci\002cations',)k
(S.R.)10 b(Hall,)515 4365 y(N.)g(Spadaccini,)20 b Fh(J)n(.)d(Chem.)k
(Inf)o(.)g(Comput.)h(Sci)p Fi(,)17 b Fg(1994)p Fi(,)g
Fh(34)p Fi(,)g(505-508)605 4423 y Fj(2)634 4446 y Fi(Ho)n(we)n(v)o(er)m
(,)23 b(the)e(CIF)g(standard)h(can,)f(and)g(does,)g(forbid)h(certain)h
(constructions)g(which)e(are)g(allo)n(wed)i(in)d(ST)-6
b(AR.)20 b(In)515 4525 y(principle,)f(these)f(restrictions)i(could)e
(be)f(remo)o(v)o(ed)h(in)g(future)g(v)o(ersions)g(of)f(the)h(CIF)f
(standard.)605 4583 y Fj(3)664 4606 y Fi(`The)30 b(Crystallographic)35
b(Information)d(File)f(\(CIF\):)g(a)f(ne)n(w)g(Standard)i(Archi)n(v)o
(e)g(File)f(for)g(Crystallography',)515 4685 y(S.R.)10
b(Hall,)26 b(F)-5 b(.H.)10 b(Allen,)26 b(I.D.)11 b(Bro)n(wn,)26
b Fh(Acta)e(Cryst.)41 b Fg(1991)p Fi(,)26 b Fh(A47)p
Fi(,)f(655-685.)42 b(It)24 b(should)g(be)g(noted,)j(though,)f(that)f
(this)515 4764 y(paper)e(introduces)i(the)e(`core)h(CIF)e(dictionary',)
k(and)d(some)g(aspects)g(of)g(the)g(discussion)h(need)f(to)g(be)g
(quali\002ed)h(when)515 4843 y(applied)d(to)e(the)g(mmCIF)g(standard.)
27 b(In)19 b(particular)m(,)j(the)e(restriction)i(of)c(32)h(characters)
j(on)d(data)h(names)f(does)g(not)g(apply)515 4922 y(to)e(mmCIF)-5
b(.)1926 5255 y Fv(6)p eop
%%Page: 7 8
7 7 bop 515 523 a Fv(which)22 b(CIF')-5 b(s)25 b(follo)n(w)1166
493 y Fl(4)1197 523 y Fv(.)35 b(In)23 b(other)f(w)o(ords,)h(the)g(CIF)h
(standard)e(speci\002es)i(ho)n(w)e(crystallographic)515
623 y(and)e(structural)f(information)f(is)k(e)o(xpressed)d(by)h(the)h
(use)f(of)h(a)g(subset)f(of)g(the)h(ST)-8 b(AR)21 b(syntax,)f(and)515
722 y(ho)n(w)f(to)i(interpret)e(it.)515 1001 y Ft(1.3)99
b(The)26 b(structur)n(e)h(of)e(CIF')l(s,)f(and)i(the)g(r)n(ole)f(of)g
(CIF)f(dictionaries.)515 1199 y Fv(The)18 b(highest)f(le)n(v)o(el)h(of)
g(grouping)d(of)j(data)g(in)h(a)f(CIF)h(is)g(the)g(data)f(block.)23
b(This)18 b(be)o(gins)g(with)g(a)h(data)515 1298 y(block)i(header)f
(\(see)i(the)g(e)o(xample)e(abo)o(v)o(e\),)g(and)h(continues)g(to)h
(the)f(ne)o(xt)g(data)h(block)f(header)f(\(or)515 1398
y(end)c(of)g(\002le\).)24 b(Each)17 b(data)f(block)g(must)h(be)f
(uniquely)f(identi\002ed)h(by)h(the)f(characters)g(which)g(follo)n(w)
515 1498 y(the)23 b(`)p Fp(data)p 873 1498 25 4 v 29
w Fv(')g(part.)33 b(Data)23 b(de\002ned)f(in)i(a)f(data)g(block)f(is)i
(restricted)f(in)g(scope)g(to)g(that)g(block,)g(i.e.)515
1597 y(it)j(cannot)e(be)h(referred)e(to)j(from)e(outside)g(the)i(data)f
(block.)39 b(This)25 b(is)h(a)g(semantic)f(rule,)h(b)n(ut)f(it)h(is)515
1697 y(part)21 b(of)h(the)g(ST)-8 b(AR)23 b(speci\002cation,)e(so)i
(the)f(CIF)g(rules)g(may)g(not)f(specify)h(otherwise.)29
b(This)22 b(rule,)515 1796 y(in)i(combination)e(with)j(the)f
(restrictions)g(which)g(CIF)h(places)f(on)g(ST)-8 b(AR,)25
b(mean)f(that)h(each)f(data)515 1896 y(block)c(in)h(a)h(CIF)g(is)g
(self-contained,)d(and)h(independent)f(of)h(an)o(ything)f(in)j(the)f
(CIF)h(which)e(occurs)515 1996 y(outside)f(of)h(that)h(data)f(block.)
639 2137 y(The)37 b(data)g(block)g(contains)f(assignments)h(to)h(data)f
(names,)k(either)c(as)h Fq(<data)p 3106 2137 V 29 w(name>)515
2236 y(<data)p 770 2236 V 29 w(value>)30 b Fv(pairs,)i(or)e(in)h(a)g
(loop)e(structure,)j(\(which)e(w)o(orks)g(lik)o(e)g(a)h(table\).)55
b(It)31 b(is)h(the)515 2336 y(function)25 b(of)h(the)h(CIF)h
(dictionary)d(to)i(specify)f(the)h(properties)e(of)h(particular)g(data)
h(names)f(\(in-)515 2436 y(cluding,)j(crucially)-5 b(,)30
b(the)f(relationships)f(between)g(them\),)i(and)e(the)h(permitted)f
(forms)g(of)h(data)515 2535 y(v)n(alues)18 b(which)f(may)h(be)g
(assigned)g(to)h(them.)k(The)18 b(v)n(arious)g(items)g(are)g(grouped)e
(together)h(in)i(cate-)515 2635 y(gories,)e(which)g(are)h(de\002ned)f
(in)h(the)g(dictionary)-5 b(.)22 b(\(In)17 b(mmCIF)-7
b(,)18 b(the)f(part)h(of)f(the)h(data)g(name)f(which)515
2735 y(occurs)h(in)i(between)f(the)g(initial)h(`)p 1501
2735 V 30 w(')f(and)g(the)h(`)p Fq(.)o Fv(')g(is)h(the)e(name)g(of)g
(its)i(cate)o(gory)-5 b(.\))22 b(The)d(properties)515
2834 y(of)h(the)g(cate)o(gories)f(themselv)o(es)g(are)i(also)f
(de\002ned)f(in)i(the)f(dictionary)2560 2804 y Fl(5)2591
2834 y Fv(.)515 3113 y Ft(1.4)99 b(Mor)n(e)25 b(about)h(CIF)e
(categories)515 3311 y Fv(The)i(concept)g(of)h(cate)o(gories)e(is)j
(important)e(in)h(understanding)d(ho)n(w)i(loops)g(w)o(ork.)45
b(The)26 b(basic)515 3410 y(strucure)c(of)h(a)h(loop)e(is)j(de\002ned)d
(in)i(the)f(ST)-8 b(AR)24 b(speci\002cation;)h(the)e(CIF)h(standard)e
(e)o(xploits)h(this)515 3510 y(construction)17 b(to)j(represent)e(the)h
(contents)g(of)g(the)g(cate)o(gories)f(of)h(data)h(which)e(are)i
(de\002ned)e(in)i(the)515 3609 y(dictionaries.)32 b(All)23
b(the)g(data)g(names)g(in)g(the)g(header)e(of)i(a)g(loop)f(structure)g
(must)h(come)g(from)f(the)515 3709 y(same)17 b(CIF)h(cate)o(gory)-5
b(.)21 b(If)c(there)g(is)h(more)e(than)h(one)f(`pack)o(et')g(\(i.e.)24
b(ro)n(w\))16 b(in)i(the)f(loop,)f(each)h(pack)o(et)515
3809 y(must)22 b(be)g(uniquely)e(identi\002ed,)i(in)g(order)f(to)i
(distinguish)e(it)i(from)e(the)h(others.)30 b(This)23
b(is)g(done)e(by)515 3908 y(specifying)d(in)i(the)g(dictionary)e(that)i
(one)f(or)g(more)g(items)i(in)e(a)i(cate)o(gory)d(is/are)i(`k)o(e)o(y')
e(items.)26 b(No)515 4008 y(loop)20 b(pack)o(et)h(may)g(ha)n(v)o(e)f(a)
i(set)g(of)f(k)o(e)o(y)g(v)n(alues)1877 3978 y Fl(6)1931
4008 y Fv(which)f(are)h(identical)g(to)h(those)f(of)g(another)e(loop)
515 4108 y(pack)o(et.)27 b(As)22 b(an)g(e)o(xample,)e(in)h(the)g
Fp(REFLN)30 b Fv(cate)o(gory)-5 b(,)20 b(the)h(k)o(e)o(y)f(items)i(are)
f(those)g(which)g(specify)515 4207 y(the)f(Miller)g(indices)g
Fn(\()p Fo(h)14 b(k)j(l)r Fn(\))p Fv(.)p 515 4260 1146
4 v 605 4316 a Fj(4)634 4339 y Fi(Of)j(the)g(semantic)i(rules)f(which)f
(are)h(speci\002ed)h(by)d(ST)-6 b(AR,)19 b(there)i(is)f(one)g(which)h
(is)f(important)i(for)e(CIF')l(s.)29 b(This)20 b(is)515
4418 y(mentioned)f(in)e(the)h(ne)o(xt)g(section.)605
4476 y Fj(5)634 4499 y Fi(This)h(be)o(gs)h(the)f(question)i(as)e(to)h
(ho)n(w)f(one)h(kno)n(ws)f(which)h(properties)i(of)d(items)g(can)h(be)g
(le)o(gitimately)j(de\002ned)d(in)g(a)515 4578 y(CIF)e(dictionary)l(.)
27 b(The)19 b(answer)g(is)f(the)h(CIF)g(DDL)e(\(Dictionary)k
(De\002nition)g(Language\),)f(aka)f(the)g(schema.)25
b(Discussion)515 4657 y(of)14 b(DDL)-6 b(')l(s)14 b(seems)h(to)g
(confuse)h(almost)f(e)n(v)o(eryone,)j(so)c(no)h(more)g(will)g(be)g
(said)h(about)g(them)f(here,)h(e)o(xcept)g(to)f(point)h(out)f(that)515
4736 y(a)20 b(f)o(amily)i(of)e(CIF)g(dictionaries)k(may)c(e)o(xist,)i
(which)f(all)g(follo)n(w)h(the)f(same)f(DDL.)f(An)h(e)o(xample)i(of)e
(this)h(is)f(the)h(mmCIF)515 4815 y(dictionary)l(,)e(and)e(the)h
(forthcoming)h(NMRIF)e(dictionary)j(for)d(NMR)g(protein)i(structure)g
(determination.)605 4872 y Fj(6)634 4896 y Fi(A)e(set)g(of)g(k)o(e)o(y)
h(v)n(alues)h(is)e(sometimes)g(referred)i(to)e(in)h(database)h
(methodology)g(as)e(a)g(`tuple'.)1926 5255 y Fv(7)p eop
%%Page: 8 9
8 8 bop 515 540 a Fq(loop_)515 639 y(_atom_site.label_seq_id)515
739 y(_atom_site.group_PDB)515 839 y(_atom_site.type_symbol)515
938 y(_atom_site.label_atom_id)515 1038 y(_atom_site.label_comp_id)515
1137 y(_atom_site.label_asym_id)515 1237 y(_atom_site.auth_seq_id)515
1337 y(_atom_site.label_alt_id)515 1436 y(_atom_site.cartn_x)515
1536 y(_atom_site.cartn_y)515 1636 y(_atom_site.cartn_z)515
1735 y(_atom_site.occupancy)515 1835 y(_atom_site.B_iso_or_equiv)515
1934 y(_atom_site.footnote_id)515 2034 y(_atom_site.label_entity_id)515
2134 y(_atom_site.id)515 2233 y(.)49 b(HETA)g(CL)h(CL)249
b(CL)49 b(.)99 b(336)h(.)f(25.517)f(16.297)h(-6.059)814
2333 y(1.00)49 b(25.69)98 b(.)199 b(4)150 b(1683)515
2433 y(.)49 b(HETA)g(CL)h(CL)249 b(CL)49 b(.)99 b(343)h(.)149
b(8.030)98 b(39.142)h(10.823)814 2532 y(1.00)49 b(27.91)98
b(.)199 b(4)150 b(1690)515 2632 y(#)49 b(other)g(atoms)g(deleted)1137
2997 y Fv(Figure)20 b(1:)25 b(The)20 b(choride)f(ions)h(from)f
(structure)g(5HVP)-9 b(.)p 639 3135 2865 4 v 639 3405
a(The)21 b(v)n(arious)f(cate)o(gories)f(are)i(connected)e(by)i
(`child-parent')c(links.)27 b(This)21 b(allo)n(ws)h(informa-)515
3505 y(tion)d(which)h(is)h(speci\002ed)e(in)h(one)g(cate)o(gory)e(to)i
(be)g(selecti)n(v)o(ely)f(applied)g(to)h(certain)g(loop)f(pack)o(ets)
515 3605 y(in)29 b(another)e(cate)o(gory)-5 b(.)49 b(F)o(or)29
b(e)o(xample,)h(the)f(data)f(item)p 2197 3605 25 4 v
59 w Fp(atom)p 2426 3605 V 30 w(site.type)p 2906 3605
V 28 w(symbol)g Fv(is)i(a)515 3704 y(child)20 b(of)g(\(or)h(`pointer)e
(to'\))h(the)g(data)h(item)p 1792 3704 V 51 w Fp(atom)p
2022 3704 V 29 w(type.symbol)p Fv(.)k(These)20 b(items)i(both)d(con-)
515 3804 y(tain)k(the)g(type)f(\(usually)g(a)h(simple)g(element)g
(symbol\))e(of)i(an)g(atom.)32 b(The)23 b(former)e(occurs)h(in)i(the)
515 3903 y(cate)o(gory)d Fp(ATOM)p 1028 3903 V 29 w(SITE)5
b Fv(,)23 b(which)g(contains)g(information)d(on)j(each)g(atom)g(in)h
(the)f(structure)f(\(co-)515 4003 y(ordinates,)30 b(occupancies,)f
(etc.\).)51 b(The)29 b(latter)g(occurs)f(in)h(the)g(cate)o(gory)e
Fp(ATOM)p 2897 4003 V 30 w(TYPE)5 b Fv(,)28 b(which)515
4103 y(de\002nes)18 b(properties)f(of)h(the)h(v)n(arious)e(types)h(of)g
(atoms)h(which)f(occur)f(in)i(the)f(structure)g(\(scattering)515
4202 y(properties,)e(atomic)g(radii,)h(etc.\).)24 b(Consider)16
b(a)h(case)h(where)e(there)h(are)f(se)n(v)o(eral)h(chloride)e(ions)i
(in)g(a)515 4302 y(structure)f(\(this)h(e)o(xample)f(is)j(tak)o(en)d
(from)h(the)g(PDB)h(entry)f(5HVP\).)f(The)h Fp(ATOM)p
2848 4302 V 29 w(SITE)22 b Fv(cate)o(gory)515 4402 y(might)d(look)h
(lik)o(e)g(that)g(in)h(\002gure)e(1.)639 4543 y(The)30
b(\002rst)g(`)p Fq(CL)p Fv(')g(in)g(the)g(loop)f(pack)o(ets)g(for)g
(each)h(of)f(these)h(tw)o(o)g(atoms,)i(are)e(the)g(children)515
4642 y(of)g(the)g(`)p Fq(CL)o Fv(')g(in)h(the)f Fp(ATOM)p
1365 4642 V 29 w(TYPE)35 b Fv(e)o(xample)29 b(sho)n(wn)g(in)i(\002gure)
e(2.)55 b(This)30 b(indicates)g(that)h(the)515 4742 y(scattering)20
b(f)o(actors)h(and)f(oxidation)g(number)f(gi)n(v)o(en)h(for)g(the)h
(chloride)f(ion)h(type)f(applies)h(to)g(both)515 4842
y(of)f(the)g(choride)f(ions)h(which)f(are)i(speci\002ed)e(the)i
Fp(ATOM)p 2145 4842 V 29 w(SITE)k Fv(cate)o(gory)-5 b(.)639
4983 y(A)55 b(CIF)f(cate)o(gory)e(may)i(be)g(de\002ned)e(partly)i(as)g
(a)h(sequence)d(of)i Fq(<data)p 3106 4983 V 29 w(name>)1926
5255 y Fv(8)p eop
%%Page: 9 10
9 9 bop 515 540 a Fq(loop_)515 639 y(_atom_type.symbol)515
739 y(_atom_type.oxidation_number)515 839 y
(_atom_type.scat_Cromer_Mann_a1)515 938 y
(_atom_type.scat_Cromer_Mann_a2)515 1038 y
(_atom_type.scat_Cromer_Mann_a3)515 1137 y
(_atom_type.scat_Cromer_Mann_a4)515 1237 y
(_atom_type.scat_Cromer_Mann_b1)515 1337 y
(_atom_type.scat_Cromer_Mann_b2)515 1436 y
(_atom_type.scat_Cromer_Mann_b3)515 1536 y
(_atom_type.scat_Cromer_Mann_b4)515 1636 y
(_atom_type.scat_Cromer_Mann_c)614 1735 y(CL)50 b(-1)99
b(18.2915)198 b(0.006600)98 b(7.20840)198 b(1.17170)714
1835 y(6.53370)98 b(19.5424)198 b(2.33860)148 b(60.4486)198
b(-16.378)515 1934 y(#)49 b(information)f(on)i(other)e(atom)i(types)e
(deleted)1139 2300 y Fv(Figure)19 b(2:)25 b(Scattering)20
b(parameters)f(for)g(choride)g(ions.)p 639 2430 2865
4 v 515 2688 a Fq(<data)p 770 2688 25 4 v 29 w(value>)27
b Fv(pairs,)k(and)c(partly)h(as)h(looped)e(data.)49 b(In)28
b(that)h(case,)i(the)d(v)n(alues)g(speci\002ed)515 2788
y(outside)23 b(the)i(loop,)f(apply)f(to)i(each)f(loop)f(pack)o(et.)36
b(Clearly)-5 b(,)25 b(at)g(least)g(one)f(of)g(the)g(k)o(e)o(y)f(items)i
(for)515 2887 y(the)i(cate)o(gory)d(must)j(occur)f(within)h(the)f
(looped)g(data,)i(otherwise)e(the)h(dif)n(ferent)e(loop)h(pack)o(ets)
515 2987 y(will)i(not)f(be)g(unique.)45 b(In)27 b(principle,)g(the)g
(looped)f(data)h(may)g(be)g(speci\002ed)g(in)h(more)e(than)h(one)515
3087 y(loop)20 b(per)h(data)g(block)1158 3056 y Fl(7)1190
3087 y Fv(.)29 b(I)22 b(consider)e(that)h(this)h(kind)f(of)g(structure)
f(is)i(to)g(be)f(a)n(v)n(oided,)g(since)g(there)515 3186
y(is)30 b(too)f(much)g(scope)g(for)g(mutually)f(incompatible)f
(interpretations,)j(and)f(misunderstanding.)515 3286
y(The)g(more)f(sophisticated)g(use)i(of)f(cate)o(gories)f(in)h(the)h
(mmCIF)f(standard)f(should)g(mak)o(e)h(such)515 3385
y(multiple)e(loops)g(unnecessary)-5 b(,)28 b(in)g(an)o(y)f(case.)48
b(CCIF)29 b(imposes)f(the)g(restriction)f(that)h(an)o(y)f(data)515
3485 y(name)19 b(can)h(only)f(occur)g(once)h(in)g(each)g(data)g(block,)
f(so)h(no)g(more)f(than)h(one)f(loop)h(can)g(be)g(used)f(in)515
3585 y(the)h(de\002nition)f(of)h(a)h(cate)o(gory)-5 b(.)515
3854 y Ft(1.5)99 b(The)26 b(speci\002cation)g(of)f(null)g(and)g(unkno)o
(wn)i(v)o(alues.)515 4045 y Fv(The)f(ST)-8 b(AR)27 b(speci\002cation)f
(does)g(not)g(mak)o(e)f(e)o(xplicit)h(pro)o(vision)e(for)i(null)g(and)g
(unkno)n(wn)e(data)515 4144 y(v)n(alues.)g(Ho)n(we)n(v)o(er)m(,)18
b(by)h(con)m(v)o(ention)e(an)j(isolated)f(`)p Fq(.)p
Fv(')h(represents)f(a)h(null)g(v)n(alue,)f(and)g(an)h(isolated)515
4244 y(`)p Fq(?)o Fv(')i(an)g(unkno)n(wn)e(v)n(alue)1252
4214 y Fl(8)1284 4244 y Fv(.)30 b(The)22 b(distinction)f(between)g(the)
h(tw)o(o)g(can)g(be)g(rather)f(subtle,)h(and)f(has)515
4344 y(been)h(the)i(subject)f(of)g(some)g(debate.)33
b(Essentially)-5 b(,)24 b(a)f(null)h(v)n(alue)e(represents)h(a)g(v)n
(alue)g(of)g(a)h(data)515 4443 y(item)h(which)f(is)i(not)e(applicable)f
(to,)j(or)f(meaningful)d(in,)k(the)f(conte)o(xt)e(in)i(which)f(it)i
(occurs.)38 b(An)515 4543 y(e)o(xample)18 b(w)o(ould)i(be)g(the)g(v)n
(alue)f(of)p 1557 4543 V 50 w Fp(atom)p 1787 4543 V 29
w(site.label)p 2316 4543 V 28 w(alt)p 2494 4543 V 29
w(id)24 b Fv(for)19 b(an)h(atom)g(which)f(has)515 4643
y(been)g(modelled)g(in)h(only)g(one)f(conformation.)p
515 4689 1146 4 v 605 4744 a Fj(7)634 4767 y Fi(This)f(is)g(mentioned)h
(in)f(the)h(DDL)e(for)h(the)g(core)h(dictionary)l(,)h(although)g
(without)g(being)f(clear)g(on)f(which)h(of)f(se)n(v)o(eral)515
4846 y(possibilities)i(are)d(allo)n(wed.)23 b(The)17
b(DDL)f(which)i(forms)f(the)g(basis)h(of)f(mmCIF)f(is)h(silent)i(on)e
(this)g(question.)605 4904 y Fj(8)634 4927 y Fi(CCIF)k(interprets)i
(these)e(tw)o(o)g(characters)j(as)c(null)i(and)e(unkno)n(wn)i(when)f
(the)o(y)g(are)h(quoted)f(as)g(well)g(\227)g(this)g(is)f(not)515
5006 y(strictly)f(correct,)f(b)o(ut)g(the)f(practice)j(of)d(quoting)i
(them)e(in)g(CIF')l(s)h(seems)f(to)g(be)g(widespread.)1926
5255 y Fv(9)p eop
%%Page: 10 11
10 10 bop 639 523 a Fv(An)26 b(unkno)n(wn)e(v)n(alue)h(represents)g
(one)g(which)h(w)o(ould)f(be)h(meaningful,)e(if)j(the)e(v)n(alue)h
(were)515 623 y(kno)n(wn.)h(Unmeasured)20 b(data)i(w)o(ould)f(normally)
f(be)h(represented)f(in)i(a)g(CIF)g(as)h(unkno)n(wn.)j(CCIF)515
722 y(treats)e(data)g(v)n(alues)f(which)h(are)f(not)h(speci\002ed)f(in)
i(a)f(data)g(block)e(at)j(all)f(as)h(formally)d(equi)n(v)n(alent)515
822 y(to)f(unkno)n(wn)e(v)n(alues.)29 b(This)22 b(deri)n(v)o(es)e(from)
h(the)g(comment)f(in)i(the)f(ST)-8 b(AR)23 b(paper)2880
792 y Fl(1)2934 822 y Fv(\()p Ff(x)p Fv(7\(e\)\))d(that)h(if)515
922 y(the)f(v)n(alue)f(of)h(an)g(item)h(is)g(not)f(speci\002ed,)f(it)i
(is)h(unkno)n(wn.)515 1201 y Ft(1.6)99 b(Pri)o(vileged)24
b(ST)-9 b(AR)26 b(constructs,)g(and)g(non-quoted)h(text.)515
1398 y Fv(There)j(are)h(certain)f(tok)o(ens)g(de\002ned)g(in)h(the)g
(ST)-8 b(AR)32 b(syntax,)g(which)f(are)g(not)f(used)h(in)g(CIF')-5
b(s.)515 1498 y(Ne)n(v)o(ertheless,)28 b(the)g(CIF)h(programmer)c
(needs)j(to)g(be)g(a)o(w)o(are)f(of)h(them,)h(to)f(a)n(v)n(oid)g
(accidentally)515 1597 y(using)k(them)g(for)f(non-quoted)f(te)o(xt.)61
b(The)32 b(tok)o(ens)g(are:)50 b Fq(global)p 2565 1597
25 4 v 29 w Fv(,)35 b(an)o(ything)c(which)h(starts)515
1697 y(with)23 b Fq(save)p 891 1697 V 29 w Fv(,)g(including)e(just)j
Fq(save)p 1645 1697 V 29 w Fv(,)g(and)e(an)o(ything)e(which)j(starts)g
(with)g Fq($)p Fv(.)33 b(Also,)24 b(the)e(tok)o(en)515
1796 y Fq(stop)p 720 1796 V 29 w Fv(,)c(while)e(allo)n(wed)g(in)h(CIF')
-5 b(s,)18 b(is)g(in)e(practice,)h(rarely)e(seen.)24
b(Data)17 b(which)f(might)g(seem)h(to)g(be)515 1896 y(non-quoted)12
b(te)o(xt)j(strings,)h(b)n(ut)f(which)g(are,)h(in)g(f)o(act)f(one)g(of)
g(these)h(constructs,)f(will)h(cause)f(the)h(CIF)515
1996 y(to)k(break)g(the)g(ST)-8 b(AR)22 b(rules)e(\(or)m(,)f(at)i(the)g
(v)o(ery)e(least,)i(will)g(drastically)f(change)f(the)i(interpretation)
515 2095 y(of)g(the)g(data\).)29 b(If)21 b(ask)o(ed)g(to)h(output)e(a)i
(data)g(v)n(alue)e(which)h(is)i(an)e(in)m(v)n(alid)g(non-quoted)d(te)o
(xt)j(string,)515 2195 y(CCIF)h(will)h(attempt)e(all)h(quoting)e(allo)n
(wed)h(by)g(the)h(CIF)g(dictionary)e(speci\002cation)h(for)g(the)g
(item)515 2295 y(in)f(an)g(attempt)g(to)g(mak)o(e)g(it)h(le)o(gal)f(ST)
-8 b(AR)21 b(data.)515 2635 y Fu(P)o(art)29 b(II)515
2884 y Fr(Using)43 b(CCIF)-19 b(.)515 3187 y Fu(2)119
b(Basic)29 b(Concepts)515 3414 y Fv(Standard)d(FOR)-5
b(TRAN77)28 b(lacks)g(a)g(syntax)f(for)g(representing)e(or)j
(manipulating)d(memory)h(ad-)515 3514 y(dresses,)k(and)e(w)o(orking)e
(with)j(comple)o(x)d(data)i(structures)g(can)g(be)g(dif)n(\002cult.)48
b(F)o(or)28 b(this)h(reason,)515 3613 y(manipulating)22
b(data)i(with)g(a)g(\003e)o(xible)g(structure)f(can)h(be)g(a)g(bit)h
(lik)o(e)f(reading)f(a)h(map)g(with)g(a)h(mi-)515 3713
y(croscope)h(\227)i(it)g(is)h(hard)d(w)o(ork)h(to)h(get)f(an)h(o)o(v)o
(ervie)n(w)d(of)i(the)h(data.)47 b(CCIF)28 b(tries)g(to)g(shield)g(the)
515 3813 y(programmer)22 b(from)i(the)h(w)o(orst)h(consequences)d(of)i
(this,)i(by)d(maintaining)g(information)f(on)i(the)515
3912 y(data)g(and)f(what)h(the)g(application)f(program)f(is)j(doing)e
(internally)-5 b(,)24 b(and)h(only)f(pro)o(viding)e(tightly)515
4012 y(controlled)f(access)i(to)g(the)f(data)h(structures)f(and)g
(their)g(contents.)32 b(Making)21 b(best)i(use)g(of)g(this)g(re-)515
4111 y(quires)16 b(some)h(a)o(w)o(areness)f(of)h(what)g(is)h(happening)
c(`under)h(the)i(bonnet',)e(and)i(there)f(are)h(a)g(number)515
4211 y(of)j(concepts)f(which)h(must)g(be)g(clearly)g(understood.)515
4490 y Ft(2.1)99 b(Logical)24 b(names)h(and)h(input)g(and)f(output)i
(\002les)515 4687 y Fv(CCIF)-7 b(,)22 b(for)e(v)n(arious)f(reasons,)h
(handles)g(its)h(o)n(wn)g(input)e(and)h(output,)g(and)g(maintains)g
(its)h(o)n(wn)f(list)515 4787 y(of)i(open)f(\002les.)33
b(Ne)n(v)o(ertheless,)21 b(logical)h(names)g(are)h(basically)f(the)g
(same)h(as)g(in)f(standard)g(CCP4)515 4887 y(programs.)60
b(The)o(y)31 b(can)i(be)f(connected)f(to)i(real)f(\002les)i(under)d
(Unix)h(by)g(setting)h(en)m(vironment)515 4986 y(v)n(ariables,)23
b(and)g(under)g(VMS)h(by)f(using)g(the)h Fq(DEFINE)f
Fv(command.)33 b(Programs)22 b(which)h(call)i(the)1905
5255 y(10)p eop
%%Page: 11 12
11 11 bop 515 523 a Fq(CCPFYP)26 b Fv(subroutine)f(can)h(use)h(the)g
(normal)f(CCP4)h(mechanism)f(of)g(logical)h(name\226\002lename)515
623 y(pairs)15 b(on)g(the)g(command)e(line.)24 b(W)m(ithin)15
b(application)f(programs,)g(CCIF)i(\002les)g(are)g(al)o(w)o(ays)f
(referred)515 722 y(to)20 b(by)g(their)g(logical)g(names,)f(ne)n(v)o
(er)g(by)h(the)g(actual)g(\002lenames.)639 863 y(One)29
b(area)h(of)f(dif)n(ference)e(arises)j(from)e(the)i(f)o(act)f(that)h(a)
f(CIF)i(can)e(contain)f(multiple)h(data)515 963 y(blocks,)19
b(and)g(that)h(a)h(data)f(block)f(can)g(contain)g(arbitrary)g(cate)o
(gories)g(of)g(information)f(\(only)h(lim-)515 1063 y(ited)31
b(by)f(what)h(is)h(in)g(the)f(CIF)g(dictionary)f(being)g(used\).)57
b(This)31 b(means)g(that)g(where)f(a)i(CCP4)515 1162
y(application)d(w)o(ould)h(traditionally)f(access)i(tw)o(o)g(or)g(more)
f(\002les,)k(all)d(the)g(sets)h(of)e(information)515
1262 y(may)c(in)i(f)o(act)f(be)g(present)g(in)g(just)h(one)e(CIF)-7
b(.)28 b(CCIF)h(allo)n(ws)e(for)g(this,)i(by)e(permitting)e(dif)n
(ferent)515 1362 y(logical)20 b(names)h(to)g(point)f(to)h(the)g(same)g
(\002le.)28 b(So,)21 b(for)f(e)o(xample,)f(if)j(you)e(w)o(ant)h(to)g
(use)g(tw)o(o)g(sets)h(of)515 1461 y(coordinates,)c(which)i(are)g(in)g
(dif)n(ferent)f(data)h(blocks)f(in)i(one)e(CIF)-7 b(,)21
b(you)f(could)f(do:)872 1669 y Fq(lsqkab)48 b(WORKCD)h(coordset.cif)f
(REFCD)h(coordset.cif)515 1876 y Fv(Another)25 b(situation)h(might)g
(be)h(where)f(tw)o(o)h(dif)n(ferent)e(cate)o(gories)h(of)g(input)g
(\(e.g.)44 b(coordinates)515 1976 y(and)18 b(re\003ections\))g(are)h
(actually)f(in)h(the)g(same)g(data)g(block.)k(In)c(such)g(a)g(case,)g
(the)g(follo)n(wing)f(could)515 2076 y(be)i(done:)872
2283 y Fq(sfall)49 b(XYZIN)f(proj.cif)h(HKLIN)g(proj.cif)515
2491 y Fv(These)20 b(assume)h(that)g Fq(lsqkab)f Fv(and)g
Fq(sfall)h Fv(ha)n(v)o(e)f(been)g(con)m(v)o(erted,)e(so)j(that)g(the)o
(y)f(accept)h(k)o(e)o(y-)515 2590 y(w)o(ords)j(to)g(identify)f(the)i
(rele)n(v)n(ant)e(data)h(blocks)g(within)g(the)h(CIF)-7
b(.)25 b(See)g(section)f Fs(??)g Fv(for)f(ideas)i(on)515
2690 y(ho)n(w)g(to)i(do)f(this.)43 b(The)26 b(intention)f(is)j(that)e
(programs)e(which)i(use)h(CCIF)g(should)e(be)h(written)g(in)515
2790 y(such)20 b(a)g(w)o(ay)h(that)f(this)h(is)g(all)f(transparent)f
(to)h(the)h(user)f(of)g(the)g(application.)639 2931 y(This)k(also)g
(raises)g(the)g(possibility)f(that)h(the)f(same)h(\002le)g(can)g(le)o
(gitimately)e(be)i(referred)e(to)h(in)515 3030 y(dif)n(ferent)h(w)o
(ays)j(\(e.g.)43 b(with)26 b(or)g(without)g(pathnames,)g(or)g
Fk(via)g Fv(symbolic)g(links\).)43 b(CCIF)27 b(copes)515
3130 y(with)j(this)g(under)e(Unix)h(by)g(comparing)f(i-node)g(numbers)g
(\(these)i(are)f(the)h(numbers)e(you)h(get)515 3230 y(with)22
b(the)g Fq(ls)50 b(-i)22 b Fv(command\))e(and)h(de)n(vice)h(ID')-5
b(s)22 b(to)h(determine)d(whether)h(tw)o(o)i(\002les)g(are)f(in)g(f)o
(act)515 3329 y(the)k(same.)43 b(Under)26 b(VMS,)g(the)g(\002le)h(ID')
-5 b(s)27 b(are)f(compared)f(\(these)h(are)g(the)g(numbers)f(which)h
(are)515 3429 y(obtained)g(with)i(the)g Fq(DIR/FULL)f
Fv(command\),)h(unless)g(DECnet)g(speci\002cations)f(are)h(used,)h(in)
515 3528 y(which)19 b(case)i(the)f(\002lenames)g(are)g(fully)g(e)o
(xpanded)e(and)h(compared)f(as)j(strings.)639 3670 y(Most)k(CCP4)g
(programs)e(mak)o(e)h(a)h(distinction)e(between)h(input)g(and)g(output)
f(\002les,)j(in)f(that)f(a)515 3769 y(program)19 b(will)j(not)f(alter)h
(input)e(\002les)j(in)e(an)o(y)g(w)o(ay)-5 b(,)21 b(instead)g(writing)g
(changed)e(or)i(ne)n(w)h(informa-)515 3869 y(tion)k(out)g(to)g(a)h(ne)n
(w)f(\002le.)44 b(This)26 b(turns)g(out)g(to)g(be)g(useful)g(practice)g
(for)f(CIF')-5 b(s,)29 b(since)d(the)h(infor)n(-)515
3968 y(mation)21 b(in)g(a)h(\002le)h(may)e(be)h(accessed)f(in)h(an)g
(order)e(which)h(bears)h(no)f(relation)g(to)g(its)i(contents.)29
b(If)515 4068 y(an)21 b(application)f(program)f(is)j(allo)n(wed)f(to)g
(directly)g(alter)g(such)h(information,)c(the)k(program)d(may)515
4168 y(be)g(modifying)d(its)k(o)n(wn)e(input)g(in)h(subtle)g(w)o(ays.)
25 b(Accordingly)-5 b(,)16 b(CCIF)k(hardens)d(this)j(con)m(v)o(ention)
515 4267 y(into)g(a)i(rule:)k(if)21 b(a)h(CIF)g(is)f(opened)f(for)g
(input,)g(on)h(an)o(y)f(attempt)g(to)i(alter)f(its)h(contents,)e(CCIF)i
(will)515 4367 y(thro)n(w)d(an)h(error)f(and)h(terminate)f(the)h
(program.)639 4508 y(CCIF)k(can)e(cope)f(with)i(a)g(maximum)d(of)i(10)g
(logical)g(names)g(being)f(in)i(use)f(at)h(an)o(y)f(one)f(time)515
4608 y(\227)16 b(this)h(is)g(set)g(with)f(the)g(\(slightly)g
(mis-named\))e(`C')j(preprocessor)c(symbol)j Fq(MAX)p
2906 4608 25 4 v 29 w(CIF)p 3085 4608 V 29 w(FILES)o
Fv(.)1905 5255 y(11)p eop
%%Page: 12 13
12 12 bop 515 523 a Ft(2.2)99 b(Specifying)26 b(data)f(within)g(a)g
(\002le)515 720 y Fv(Ob)o(viously)-5 b(,)20 b(a)j(CIF)g(can)f(contain)f
(an)i(arbitrary)d(number)h(of)h(data)g(blocks.)31 b(When)22
b(a)h(CIF)g(is)g(read)515 820 y(or)h(created)g(by)h(a)g(CCIF)h
(application,)e(a)h(unique)e(number)g(\(the)i(block)e(id\))i(is)h
(assigned)e(to)h(each)515 919 y(data)d(block)g(within)g(that)h(\002le)g
(\(starting)f(from)g(0\),)h(and)f(it)h(is)h(necessary)d(to)i(specify)f
(this)h(number)515 1019 y(in)29 b(order)e(to)i(access)g(or)g(modify)e
(an)o(y)h(data)g(within)h(that)g(block.)49 b(When)29
b(a)g(ne)n(w)f(data)h(block)f(is)515 1119 y(created)d(in)i(an)f(output)
f(CIF)-7 b(,)27 b(it)g(is)h(also)e(gi)n(v)o(en)f(a)i(ne)n(w)f(block)g
(id.)43 b(The)26 b(block)f(id)i(can)f(be)g(found)515
1218 y(in)k(tw)o(o)g(w)o(ays,)j(either)c(by)h(specifying)e(the)i
(logical)g(name)f(and)h(the)g(data)g(block)f(name,)i(or)f(by)515
1318 y(specifying)23 b(the)i(logical)g(name)g(and)f(the)i(sequential)e
(number)f(of)i(the)g(block)f(within)h(the)h(\002le)f(to)515
1418 y(which)j(it)i(refers.)52 b(\(This)29 b(is)h(done)e(with)i(the)f
(CCIF)h(routines)e Fp(CCIF)p 2592 1418 25 4 v 30 w(BLOCK)p
2872 1418 V 29 w(BY)p 3001 1418 V 29 w(NAME)34 b Fv(and)515
1517 y Fp(CCIF)p 720 1517 V 29 w(BLOCK)p 999 1517 V 29
w(BY)p 1128 1517 V 29 w(INDEX)f Fv(respecti)n(v)o(ely)-5
b(.)42 b(See)27 b(sections)f(5.1)g(and)g(5.2.\))43 b(In)27
b(the)f(case)h(of)g(an)515 1617 y(output)19 b(\002le,)h
Fp(CCIF)p 1100 1617 V 29 w(BLOCK)p 1379 1617 V 29 w(BY)p
1508 1617 V 30 w(NAME)25 b Fv(can)20 b(be)g(made)g(to)g(create)g(a)g
(ne)n(w)g(data)h(block.)639 1758 y(T)-7 b(o)26 b(actually)g(access)h
(data,)g(it)g(is)g(necessary)e(to)h(initialise)h(a)f(`conte)o(xt')e(on)
i(the)g(appropriate)515 1858 y(cate)o(gory)d(of)h(data.)39
b(As)26 b(f)o(ar)e(as)i(the)f(application)e(program)g(is)i(concerned,)f
(a)h(conte)o(xt)f(is)h(just)h(an)515 1957 y(inte)o(ger)d(\()p
Ff(\025)31 b Fn(0)p Fv(\))25 b(which)f(is)i(assigned)f(when)f(the)h
(conte)o(xt)e(is)j(set)g(up.)39 b(Internally)-5 b(,)23
b(though,)h(CCIF)515 2057 y(maintains)k(information)f(on)h(the)h
(location)g(of)f(data)h(in)g(the)g(CIF)-7 b(,)30 b(and)f(the)g(conte)o
(xt)f(is)i(used)e(to)515 2156 y(pro)o(vide)c(rapid)h(access)h(to)h(it.)
43 b(In)25 b(the)h(case)h(of)f(looped)e(data,)j(it)g(points)f(to)g(the)
g(current)e(pack)o(et.)515 2256 y(Initialising)18 b(a)g(conte)o(xt)g
(is)h(done)e(with)i(the)g(CCIF)g(routine)e Fp(CCIF)p
2416 2256 V 30 w(SETUP)p 2696 2256 V 29 w(CONTEXT)23
b Fv(\(see)18 b(sec-)515 2356 y(tion)h(5.3\),)f(which)g(needs)h(the)g
(block)f(id)i(and)e(the)h(name)g(of)g(the)g(cate)o(gory)e(as)j(input.)k
(If)19 b(the)g(logical)515 2455 y(name)j(has)h(been)g(opened)e(for)h
(output,)h(this)g(routine)f(can)h(create)f(the)h(structures)g(for)f
(inserting)g(a)515 2555 y(ne)n(w)e(cate)o(gory)e(of)i(information)e
(into)i(the)g(\002le.)639 2696 y(Once)32 b(a)g(conte)o(xt)e(is)j(set)g
(up)e(for)g(a)h(particular)f(cate)o(gory)-5 b(,)32 b(indi)n(vidual)e
(data)i(items)g(can)g(be)515 2796 y(retrie)n(v)o(ed)17
b(or)h(output,)g(by)g(specifying)g(the)g(appropriate)f(data)i(name)f
(and)g(conte)o(xt.)23 b(In)c(the)g(case)g(of)515 2895
y(output,)f(data)i(names)f(which)g(are)h(not)g(already)e(present)h(in)h
(the)g(\002le)g(can)g(be)g(inserted,)f(along)f(with)515
2995 y(their)i(v)n(alues.)26 b(Setting)21 b(up)f(multiple)g(conte)o
(xts)g(on)g(the)h(same)f(cate)o(gory)f(of)i(data)f(simultaneously)515
3095 y(is)d(permitted.)22 b(Where)16 b(the)g(conte)o(xt)f(has)h(been)f
(opened)g(on)g(looped)g(data,)h(it)h(can)f(be)g(adv)n(anced)e(one)515
3194 y(pack)o(et)23 b(at)h(a)g(time)1048 3164 y Fl(9)1081
3194 y Fv(.)36 b(Changes)23 b(made)g(to)h(a)g(data)g(cate)o(gory)d
(through)h(one)h(conte)o(xt)g(are)g(re\003ected)515 3294
y(immediately)g(on)i(all)g(conte)o(xts)f(open)g(on)h(that)g(cate)o
(gory)-5 b(,)23 b(e)o(xcept)h(where)h(a)g(data)g(manipulation)515
3394 y(routine)18 b(has)i(already)f(returned)f Fq(end)p
1618 3394 V 29 w(of)p 1747 3394 V 30 w(context)h Fv(in)h(response)f(to)
h Fq(advance)p 2977 3394 V 28 w(and)p 3155 3394 V 30
w(hold)515 3493 y Fv(\(see)g(section)g(6\).)515 3772
y Ft(2.3)99 b(Sorting)25 b(and)h(sear)n(ching)o(.)515
3969 y Fv(The)g(CIF)g(standard)f(allo)n(ws)i(the)f(pack)o(ets)g(of)g(a)
g(loop)f(to)i(occur)e(in)h(an)o(y)f(order)2828 3939 y
Fl(10)2889 3969 y Fv(.)43 b(CCIF)27 b(allo)n(ws)515 4069
y(applications)g(to)h(specify)f(a)h(sort)g(order)f(for)h(a)g(cate)o
(gory)-5 b(,)27 b(and)h(to)g(access)h(the)f(loop)f(pack)o(ets)g(in)515
4169 y(that)22 b(order)-5 b(.)30 b(Applications)21 b(may)g(also)i
(search)f(for)f(a)i(loop)e(pack)o(et)g(which)h(contains)f(a)i
(particular)515 4268 y(combination)18 b(of)i(v)n(alues,)f(as)i(long)e
(as)i(an)f(appropriate)e(sort)j(has)f(been)f(set)i(up)f(on)g(the)g
(cate)o(gory)-5 b(.)p 515 4322 1146 4 v 605 4377 a Fj(9)634
4400 y Fi(If)22 b(no)h(sorting)g(has)f(been)i(applied)g(to)f(the)g
(conte)o(xt,)i(the)e(pack)o(ets)h(will)g(be)e(retrie)n(v)o(ed)j(in)e
(the)g(order)g(in)f(which)i(the)o(y)515 4479 y(occur)18
b(in)f(the)g(\002le.)k(See)c(the)h(ne)o(xt)g(section,)g(and)f(section)i
(7,)d(for)h(information)i(on)d(ho)n(w)h(to)g(access)h(loop)g(pack)o
(ets)h(in)e(sorted)515 4558 y(order)l(.)580 4616 y Fj(10)634
4639 y Fi(In)k(this)h(conte)o(xt,)i(it)d(may)h(be)f(noted)h(that)h(the)
e(PDB)g(standard)i(V)-7 b(ersion)22 b(2.0,)f(\(February)i(21,)e(1996\))
h(speci\002es)g(that)515 4718 y(where)e(a)g(standard)i(residue)f(side)g
(chain)g(is)f(modi\002ed)g(by)g(adding)h(atoms,)g(the)f(ne)n(w)h(atoms)
f(occur)h(after)g(the)g(end)f(of)g(the)515 4797 y(chain)h(in)f(which)g
(the)h(residue)g(occurs,)g(not)f(immediately)i(after)f(the)f(other)h
(atoms)f(in)g(the)g(same)g(residue.)30 b(This)19 b(implies)515
4876 y(that)f(atoms)f(with)h(a)f(particular)j(chain)f(id)e(and)g
(residue)i(id)e(may)g(occur)h(at)g(more)f(than)h(one)f(location)j(in)d
(the)h(\002le.)1905 5255 y Fv(12)p eop
%%Page: 13 14
13 13 bop 639 523 a Fv(Handling)18 b(sorting)g(is)i(v)o(ery)e(similar)h
(conceptually)e(to)j(using)e(conte)o(xts.)24 b(A)19 b(sorting)g
(structure)515 623 y(is)g(set)f(up)g(on)g(a)g(cate)o(gory)e(within)i(a)
g(data)g(block,)f(with)h(a)h(call)f(to)g Fp(CCIF)p 2576
623 25 4 v 30 w(SETUP)p 2856 623 V 29 w(SORT)t Fv(.)25
b(Among)515 722 y(other)e(things,)h(the)g(structure)f(maintains)h(a)g
(list)h(of)f(data)g(items)h(\(a)f(`sort)f(list'\),)j(which)d
(speci\002es)515 822 y(which)f(v)n(alues)g(are)g(compared,)f(and)h(in)g
(what)h(order)m(,)e(when)h(deciding)f(on)h(the)g(relati)n(v)o(e)g
(order)f(of)515 922 y(loop)d(pack)o(ets.)24 b(This)c(routine)e(returns)
g(an)h(inde)o(x,)f(which)h(is)h(used)f(by)g(the)g(application)f(to)h
(refer)f(to)515 1021 y(the)i(sort)g(in)h(future)e(calls)i(to)f(CCIF)h
(routines)e(which)h(mak)o(e)g(use)g(of)g(it.)639 1162
y(The)36 b(sort)g(list)h(is)f(set)h(up)e(by)h(making)e(repeated)h
(calls)h(to)g Fp(CCIF)p 2660 1162 V 30 w(ADD)p 2840 1162
V 29 w(TO)p 2969 1162 V 29 w(SORT)5 b Fv(,)40 b(and)515
1262 y(the)j(sort)g(itself)h(is)g(in)m(v)n(ok)o(ed)d(with)i(a)h(call)g
(to)f Fp(CCIF)p 2191 1262 V 29 w(DO)p 2320 1262 V 29
w(SORT)5 b Fv(.)94 b(A)44 b(pre)n(viously)d(set)j(up)515
1362 y(conte)o(xt)f(can)h(then)f(be)i(made)e(to)i(access)f(a)h(cate)o
(gory)d(in)j(sorted)e(order)m(,)49 b(with)44 b(a)h(call)f(to)515
1461 y Fp(CCIF)p 720 1461 V 29 w(SORT)p 949 1461 V 29
w(CONTEXT)t Fv(.)g(F)o(or)26 b(more)f(details,)j(see)f(the)f
(descriptions)f(of)h(these)h(functions)d(in)515 1561
y(section)19 b(7.)25 b(Note)19 b(that)h(this)g(does)f(not)h(change)e
(the)h(underlying)e(order)h(of)i(items)g(within)f(a)h(looped)515
1660 y(data)j(cate)o(gory)-5 b(,)23 b(merely)g(the)g(order)g(in)h
(which)f(the)o(y)g(are)h(accessed.)36 b(More)23 b(than)h(one)f(sort)h
(order)515 1760 y(may)15 b(be)h(acti)n(v)o(e)f(simultaneously)g(on)g(a)
h(cate)o(gory)-5 b(,)15 b(and)g(be)h(accessed)g(through)e(dif)n(ferent)
g(conte)o(xts.)639 1901 y(Sorting)23 b(is)i(done)e(in)g(ascending)g
(order)m(,)g(and)g(indi)n(vidual)f(v)n(alues)h(are)h(compared)e
(according)515 2001 y(to)28 b(the)g(item')-5 b(s)p 975
2001 V 59 w Fp(item)p 1205 2001 V 29 w(type)p 1434 2001
V 29 w(list.primitive)p 2163 2001 V 27 w(code)p Fv(:)41
b(numerical)27 b(for)g(all)i(numerical)515 2100 y(types,)20
b(and)g(case-senstiti)n(v)o(e)g(or)h(case-insensti)n(v)o(e)f(ASCII)h
(order)e(for)h(the)h(primiti)n(v)o(e)e(types)i(`char')515
2200 y(and)26 b(`uchar')g(respecti)n(v)o(ely)-5 b(.)44
b(Null)27 b(v)n(alues)g(\()p Fq('.')o Fv(\))h(come)e(\002rst)i(in)f
(the)h(sorting)e(order)m(,)h(and)g(Un-)515 2300 y(kno)n(wn)18
b(v)n(alues)h(\()p Fq('?')g Fv(or)h(absent\))f(come)g(last.)25
b(If)20 b(a)g(loop)e(pack)o(et')-5 b(s)20 b(v)n(alue)f(is)h(changed)e
(using)h(one)515 2399 y(of)h(the)h Fp(CCIF)p 933 2399
V 29 w(PUT)p 1112 2399 V 29 w(*)g Fv(routines,)e(and)h(the)h(item)g
(concerned)d(is)j(in)m(v)n(olv)o(ed)e(in)h(one)g(or)h(more)e(sorts,)515
2499 y(the)i(loop)f(pack)o(et)h(will)h(go)e(to)i(its)g(ne)n(w)f
(location)f(immediately)-5 b(,)19 b(taking)i(an)o(y)f(conte)o(xts)g
(which)h(are)515 2599 y(pointing)d(to)j(that)f(loop)f(pack)o(et)h(with)
g(it)1662 2568 y Fl(11)1725 2599 y Fv(.)25 b(If)c(the)p
1975 2599 V 50 w Fp(item)p 2205 2599 V 29 w(type)p 2434
2599 V 29 w(list.construct)d Fv(which)515 2698 y(applies)j(to)g(an)h
(item,)f(allo)n(ws)h(the)f(item)h(to)f(ha)n(v)o(e)g(a)h(multi-line)e
(te)o(xt)h(v)n(alue,)g(the)g(item)h(may)f(not)g(be)515
2798 y(used)f(in)g(sorting.)639 2939 y(The)c(method)f(of)g(sorting)g
(is)i(the)f(red-black)e(tree)i(method,)g(discussed)f(in)i(most)f
(standard)e(te)o(xts)515 3039 y(on)20 b(algorithms)g(and)h(data)g
(structures)1622 3008 y Fl(12)1683 3039 y Fv(.)28 b(It)21
b(should)f(be)h(noted)f(that)h(this)h(sorting)e(method)g(is)i(`un-)515
3138 y(stable',)17 b(i.e.)24 b(when)16 b(tw)o(o)h(ro)n(ws)f(compare)f
(as)i(equal,)g(their)f(relati)n(v)o(e)g(order)f(in)i(the)g(\002le)g(is)
h(not)e(neces-)515 3238 y(sarily)21 b(preserv)o(ed.)j(F)o(or)d(e)o
(xample,)e(if)i(you)f(sort)g(simply)h(on)p 2268 3238
V 50 w Fp(atom)p 2498 3238 V 29 w(site.label)p 3027 3238
V 28 w(asym)p 3255 3238 V 29 w(id)515 3337 y Fv(\(i.e.)64
b(the)34 b(chain)f(id\),)j(you)d(cannot)f(rely)h(on)g(the)h(atoms)f
(being)g(accessed)g(in)h(residue)e(order)m(,)515 3437
y(e)n(v)o(en)g(if)i(the)o(y)f(are)h(in)g(that)g(order)e(in)i(the)g(CIF)
-7 b(.)34 b(In)g(such)f(a)h(case,)k(you)33 b(should)f(sort)i(on)f(both)
p 515 3537 V 540 3537 a Fp(atom)p 745 3537 V 29 w(site.label)p
1274 3537 V 28 w(asym)p 1502 3537 V 29 w(id)24 b Fv(and)p
1795 3537 V 49 w Fp(atom)p 2025 3537 V 29 w(site.label)p
2554 3537 V 28 w(seq)p 2732 3537 V 30 w(id)s Fv(.)515
3799 y Fs(2.3.1)81 b(Sear)o(ching)19 b(f)n(or)h(v)o(alues)g(in)h(a)g
(CIF)-9 b(.)515 3996 y Fv(Once)25 b(a)h(sort)g(has)f(been)g(set)h(up)g
(on)f(a)h(cate)o(gory)-5 b(,)24 b(it)i(is)h(then)e(possible)g(to)h
(perform)d(a)j(search)f(for)515 4096 y(a)31 b(loop)f(pack)o(et.)55
b(The)30 b(essential)i(condition)c(is)k(that)f(all)g(the)f(items)h
(whose)g(v)n(alues)f(are)h(being)515 4196 y(speci\002ed)c(in)h(the)g
(search,)h(ha)n(v)o(e)e(been)g(in)m(v)n(olv)o(ed)e(in)j(sorting)f(the)h
(cate)o(gory)e(\(although,)h(within)515 4295 y(certain)19
b(limits,)i(it)g(is)g(not)f(necessary)f(to)i(specify)e(v)n(alues)h(for)
g(all)g(the)h(items)f(in)h(the)f(sort)g(list\).)639 4436
y(The)c(combination)d(of)j(v)n(alues)g(which)f(is)i(being)e(used)g(as)i
(a)f(query)f(for)g(the)h(search)g(\(the)f(`search)515
4536 y(k)o(e)o(y'\))i(is)i(specifed)e(to)i(the)f(CCIF)h(routine)e
Fp(CCIF)p 1942 4536 V 29 w(SEARCH)p 2271 4536 V 29 w(CONTEXT)23
b Fv(through)16 b(three)i(parallel)515 4636 y(arrays)f(\(one)g(for)g
(each)g(of)g(real,)h(inte)o(ger)f(and)g(character)g(v)n(alues\).)23
b(The)17 b(members)g(of)g(these)h(arrays)p 515 4689 1146
4 v 580 4744 a Fj(11)634 4768 y Fi(At)f(the)h(present)g(time,)g(this)f
(beha)o(viour)i(has)e(not)h(been)g(fully)g(tested)g(or)f
(characterised.)580 4826 y Fj(12)634 4849 y Fi(See,)g(for)g(e)o
(xample,)i(`)-5 b(Algorithms)18 b(in)f(C')g(by)g(Robert)h(Sedge)n(wick)
i(\(Addison-W)-5 b(esle)o(y\),)18 b(1990.)1905 5255 y
Fv(13)p eop
%%Page: 14 15
14 14 bop 876 623 a Fe(CHARACTER*80)43 b(CKEY\(5\),)g(CKEYBUF*\(80*5\))
921 714 y(EQUIVALENCE)g(\(CKEY,)g(CKEYBUF\))921 805 y(INTEGER)g
(IKEY\(5\))921 897 y(REAL)h(FKEY\(5\))921 988 y(...)562
1079 y(c)h(___)f(Set)g(up)h(sort)921 1171 y(CALL)f
(CCIF_SETUP_SORT\(...\))921 1262 y(CALL)g
(CCIF_ADD_TO_SORT\('_atom_site.label_asy)o(m_id')38 b(...\))921
1353 y(CALL)44 b(CCIF_ADD_TO_SORT\('_atom_site.label_seq)o(_id')39
b(...\))921 1445 y(...)921 1536 y(CALL)44 b(CCIF_DO_SORT\(...\))562
1719 y(c)h(___)f(Set)g(up)h(a)f(context)g(on)h(ATOM_SITE)e(category:)
921 1810 y(CALL)h(CCIF_SETUP_CONTEXT\(...\))562 1993
y(c)h(___)f(Now)g(set)h(up)f(search)g(key:)562 2175 y(c)h(___)f(Chain)g
(id)g(is)h('A')921 2267 y(CKEY\(1\))e(=)i('A')562 2449
y(c)g(___)f(Residue)g(id)g(is)h(250:)921 2540 y(CKEY\(2\))e(=)i(')g(')
921 2632 y(IKEY\(2\))e(=)i(250)562 2814 y(c)g(___)f(Now)g(find)g(an)h
(atom)f(which)g(satisfies)f(the)i(key:)921 2906 y(CALL)f(CCIF)p
1329 2906 23 4 v 26 w(SEARCH)p 1625 2906 V 26 w(CONTEXT\(INDEX,)e
(NCNTXT,)i(2,)831 2997 y(&)89 b(IKEY,)44 b(FKEY,)g(CKEYBUF,)g(80,)g
(STATUS\))921 3088 y(...)1162 3445 y Fv(Figure)19 b(3:)25
b(Searching)19 b(for)h(a)g(residue)g(in)g(a)h(structure.)p
639 3578 2865 4 v 515 3838 a(correspond,)26 b(in)h(order)m(,)g(to)g
(the)g(names)g(in)h(the)f(sort)g(list.)47 b(So,)28 b(for)f(e)o(xample,)
g(to)g(search)g(for)g(an)515 3937 y(atom)20 b(with)g(a)h(chain)e(id)h
(of)g Fq(A)h Fv(and)f(a)g(residue)g(number)e Fq(250)p
Fv(,)i(the)g(k)o(e)o(y)g(is)h(set)g(up)f(as)h(in)f(\002gure)f(3.)639
4073 y(After)27 b(the)f(call)h(to)g Fp(CCIF)p 1414 4073
25 4 v 29 w(SEARCH)p 1743 4073 V 29 w(CONTEXT)t Fv(,)i(the)e(conte)o
(xt)e Fq(NCNTXT)h Fv(will)h(point)f(to)h(a)515 4173 y(loop)21
b(pack)o(et)h(which)g(contains)f(the)i(v)n(alues)f(speci\002ed)g(in)g
(the)h(k)o(e)o(y)-5 b(,)21 b(if)i(one)f(e)o(xists.)32
b(If)22 b(there)g(is)h(no)515 4273 y(such)28 b(pack)o(et,)i(the)e
(conte)o(xt)f(will)i(point)f(to)g(the)h(ne)o(xt)f(pack)o(et)f(in)i(the)
f(sort)h(order)e(\(the)h(v)n(alue)g(of)515 4372 y Fq(STATUS)c
Fv(can)h(be)g(check)o(ed)e(to)i(determine)f(if)h(the)g(pack)o(et)f(w)o
(as)i(actually)e(found)f(or)i(not\).)38 b(Data)515 4472
y(v)n(alues)27 b(from)f(this)j(pack)o(et)e(can)g(then)g(be)h
(manipulated)d(with)j(calls)g(to)g(the)g Fp(CCIF)p 2978
4472 V 29 w(GET)p 3157 4472 V 29 w(*)g Fv(and)515 4571
y Fp(CCIF)p 720 4571 V 29 w(PUT)p 899 4571 V 29 w(*)21
b Fv(routines,)e(specifying)f(a)j(status)g(of)f Fq(keep)p
2232 4571 V 29 w(context)o Fv(.)639 4707 y(T)-7 b(o)22
b(specify)g(a)g(null)f(or)h(unkno)n(wn)d(v)n(alue)j(for)f(an)o(y)g
(data)h(type,)f(set)i(the)f(corresponding)c(mem-)515
4807 y(ber)26 b(of)g Fq(CKEY)h Fv(to)f Fq('.')h Fv(or)f
Fq('?')p Fv(.)45 b(These)26 b(v)n(alues)g(are)h(check)o(ed)e(for)h
(immediately)f(on)i(entry)e(to)515 4907 y Fp(CCIF)p 720
4907 V 29 w(SEARCH)p 1049 4907 V 29 w(CONTEXT)36 b Fv(\227)31
b(this)h(is)g(why)f(it)h(is)g(necessary)e(to)i(set)g
Fq(CKEY\(2\))e Fv(to)i(some)515 5006 y(other)19 b(v)n(alue)h(in)g
(\002gure)f(3.)1905 5255 y(14)p eop
%%Page: 15 16
15 15 bop 639 523 a Fv(A)20 b(search)f(k)o(e)o(y)f(need)g(not)h
(specify)g(v)n(alues)f(for)h(all)h(the)f(items)g(in)h(the)f(sort)g
(list.)26 b(The)18 b(condition)515 623 y(is)23 b(that)g(where)f(a)h
(sort)g(list)g(has)g Fo(n)g Fv(items,)g(the)g(\002rst)g
Fo(m)g Fv(must)g(be)f(speci\002ed,)h(where)f Fn(1)27
b Ff(\024)g Fo(m)g Ff(\024)g Fo(n)p Fv(.)515 722 y(If)22
b(a)h(partial)f(k)o(e)o(y)g(is)h(searched)f(for)g(in)g(this)h(w)o(ay)-5
b(,)23 b(on)f(a)h(successful)f(search,)g(the)h(pack)o(et)f(which)g(is)
515 822 y(found)d(is)i(not)g(necessarily)f(the)h(\002rst)g(pack)o(et)f
(which)h(satis\002es)h(the)f(k)o(e)o(y)f(\(neither)f(`\002rst')i(in)g
(sorted)515 922 y(order)m(,)c(nor)h(in)i(the)f(sense)g(of)g(\002rst)h
(in)f(the)g(\002le\).)25 b(This)19 b(is)h(a)f(consequence)e(of)i(the)g
(instability)g(of)g(the)515 1021 y(sort)f(algorithm)f(referred)g(to)i
(abo)o(v)o(e.)j(If)d(it)g(is)g(necessary)f(to)g(\002nd)h(all)g(the)f
(pack)o(ets)g(which)g(satisfy)h(a)515 1121 y(partial)g(k)o(e)o(y)g(of)g
Fo(m)h Fv(items,)g(a)g(null)g(\()p Fq('.')o Fv(\))f(v)n(alue)g(should)g
(be)g(gi)n(v)o(en)g(for)g(the)g(items)h Fo(m)d Fn(+)e(1)20
b Fv(to)g Fo(n)p Fv(.)25 b(In)515 1220 y(this)c(case,)g(an)f(e)o(xact)h
(match)f(may)g(not)g(be)h(found,)e(and)h(the)g(returned)f(v)n(alue)h
(of)g Fq(STATUS)h Fv(should)515 1320 y(not)j(be)h(relied)f(on.)38
b(The)25 b(application)e(should)g(check)h(suitable)h(item\(s\))f(in)h
(the)g(loop)f(pack)o(et)g(\227)515 1420 y(see)d(the)f(e)o(xample)f
(program)f Fq(cifsearch.f)g Fv(for)i(an)g(e)o(xample)f(of)h(ho)n(w)f
(this)i(can)f(be)g(done.)515 1699 y Ft(2.4)99 b(Err)n(or)26
b(r)n(eporting)g(and)g(diagnostics)515 1896 y Fv(CCIF)j(has)g(a)g
(uniform)d(error)i(and)g(diagnostic)f(output)g(mechanism.)48
b(Ev)o(ery)28 b(message)g(output)515 1996 y(by)22 b(the)h(library)e
(has)i(a)g(symbolic)f(name)g(of)g(the)h(form)e Ff(h)p
Fd(f)o(acility)6 b Ff(i)p 2426 1996 25 4 v 30 w(h)p Fd(message)g
Ff(i)p Fv(,)24 b(where)e Ff(h)p Fd(f)o(acility)6 b Ff(i)515
2095 y Fv(identi\002es)16 b(the)g(component)e(of)i(the)h(CCIF)g
(library)f(that)g(produced)e(the)i(message,)h(and)f Ff(h)p
Fd(message)6 b Ff(i)515 2195 y Fv(identi\002es)20 b(the)g(message)g
(within)g(that)g(f)o(acility)-5 b(.)25 b(F)o(or)20 b(e)o(xample,)e(the)
i(w)o(arning:)515 2419 y Fq(>>>>)49 b(CCIF)g(signal)g(ANTLR_EMPTYLOOP)e
(\(severity:)h(Warning\))g(<<<<)913 2519 y(\(Raised)h(in)g(rule)g
("data"\))515 2618 y(Syntax)f(error)h(at)h(line)f(16:)398
b(Loops)49 b(with)g(no)g(data)g(not)g(allowed!)639 2842
y Fv(is)31 b(identi\002ed)d(by)h(the)g(symbolic)g(name)f
Fq(ANTLR)p 2111 2842 V 29 w(EMPTYLOOP)o Fv(.)53 b(\()p
Fq(ANTLR)28 b Fv(refers)h(to)h(the)515 2942 y(parser)22
b(generator)g(from)g(PCCTS)i(that)g(w)o(as)g(used)f(to)g(generate)f
(the)h(rele)n(v)n(ant)f(part)h(of)g(the)g(CCIF)515 3042
y(code:)38 b(see)28 b(part)f(V.\))46 b(The)27 b(symbolic)f(name)h(of)g
(a)g(particular)f(message)h(is)h(not)f(al)o(w)o(ays)h(output)515
3141 y(\(sometimes)c(just)h(the)g(message)f(appears\),)h(b)n(ut)f(the)h
(complete)f(list)h(of)g(messages)g(is)g(in)g(the)g(\002le)515
3241 y Fq(condition.list)18 b Fv(in)j(the)g(CCIF)h(source)e(distrib)n
(ution.)25 b(Each)20 b(message)g(also)h(has)g(a)g(def)o(ault)515
3341 y(se)n(v)o(erity)e(associated)g(with)h(it)h(\(one)e(of:)24
b('Success',)c('Informational',)c('W)-7 b(arning',)18
b('Error',)g('Se-)515 3440 y(v)o(ere'\).)32 b(Occasionally)-5
b(,)23 b(the)g(def)o(ault)f(se)n(v)o(erity)h(of)g(a)g(particular)f
(message)i(is)g(changed)d(to)j(re\003ect)515 3540 y(the)c
(circumstances)f(under)g(which)g(it)i(is)h(output,)c(b)n(ut)i(this)h
(is)g(rare.)639 3681 y(By)j(def)o(ault,)g(all)g(messages)g(are)f
(output,)g(b)n(ut)h(this)g(is)g(not)g(al)o(w)o(ays)g(appropriate.)33
b(F)o(or)23 b(e)o(xam-)515 3781 y(ple,)j(if)g(a)g(mmCIF)g(contains)e
(man)o(y)h(data)g(items)h(that)g(are)f(not)g(in)h(the)g(dictionary)d
(that)j(is)h(being)515 3880 y(used,)21 b(a)h(lar)o(ge)f(number)f(of)h
Fq(CCIF)p 1528 3880 V 29 w(NOITEMIP)g Fv(w)o(arnings)f(will)j(be)e
(generated.)27 b(Under)21 b(certain)515 3980 y(circumstances)i(this)h
(may)g(be)g(e)o(xpected,)f(and)h(the)g(w)o(arnings)f(are)h(just)h(a)g
(nuiscance.)35 b(CCIF)25 b(al-)515 4079 y(lo)n(ws)19
b(control)f(of)h(the)g(output)f(of)h(messages)g(on)g(a)g(per)n
(-message)f(basis,)i(and)f(also)g(on)g(the)g(basis)h(of)515
4179 y(se)n(v)o(erity)-5 b(.)31 b(This)23 b(can)f(be)h(set)g(both)f(in)
h(the)f(en)m(vironment,)e(or)j(by)f(application)f(programs)g(through)
515 4279 y(the)f(function)e Fp(CCIF)p 1139 4279 V 30
w(SET)p 1319 4279 V 29 w(MSG)24 b Fv(\(see)c(section)g(8.2\).)639
4420 y(Each)j(message)g(has)h(one)f(of)g(three)g(output)f(states)j
(associated)e(with)h(it:)32 b(-1)23 b(\(def)o(ault\),)g(0)g(\(do)515
4520 y(not)31 b(output)f(message\))h(and)g(1)h(\(output)e(message\).)58
b(Each)31 b(se)n(v)o(erity)f(has)i(one)f(of)g(these)h(three)515
4619 y(states)23 b(associated)f(with)g(it)h(as)g(well.)31
b(When)21 b(the)i(procedure)c(to)j(output)f(a)i(dignostic)e(message)h
(is)515 4719 y(called)f(internally)-5 b(,)19 b(these)j(states)g(are)f
(check)o(ed,)f(and)h(the)g(output)f(of)h(the)g(message)g(suppressed)f
(if)515 4818 y(appropriate.)38 b(The)25 b(results)h(of)f(this)h(check)f
(are)g(gi)n(v)o(en)f(in)i(table)f(1.)41 b(The)25 b(basic)g(idea)h(is)g
(that)g(the)515 4918 y(status)21 b(of)f(the)g(se)n(v)o(erity)f(is)i
(check)o(ed)e(\002rst,)i(b)n(ut)f(can)g(be)g(o)o(v)o(erridden)d(for)j
(an)g(indi)n(vidual)e(message.)1905 5255 y(15)p eop
%%Page: 16 17
16 16 bop 1055 443 1783 4 v 1053 543 4 100 v 1105 513
a Fv(Se)n(v)o(erity)19 b(status)p 1637 543 V 100 w(Message)h(status)p
2237 543 V 100 w(Print)g(message?)p 2837 543 V 1055 546
1783 4 v 1055 563 V 1053 663 4 100 v 1312 633 a(-1)p
1637 663 V 522 w(-1)p 2237 663 V 504 w(Y)-8 b(es)p 2837
663 V 1055 666 1783 4 v 1053 765 4 100 v 1312 736 a(-1)p
1637 765 V 536 w(0)p 2237 765 V 528 w(No)p 2837 765 V
1055 769 1783 4 v 1053 868 4 100 v 1312 839 a(-1)p 1637
868 V 536 w(1)p 2237 868 V 518 w(Y)g(es)p 2837 868 V
1055 872 1783 4 v 1053 971 4 100 v 1326 941 a(0)p 1637
971 V 536 w(-1)p 2237 971 V 514 w(No)p 2837 971 V 1055
975 1783 4 v 1053 1074 4 100 v 1326 1044 a(0)p 1637 1074
V 550 w(0)p 2237 1074 V 528 w(No)p 2837 1074 V 1055 1078
1783 4 v 1053 1177 4 100 v 1326 1147 a(0)p 1637 1177
V 550 w(1)p 2237 1177 V 518 w(Y)g(es)p 2837 1177 V 1055
1181 1783 4 v 1053 1280 4 100 v 1326 1250 a(1)p 1637
1280 V 536 w(-1)p 2237 1280 V 504 w(Y)g(es)p 2837 1280
V 1055 1284 1783 4 v 1053 1383 4 100 v 1326 1353 a(1)p
1637 1383 V 550 w(0)p 2237 1383 V 528 w(No)p 2837 1383
V 1055 1386 1783 4 v 1053 1486 4 100 v 1326 1456 a(1)p
1637 1486 V 550 w(1)p 2237 1486 V 518 w(Y)g(es)p 2837
1486 V 1055 1489 1783 4 v 1083 1720 a(T)h(able)21 b(1:)k(Ef)n(fect)19
b(of)h(se)n(v)o(erity)g(and)f(message)h(status)h(codes)p
639 1858 2865 4 v 639 2129 a(This)27 b(mechanism)e(is)j(bypassed)d(in)i
(tw)o(o)f(cases:)39 b(\002rstly)-5 b(,)28 b(an)o(y)d(message)i(that)f
(is)i(associated)515 2228 y(with)16 b(a)h(condition)d(that)j(causes)f
(program)e(e)o(x)o(ecution)h(to)h(stop)g(will)h(al)o(w)o(ays)g(be)f
(output.)23 b(Secondly)-5 b(,)515 2328 y(the)21 b(message)h
Fq(CCIF)p 1147 2328 25 4 v 29 w(DICTLOADED)f Fv(that)g(con\002rms)g
(the)h(loading)e(of)i(the)g(mmCIF)f(dictionary)515 2427
y(and)e(outputs)h(v)o(ersion)f(information)e(for)j(that)g(dictionary)f
(cannot)g(be)h(turned)f(of)n(f.)515 2690 y Fs(2.4.1)81
b(Setting)20 b(output)g(states)g(using)h(the)f(en)m(vir)o(onment)515
2887 y Fv(T)-7 b(o)32 b(set)g(the)g(output)f(state)i(of)e(a)i(message)e
(to)h(1)g(or)g(0,)j(set)d(an)g(en)m(vironment)d(v)n(ariable)i(\(Unix\))
515 2987 y(or)e(logical)f(name)h(\(VMS\))g Ff(h)p Fd(f)o(acility)6
b Ff(i)p 1654 2987 V 30 w(h)p Fd(message)g Ff(i)30 b
Fv(to)f(either)g Fq(ON)g Fv(or)g Fq(OFF)g Fv(respecti)n(v)o(ely)e
(\(case)515 3086 y(insensiti)n(v)o(e\).)d(F)o(or)c(e)o(xample:)664
3311 y Fq(setenv)49 b(CCIF_NOITEMIP)e(off)639 3535 y
Fv(An)o(y)20 b(other)f(v)n(alue)h(\(including)e(a)i(null)g(string\))g
(will)h(be)f(interpreted)e(as)j(-1)f(\(def)o(ault\).)639
3676 y(T)-7 b(o)47 b(set)h(the)f(output)f(state)h(of)g(a)g(se)n(v)o
(erity)-5 b(,)52 b(use)c(the)e(v)n(ariable)g(names)h
Fq(CCIF)p 3135 3676 V 29 w(WARN)o Fv(,)515 3776 y Fq(CCIF)p
720 3776 V 29 w(SUCCESS)35 b Fv(and)g Fq(CCIF)p 1490
3776 V 29 w(INFORM)o Fv(.)72 b Fq(CCIF)p 2111 3776 V
29 w(ERROR)35 b Fv(and)g Fq(CCIF)p 2781 3776 V 29 w(SEVERE)g
Fv(are)h(ac-)515 3875 y(cepted,)e(b)n(ut)e(ha)n(v)o(e)f(no)h(ef)n(fect)
g(\(these)g(se)n(v)o(erities)g(al)o(w)o(ays)g(cause)g(the)g(program)e
(to)j(terminate,)515 3975 y(and)19 b(so)i(the)f(message)g(is)h(al)o(w)o
(ays)g(output\).)639 4116 y(Note)51 b(that)f(the)g(en)m(vironment-set)d
(status)k(can)f(be)h(o)o(v)o(erridden)c(by)j(the)g(use)h(of)f(the)515
4216 y Fp(CCIF)p 720 4216 V 29 w(SET)p 899 4216 V 29
w(MSG)24 b Fv(function)19 b(by)g(the)i(application.)515
4478 y Fs(2.4.2)81 b(Loops)20 b(with)h(missing)g(or)f(extraneous)g
(data)f(v)o(alues)515 4675 y Fv(The)k(number)g(of)g(data)h(v)n(alues)g
(in)g(a)g(loop)g(must)g(be)g(a)g(multiple)f(of)h(the)g(number)e(of)i
(data)g(names)515 4775 y(at)i(the)g(top.)43 b(If)26 b(a)g(CIF)h
(contains)e(loops)h(for)f(which)h(this)h(is)g(not)e(true,)i(CCIF)h
(will)f(open)e(it)h(with)515 4875 y(w)o(arnings,)e(b)n(ut)h(will)g(not)
f(allo)n(w)g(a)h(conte)o(xt)e(to)i(be)f(opened)f(on)h(the)h(cate)o
(gory)d(\(otherwise)i(a)h(fe)n(w)515 4974 y(simple)20
b(changes)f(could)g(cause)h(massi)n(v)o(e)g(corruption)e(of)i(the)g
(data\).)1905 5255 y(16)p eop
%%Page: 17 18
17 17 bop 639 523 a Fv(A)18 b(loop)f(only)g(needs)g(to)h(contain)e(a)i
(fe)n(w)g(pack)o(ets)f(to)h(mak)o(e)f(it)h(dif)n(\002cult)f(to)h(spot)f
(where)g(a)h(v)n(alue)515 623 y(is)30 b(missing)g(or)f(an)h(e)o(xtra)f
(v)n(alue)g(has)h(been)f(inserted,)i(especially)e(if)h(the)f(loop)g(is)
i(not)e(laid)h(out)515 722 y(neatly)-5 b(.)28 b(When)22
b(a)g(loop)f(has)g(hundreds)f(or)h(thousands)g(of)g(pack)o(ets,)h(it)g
(is)h(practically)d(impossible)515 822 y(in)27 b(most)h(cases.)47
b(T)-7 b(o)27 b(mak)o(e)g(it)h(easier)g(to)f(correct)g(this)h(kind)e
(of)h(problem,)h(if)f(the)h(en)m(vironment)515 922 y(v)n(ariable)20
b Fq(CCIF)p 1007 922 25 4 v 29 w(PFV)1180 891 y Fl(13)1264
922 y Fv(is)j(set,)f(when)e(CCIF)i(opens)f(a)g(CIF)h(the)g(\002rst)g(v)
n(alue)e(of)h(e)n(v)o(ery)f(pack)o(et)g(in)515 1021 y(each)f(loop)f(in)
i(the)g(\002le)g(will)g(be)f(printed)f(out,)h(together)f(with)i(the)g
(number)d(of)i(the)h(pack)o(et)f(and)g(the)515 1121 y(line)e(number)e
(in)j(the)f(\002le.)25 b(If)17 b(the)g(\002rst)h(data)f(v)n(alues)g(of)
f(the)i(pack)o(ets)f(are)g(something)e(recognisable)515
1220 y(\(such)21 b(as)i(residue)e(names)h(or)f(a)i(sequential)e(list)i
(of)f(numbers\),)e(scanning)h(do)n(wn)f(the)i(list)h(by)f(e)o(ye)515
1320 y(will)f(re)n(v)o(eal)e(where)h(problems)e(ha)n(v)o(e)i(occurred.)
515 1583 y Fs(2.4.3)81 b(Contents)20 b(of)g(the)g(mmCIF)h(dictionary)
515 1780 y Fv(When)52 b Fp(CCIF)p 971 1780 V 30 w(INIT)58
b Fv(is)53 b(called,)61 b(some)52 b(basic)h(information)e(about)h(the)h
(dictionary)e(is)515 1879 y(printed)28 b(\(the)h(name)g(of)g(the)g
(dictionary)e(datablock,)j(and)f(the)p 2407 1879 V 59
w Fp(dictionary.title)e Fv(and)p 515 1979 V 540 1979
a Fp(dictionary.version)19 b Fv(v)n(alues)j(from)g(inside)g(the)g
(dictionary)f(istelf\).)32 b(Setting)22 b(the)h(en)m(vi-)515
2079 y(ronment)h(v)n(ariable)h Fq(CCIF)p 1315 2079 V
29 w(DICTSTAT)g Fv(to)h(`yes')f(or)h(`on')f(\(case)h(insensiti)n(v)o
(e\))f(will)i(cause)f(the)515 2178 y(contents)d(of)g(the)h(hash)f
(table)g(to)h(be)g(printed,)f(together)f(with)i(some)f(statistics)i
(about)e(the)h(distri-)515 2278 y(b)n(ution)d(of)h(the)g(names)g
(within)g(it.)31 b(Ev)o(ery)21 b(data)h(item)g(name,)g(cate)o(gory)f
(name)g(and)h(alias)h(de\002ned)515 2378 y(in)d(the)g(dictionary)f
(will)i(appear)e(in)h(this)h(list.)515 2699 y Fu(3)119
b(Writing)30 b(pr)n(ograms)f(using)h(CCIF)g(and)h(CCP4)515
2926 y Fv(I')o(ll)23 b(think)f(about)h(writing)f(a)i(step-by-step)d
(intro.)33 b(F)o(or)23 b(no)n(w)-5 b(,)23 b(please)g(look)f(at)i(the)f
(e)o(xample)f(pro-)515 3026 y(grams)d(cifget.f)h(and)f(cifmodi.f.)k
(Note)e(the)f(order)f(in)h(which)g(things)f(are)i(done:)616
3250 y(1:)41 b(Load)20 b(dictionary)e(with)i Fp(CCIF)p
1644 3250 V 30 w(INIT)t Fv(.)616 3416 y(2:)41 b(Open)20
b(a)g(CIF)h(with)g Fp(CCIF)p 1504 3416 V 29 w(LOAD)p
1733 3416 V 29 w(CIF)k Fv(and/or)19 b Fp(CCIF)p 2370
3416 V 29 w(NEW)p 2549 3416 V 30 w(CIF)t Fv(.)616 3582
y(3:)41 b(Find)20 b(a)h(block)e(id)h(with)h Fp(CCIF)p
1617 3582 V 29 w(BLOCK)p 1896 3582 V 29 w(BY)p 2025 3582
V 29 w(NAME)k Fv(or)20 b Fp(CCIF)p 2569 3582 V 30 w(BLOCK)p
2849 3582 V 28 w(BY)p 2977 3582 V 30 w(INDEX)5 b Fv(.)616
3748 y(4:)41 b(Initialise)21 b(conte)o(xt\(s\))d(with)i
Fp(CCIF)p 1758 3748 V 30 w(SETUP)p 2038 3748 V 29 w(CONTEXT)t
Fv(.)616 3914 y(5:)41 b(Use)21 b(the)f(data)g(manipulation)e(routines)i
(to)g(access)h(indi)n(vidual)d(data)i(v)n(alues.)p 515
4068 1146 4 v 580 4124 a Fj(13)634 4147 y Fi(`PFV')d(stands)h(for)f
(`Print)h(First)f(V)-7 b(alue'.)1905 5255 y Fv(17)p eop
%%Page: 18 19
18 18 bop 515 523 a Fu(P)o(art)29 b(III)515 767 y Fr(Functions)43
b(pr)m(o)n(vided)g(by)g(CCIF)515 1015 y Fv(This)22 b(part)g(contains)g
(a)h(description)e(of)h(each)g(function)f(pro)o(vided)f(by)i(the)g
(CCIF)i(toolbox.)30 b(Note)515 1115 y(that)c(all)g(functions)f(are)g
(implemented)f(as)j(C)g(functions)d(of)i(type)f(`v)n(oid',)h(so)g(the)o
(y)f(must)h(be)g(in-)515 1214 y(v)n(ok)o(ed)g(from)h(F)o(ortran)f
(programs)g(with)h(the)h Fq(CALL)f Fv(statement.)47 b(Information)24
b(is)29 b(passed)e(back)515 1314 y(to)c(the)h(calling)f(program)e
Fk(via)j Fv(the)f(parameter)f(list.)36 b(Each)23 b(description)f
(contains)h(the)g(follo)n(wing)515 1414 y(sections:)639
1620 y Ff(\017)41 b Fv(Usage.)25 b(This)18 b(sho)n(ws)g(ho)n(w)g(to)h
(in)m(v)n(ok)o(e)e(the)h(function)f(from)g(within)h(a)h(F)o(ortran77)d
(program,)722 1720 y(and)27 b(gi)n(v)o(es)g(the)h(type)f(and)g(status)h
(of)f(each)g(parameter)-5 b(.)46 b(The)27 b(type)g(of)g(the)h
(parameter)e(is)722 1820 y(gi)n(v)o(en)d(as)i(the)f(form)f(its)i
(declaration)d(w)o(ould)i(tak)o(e)g(in)g(the)g(function)e
(de\002nition,)i(if)g(it)h(w)o(as)722 1919 y(written)k(in)h(F)o
(ortran.)50 b(This)29 b(is)h(follo)n(wed)e(by)h(the)g(parameter')-5
b(s)28 b(status)i(\227)g(the)f(possible)722 2019 y(v)n(alues)20
b(are:)762 2194 y Fs(\(i\))p Fv(:)41 b(P)o(arameter)22
b(is)j(input)d(only)-5 b(,)23 b(and)g(it)h(is)g(usually)f(safe)h(to)f
(use)h(a)g(constant)e(e)o(xpression)905 2293 y(in)e(the)g(parameter)f
(list)1587 2263 y Fl(14)1650 2293 y Fv(.)744 2421 y Fs(\(o\))p
Fv(:)40 b(P)o(arameter)22 b(is)i(output)e(only)-5 b(.)32
b(It)23 b(must)g(be)g(the)g(name)g(of)g(a)g(v)n(ariable)f(of)h
(appropriate)905 2521 y(type,)h(and)g(on)f(return)g(from)g(the)h
(function)e(will)j(contain)e(the)h(indicated)f(v)n(alue.)36
b(Its)905 2621 y(v)n(alue)19 b(on)h(entry)g(to)g(the)g(function)f(is)i
(irrele)n(v)n(ant.)697 2748 y Fs(\(i/o\))p Fv(:)41 b(P)o(arameter)17
b(is)j(both)e(input)g(and)g(output.)23 b(It)c(must)g(be)f(the)h(name)f
(of)g(a)h(v)n(ariable)f(of)g(ap-)905 2848 y(propriate)h(type,)h(and)g
(before)g(calling)g(the)h(function)d(it)k(should)e(be)g(set)i(to)f(an)f
(appro-)905 2948 y(priate)f(v)n(alue.)24 b(The)19 b(function)f(can)h
(be)h(e)o(xpected)d(to)j(set)g(this)g(v)n(ariable)f(to)g(a)h(dif)n
(ferent)905 3047 y(v)n(alue,)f(as)i(indicated)e(in)i(the)f(description)
e(of)i(this)h(parameter)e(and)g(the)i(synopsis.)722 3222
y(Where)e(a)f(parameter)f(is)j(of)e(type)g Fq(CHARACTER*\(*\))n
Fv(,)h(and)f(its)h(status)g(is)h(`\(o\)')d(or)h(`\(i/o\)',)722
3322 y(it)j(is)g(strongly)e(recommended)e(that)k(it)g(is)g(declared)e
(in)h(the)g(calling)g(application)f(as)955 3483 y Fq(CHARACTER*80)47
b Ff(h)p Fd(v)n(ariable)6 b Ff(i)722 3644 y Fv(There)25
b(is)g(no)g(restriction)f(in)i(mmCIF)f(on)f(the)h(length)f(of)h(data)g
(names,)h(or)f(the)g(length)f(of)722 3744 y(ST)-8 b(AR)30
b(quoted)d(or)i(non-quoted)c(te)o(xt)k(strings,)h(other)e(than)g(the)h
(limit)g(of)f(80)h(characters)722 3843 y(for)f(a)g(single)g(line.)48
b(\(The)27 b(core)g(CIF)i(restriction)e(of)g(32)h(characters)f(for)g(a)
h(dataname)f(is)722 3943 y Fk(not)g Fv(enforced)d(in)j(mmCIF)-7
b(.\))25 b(If)h(the)g(v)n(ariable)f(supplied)g(is)i(too)e(short)h(to)g
(hold)f(the)h(v)n(alue)722 4042 y(returned,)18 b(it)j(will)g(be)f
(truncated.)639 4203 y Ff(\017)41 b Fv(Synopsis.)h(A)26
b(description)f(of)g(what)h(the)g(function)e(does,)j(and)e(ho)n(w)h(v)n
(arious)e(combina-)722 4303 y(tions)d(of)e(parameters)g(control)g(its)j
(operation.)639 4464 y Ff(\017)41 b Fv(Comments.)24 b(Additional)16
b(comments,)h(hints)g(on)h(ho)n(w)f(to)g(use)h(the)g(function,)e(and)h
(assorted)722 4564 y(v)o(erbiage)i(\(possibly)g(highly)g
(opinionated!\).)p 515 4612 1146 4 v 580 4667 a Fj(14)634
4691 y Fi(Note)j(for)f(`C')g(hack)o(ers.)33 b(The)21
b(interlanguage)k(calling)e(con)m(v)o(entions)h(for)d(all)h(the)f
(systems)g(which)h(CCIF)f(supports)515 4770 y(in)m(v)o(olv)o(e)f
(passing)f(parameters)h(either)h(by)d(reference)j(or)d(by)h(descriptor)
h(\(which)f(is)g(a)f(structure)i(containing)i(a)c(pointer)i(to)515
4848 y(the)d(v)n(alue)h(of)e(the)h(parameter\).)22 b(P)o(arameters)c
(which)f(are)g(mark)o(ed)g(as)f(`\(i\)')h(are)g(declared)i(in)d(the)h
(`C')f(function)j(de\002nitions)515 4927 y(as)h(`)p Fc(const)39
b Fb(h)p Fa(type)5 b Fb(i)42 b Fc(*)e(const)f Fb(h)p
Fa(parameter)5 b Fb(i)s Fi(',)20 b(so)g(with)g(an)g(ANSI)g(C)f
(compiler)m(,)k(a)c(compile-time)k(check)e(is)f(made)515
5006 y(that)e(no)f(attempt)i(is)e(made)g(to)g(write)i(to)e(them.)1905
5255 y Fv(18)p eop
%%Page: 19 20
19 19 bop 639 523 a Fv(N.B.)18 b Fq(EXTERN)f Fv(declarations)f(of)h
(these)h(functions)e(may)g(be)i(required)d(by)i(con)m(v)o(ention,)e(or)
i(by)515 623 y(the)23 b(compiler)e(options)h(you)g(use)h(to)g(compile)f
(your)g(programs)f(\227)i(this)g(has)g(not)g(been)f(included)515
722 y(in)j(these)g(descriptions.)38 b(It)25 b(is)h(normal)e(practice)h
(in)g(CCP4)h(programs)d(to)i(use)g Fq(EXTERN)g Fv(for)f(all)515
822 y(identi\002ers)c(from)f(other)g(modules.)515 1144
y Fu(4)119 b(File)31 b(handling)g(functions)515 1371
y Fv(This)24 b(section)g(describes)g(all)g(the)h(CCIF)g(functions)e
(which)g(deal)h(with)h(\002le)g(handling.)35 b(In)23
b(CCIF)515 1470 y(applications,)18 b(all)j(\002les)g(are)g(referred)d
(to)i(by)g(their)g(logical)g(names)g(only)-5 b(.)515
1749 y Ft(4.1)99 b(CCIF)p 989 1749 30 4 v 35 w(INIT)515
1947 y Fs(Usage:)814 2154 y Fq(CALL)49 b(CCIF)p 1268
2154 25 4 v 29 w(INIT\(NAME\))515 2453 y(CHARACTER*\(*\))e(NAME)20
b Fv(\(i\):)41 b(Logical)19 b(name)h(of)g(dictionary)e(\002le)515
2716 y Fs(Synopsis:)83 b Fv(Opens)26 b(the)g(symbol)g(table)g
(representation)e(of)j(the)f(CIF)h(dictionary)-5 b(,)26
b(and)g(mak)o(es)515 2815 y(its)20 b(contents)e(a)n(v)n(ailable)g(to)h
(other)f(CCIF)i(routines.)k(The)19 b(dictionary)e(\002le)i(will)h
(usually)e(be)h(the)g(\002le)515 2915 y Fq(mmcifdic.lib)m
Fv(.)26 b(Performs)19 b(other)g(necessary)h(initialisations)g(for)g
(the)g(use)g(of)g(CCIF)515 3177 y Fs(Comments:)82 b Fv(Only)29
b(one)g(CIF)i(dictionary)d(can)h(be)h(in)g(use)f(at)i(an)o(y)d(one)i
(time.)53 b(If)30 b(you)e(need)515 3277 y(information)17
b(from)j(se)n(v)o(eral,)f(you)g(will)i(need)e(to)i(combine)d(all)j(the)
f(dictionaries)f(together)g(in)h(one)515 3377 y(\002le)h(\(more)f(than)
g(one)h(data)f(block)g(is)i(permitted\),)d(and)h(ensure)g(that)h(each)g
(data)g(name)f(de\002ned)g(is)515 3476 y(unique)j(to)i(the)f(whole)g
(dictionary)-5 b(,)24 b(not)g(just)h(its)h(datablock.)36
b(This)25 b(may)f(seem)h(at)g(\002rst)h(sight)e(to)515
3576 y(be)g(a)h(violation)e(of)h(the)h(ST)-8 b(AR)25
b(scoping)e(rules,)i(b)n(ut)g(a)g(CIF)g(has)f(no)g(w)o(ay)h(of)f
(identifying)e(which)515 3676 y(dictionary)c(the)i(de\002nition)f(of)h
(a)h(data)f(item)g(comes)g(from,)f(where)h(more)f(than)h(one)f(is)j(a)n
(v)n(ailable.)639 3817 y(It)f(is)h(not)f(an)g(error)e(to)j(call)f
Fp(CCIF)p 1631 3817 V 29 w(INIT)26 b Fv(more)20 b(than)h(once)f(in)h
(an)g(application:)k(the)c(routine)515 3916 y(remembers)d(if)j(it)g
(has)f(been)g(called)g(before,)e(and)i(silently)g(returns)f(without)h
(doing)f(an)o(ything.)515 4196 y Ft(4.2)99 b(CCIF)p 989
4196 30 4 v 35 w(LO)l(AD)p 1308 4196 V 36 w(CIF)515 4393
y Fs(Usage:)814 4600 y Fq(CALL)49 b(CCIF)p 1268 4600
25 4 v 29 w(LOAD)p 1497 4600 V 29 w(CIF\(NAME,)f(BLOCKS,)h(IFAIL\))515
4899 y(CHARACTER*\(*\))e(NAME)20 b Fv(\(i\):)41 b(Logical)19
b(name)h(of)g(CIF)-7 b(.)1905 5255 y(19)p eop
%%Page: 20 21
20 20 bop 515 523 a Fq(INTEGER)48 b(BLOCKS)20 b Fv(\(o\):)40
b(On)23 b(return,)e(set)i(to)g(the)f(number)f(of)h(data)g(blocks)g(in)h
(the)f(CIF)-7 b(,)23 b(-1)f(if)722 623 y(the)e(\002le)g(could)f(not)g
(be)g(opened,)f(or)h(-2)g(if)h(the)g(function)d(has)j(already)e(been)h
(called)h(for)e(that)722 722 y(logical)i(name.)515 888
y Fq(INTEGER)48 b(IFAIL)20 b Fv(\(i/o\):)41 b(On)20 b(input,)f(set)i
(to)f(0)g(for)g(stop)g(on)g(f)o(ailure,)f(1)h(to)g(allo)n(w)g(e)o(x)o
(ecution)e(to)722 988 y(continue)24 b(if)i(the)f(\002le)h(is)g(not)f
(found.)38 b([This)26 b(is)g(lik)o(e)f(the)h Fq(IFAIL)e
Fv(parameter)g(of)h(CCP4')-5 b(s)722 1088 y Fq(CCPDPN)28
b Fv(function.])46 b(On)27 b(return,)i(set)g(to)f(0)g(for)f(success,)j
(-1)e(if)g(the)g(\002le)g(could)f(not)h(be)722 1187 y(opened,)18
b(-2)g(if)h(the)g(function)e(has)j(already)d(been)i(called)f(for)h
Fq(NAME)o Fv(,)g(or)g(to)g(a)g(v)n(alue)g(greater)722
1287 y(than)h(0)g(if)h(a)f(parsing)g(error)f(w)o(as)i(encountered)c
(when)j(opening)e(the)i(mmCIF)-7 b(.)515 1549 y Fs(Synopsis:)83
b Fv(This)22 b(function)f(opens)h(the)h(\002le)g(pointed)f(to)g(by)h
Fq(NAME)o Fv(,)h(and)e(performs)f(all)i(le)o(xical)515
1649 y(and)j(syntactical)h(analysis)g(of)g(its)i(contents,)f(according)
d(to)i(the)g(ST)-8 b(AR)29 b(syntax)d(rules.)46 b(It)27
b(con-)515 1749 y(structs)e(an)f(in-memory)e(representation)h(of)h(the)
h(contents)f(of)g(the)h(CIF)-7 b(,)26 b(and)e(locates)g(each)h(data)515
1848 y(name)d(in)h(the)g(\002le)h(that)f(is)h(de\002ned)e(in)h(the)h
(dictionary)-5 b(,)21 b(issuing)i(w)o(arnings)f(for)g(those)h(which)g
(are)515 1948 y(not)d(in)g(the)g(dictionary)-5 b(.)515
2210 y Fs(Comments:)82 b Fv(Only)29 b(use)g(this)h(function)d(on)i(a)g
(\002le)h(which)f(you)f(kno)n(w)g(to)h(be)g(a)h(CIF)-7
b(.)30 b(Its)f(use)515 2310 y(requires)e(the)i(CIF)g(dictionary)e(to)h
(ha)n(v)o(e)g(been)g(pre)n(viously)e(loaded)i(with)g
Fp(CCIF)p 2937 2310 25 4 v 29 w(INIT)5 b Fv(.)50 b(An)o(y)515
2410 y(attempt)19 b(to)g(alter)h(the)f(contents)g(of)g(a)g(CIF)i(which)
d(has)i(been)f(read)f(with)i(this)g(function)d(will)k(result)515
2509 y(in)f(a)h(f)o(atal)f(error)f(\(c.f.)25 b(page)19
b(11\))515 2788 y Ft(4.3)99 b(CCIF)p 989 2788 30 4 v
35 w(NEW)p 1262 2788 V 36 w(CIF)515 2986 y Fs(Usage:)814
3193 y Fq(CALL)49 b(CCIF)p 1268 3193 25 4 v 29 w(NEW)p
1447 3193 V 29 w(CIF\(OLDNAME,)f(NEWNAME,)g(BLOCKS\))515
3492 y(CHARACTER*\(*\))f(OLDNAME)20 b Fv(\(i\):)41 b(Logical)19
b(name)g(of)h(input)g(CIF)515 3658 y Fq(CHARACTER*\(*\))47
b(NEWNAME)20 b Fv(\(i\):)41 b(Logical)19 b(name)g(of)h(output)f(CIF)515
3824 y Fq(INTEGER)48 b(BLOCKS)20 b Fv(\(i/o\):)40 b(On)112
b(input,)132 b(lik)o(e)112 b(the)f(parameter)f Fq(BLOCKS)g
Fv(for)722 3924 y Fp(CCIF)p 927 3924 V 29 w(LOAD)p 1156
3924 V 30 w(CIF)49 b Fv(abo)o(v)o(e,)f(with)c(respect)g(to)g
Fq(OLDNAME)o Fv(.)98 b(On)44 b(output,)k(number)722 4023
y(of)20 b(blocks)g(in)g Fq(NEWNAME)515 4286 y Fs(Synopsis:)83
b Fv(Opens)19 b(the)i(\002le)f(pointed)f(to)h(by)g Fq(NEWNAME)o
Fv(,)g(and)g(initialises)h(it)g(with)f(the)g(contents)515
4386 y(of)26 b Fq(OLDNAME)o Fv(.)44 b(If)27 b Fq(OLDNAME)e
Fv(consists)i(of)g(one)e(or)i(more)e(spaces,)k(the)d(structures)g(for)g
(a)h(ne)n(w)515 4485 y(CIF)21 b(are)f(set)h(up,)e(b)n(ut)i(the)f(CIF)h
(is)g(considered)d(to)j(be)f(empty)-5 b(.)515 4748 y
Fs(Comments:)82 b Fv(The)25 b(contents)g(of)g(the)h(\002le)g(pointed)e
(to)i(by)f Fq(NEWNAME)g Fv(can)g(be)g(altered)g(by)h(the)515
4847 y(CCIF)e(functions)e(described)f(in)j(the)f(follo)n(wing)e
(sections.)34 b(The)23 b(block)f(id')-5 b(s)23 b(of)g(the)g(data)g
(blocks)515 4947 y(in)d Fq(NEWNAME)g Fv(will)g(be)h(dif)n(ferent)d
(from)h(those)h(in)h Fq(OLDNAME)n Fv(.)1905 5255 y(20)p
eop
%%Page: 21 22
21 21 bop 515 523 a Ft(4.4)99 b(CCIF)p 989 523 30 4 v
35 w(PRINT)p 1334 523 V 36 w(CIF)515 707 y Fs(Usage:)814
875 y Fq(CALL)49 b(CCIF)p 1268 875 25 4 v 29 w(PRINT)p
1547 875 V 29 w(CIF\(NAME\))515 1142 y(CHARACTER*\(*\))e(NAME)20
b Fv(\(i\):)41 b(Logical)19 b(name)h(of)g(CIF)515 1385
y Fs(Synopsis:)83 b Fv(Causes)26 b(the)f(contents)g(of)g(the)h(CIF)g
Fq(NAME)f Fv(to)h(be)g(output)e(to)i(the)f(\002le)h(to)g(which)f(it)515
1485 y(points.)515 1745 y Ft(4.5)99 b(CCIF)p 989 1745
30 4 v 35 w(CLOSE)p 1361 1745 V 37 w(CIF)515 1929 y Fs(Usage:)814
2097 y Fq(CALL)49 b(CCIF)p 1268 2097 25 4 v 29 w(CLOSE)p
1547 2097 V 29 w(CIF\(NAME,)f(STATUS\))515 2363 y(CHARACTER*\(*\))f
(NAME)20 b Fv(\(i\):)41 b(Logical)19 b(name)h(of)g(CIF)515
2516 y Fq(INTEGER)48 b(STATUS)20 b Fv(\(i/o\):)40 b(On)21
b(input:)616 2695 y(0:)41 b(Write)33 b(out)f Fq(NAME)p
Fv(,)j(if)e(it)g(has)g(not)f(already)f(been)h(written)g(out)g(by)g(a)h
(pre)n(vious)e(call)h(to)722 2794 y Fp(CCIF)p 927 2794
V 29 w(CLOSE)p 1206 2794 V 29 w(CIF)26 b Fv(or)19 b Fp(CCIF)p
1700 2794 V 30 w(PRINT)p 1980 2794 V 29 w(CIF)616 2947
y Fv(1:)41 b(Write)21 b(out)f Fq(NAME)g Fv(re)o(gardless.)616
3100 y(2:)41 b(Do)20 b(not)g(write)h(out)f Fq(NAME)o
Fv(.)639 3279 y(On)g(output:)616 3457 y(0:)41 b Fq(NAME)20
b Fv(not)g(written)g(out)616 3610 y(1:)41 b Fq(NAME)20
b Fv(written)g(out)515 3853 y Fs(Synopsis:)83 b Fv(Closes)26
b(the)f(logical)g(\002le)i(entry)d(associated)h(with)h
Fq(NAME)o Fv(.)41 b(If)26 b(no)f(other)f(currently)515
3953 y(open)f(logical)h(unit)g(refers)g(to)h(the)f(same)h(physical)e
(\002le)j(\(see)e(section)h(2.1\),)f(the)g(resources)g(used)515
4053 y(to)i(store)h(the)f(internal)g(representation)e(of)j(the)f(CIF)h
(are)g(freed,)g(and)f(become)f(a)n(v)n(ailable)h(to)h(the)515
4152 y(process)19 b(once)h(again.)639 4280 y(Input)g(v)n(alues)g(of)g
(0)h(or)f(1)g(for)g Fq(STATUS)g Fv(will)i(not)e(cause)g(the)h(\002le)g
(to)g(be)f(written)g(out)h(if)f(it)i(w)o(as)515 4380
y(originally)g(opened)h(read-only)f(\(i.e.)36 b(with)25
b(a)f(call)h(to)f Fp(CCIF)p 2309 4380 V 29 w(LOAD)p 2538
4380 V 29 w(CIF)5 b Fv(\).)37 b(A)24 b(v)n(alue)g(of)g(0)g(will)515
4480 y(be)c(returned)e(in)j(this)f(case.)639 4608 y(An)28
b(input)f(v)n(alue)h(of)f(0)i(for)e Fq(STATUS)g Fv(is)i(sensiti)n(v)o
(e)f(to)g(multiple)f(logical)h(names)g(referring)515
4707 y(to)c(the)g(same)h(physical)e(\002le.)37 b(If)24
b(the)g(\002le)h(has)g(been)e(written)h(out)g(already)-5
b(,)23 b(by)h(using)g(a)g(dif)n(ferent)515 4807 y(logical)g(name,)h(it)
h(will)f(not)g(be)f(written)h(out)f(again,)h(e)n(v)o(en)f(if)h(it)g
(has)g(been)f(changed)f(since.)39 b(Use)515 4907 y(a)26
b(v)n(alue)e(of)h(1)h(to)f(force)g(the)g(\002le)h(to)g(be)f(written)g
(out)g(again.)39 b(\(I)26 b(am)f(open)f(to)i(suggestions)e(as)i(to)515
5006 y(better)20 b(w)o(ays)g(of)g(handling)e(this.\))1905
5255 y(21)p eop
%%Page: 22 23
22 22 bop 515 523 a Fs(Comments:)82 b Fv(It)25 b(is)g(a)f(good)f(idea)h
(to)h(close)f(a)h(CIF)g(as)g(soon)e(as)i(you)f(ha)n(v)o(e)f(\002nshed)h
(with)g(it.)38 b(A)515 623 y(lar)o(ge)19 b(CIF)i(can)f(tak)o(e)g(up)g
(a)h(lot)f(of)g(memory)-5 b(.)515 902 y Ft(4.6)99 b(CCIF)p
989 902 30 4 v 35 w(CHECK)p 1390 902 V 35 w(CIF)515 1099
y Fv(On)20 b(its)h(w)o(ay)-5 b(...)515 1421 y Fu(5)119
b(Handling)31 b(blocks)g(and)f(contexts)515 1664 y Ft(5.1)99
b(CCIF)p 989 1664 V 35 w(BLOCK)p 1384 1664 V 36 w(BY)p
1558 1664 V 36 w(N)n(AME)515 1862 y Fs(Usage:)814 2069
y Fq(CALL)49 b(CCIF)p 1268 2069 25 4 v 29 w(BLOCK)p 1547
2069 V 29 w(BY)p 1676 2069 V 29 w(NAME\(LOGNAME,)f(BLOCKNAME,)764
2169 y(&)h(BLOCKID,)g(STATUS,)f(DISPOSITION\))515 2468
y(CHARACTER*\(*\))f(LOGNAME)20 b Fv(\(i\):)41 b(Logical)19
b(name)g(of)h(input)g(\002le)515 2634 y Fq(CHARACTER*\(*\))47
b(BLOCKNAME)19 b Fv(\(i\):)41 b(Name)21 b(of)f(data)h(block.)26
b(Must)21 b(include)f(the)h(pre\002x)o(ed)722 2733 y(`data)p
894 2733 V 29 w(')g(required)d(by)i(the)g(ST)-8 b(AR)21
b(syntax)f(for)f(data)h(block)g(headers.)515 2899 y Fq(INTEGER)48
b(BLOCKID)20 b Fv(\(o\):)40 b(Block)25 b(id)g(\(c.f.)39
b(page)24 b(12\))g(corresponding)e(to)j Fq(BLOCKNAME)e
Fv(in)722 2999 y Fq(LOGNAME)o Fv(.)515 3165 y Fq(INTEGER)48
b(STATUS)20 b Fv(\(o\):)40 b(Return)20 b(status.)26 b(Possible)20
b(v)n(alues)g(are:)589 3389 y(-1:)40 b Fq(LOGNAME)20
b Fv(has)g(not)g(been)g(opened.)616 3555 y(0:)41 b Fq(BLOCKNAME)27
b Fv(not)h(found)f(in)h(\002le,)j(or)d(does)g(not)g(conform)e(to)j(ST)
-8 b(AR)29 b(rules)f(for)g(a)h(data)722 3655 y(heading.)616
3821 y(1:)41 b Fq(BLOCKNAME)19 b Fv(found)g(in)h(\002le.)616
3987 y(2:)41 b(ne)n(w)20 b(data)g(block)g Fq(BLOCKNAME)f
Fv(created)g(in)h(\002le)515 4203 y Fq(CHARACTER*\(*\))47
b(DISPOSITION)19 b Fv(\(i\):)41 b(Set)23 b(to)h Fq('NEW')e
Fv(to)h(create)g(a)h(ne)n(w)e(data)h(block)f(in)722 4302
y(the)e(CIF)-7 b(.)515 4565 y Fs(Synopsis:)83 b Fv(If)23
b(the)g(data)g(block)g(e)o(xists)h(in)f Fq(LOGNAME)o
Fv(,)h(this)g(routine)f(will)h(return)e(its)i(block)f(id.)515
4665 y(If)f(the)h(v)n(alue)e(of)h Fq(DISPOSITION)f Fv(is)j
Fq('NEW')e Fv(\(an)o(y)f(mixture)g(of)i(upper)e(and)h(lo)n(wer)g
(case\),)g Fk(and)515 4764 y Fq(BLOCKNAME)c Fv(does)i(not)f(already)g
(e)o(xist)h(in)g Fq(LOGNAME)o Fv(,)g Fk(and)h Fq(LOGNAME)e
Fv(has)h(been)f(opened)f(for)515 4864 y(writing,)24 b(a)g(ne)n(w)-5
b(,)25 b(empty)-5 b(,)23 b(data)h(block)f(with)h(the)g(name)g
Fq(BLOCKNAME)f Fv(will)h(be)g(created.)36 b(Other)515
4963 y(v)n(alues)20 b(of)f Fq(DISPOSITION)g Fv(are)h(ignored.)1905
5255 y(22)p eop
%%Page: 23 24
23 23 bop 515 523 a Fs(Comments:)82 b Fv(This)20 b(function)e(is)i(an)g
(e)o(xception)e(to)i(the)f(rule)h(that)f(an)h(attempt)f(to)h(alter)g
(the)f(con-)515 623 y(tents)f(of)g(a)h(CIF)f(which)g(has)g(been)g
(opened)e(read-only)g(will)j(cause)f(the)g(application)e(to)j
(terminate.)515 722 y(There)g(w)o(as)i(a)g(good)e(reason)g(for)h(this,)
g(b)n(ut)g(I)h(can')o(t)e(remember)f(what.)515 1001 y
Ft(5.2)99 b(CCIF)p 989 1001 30 4 v 35 w(BLOCK)p 1384
1001 V 36 w(BY)p 1558 1001 V 36 w(INDEX)515 1199 y Fs(Usage:)814
1406 y Fq(CALL)49 b(CCIF)p 1268 1406 25 4 v 29 w(BLOCK)p
1547 1406 V 29 w(BY)p 1676 1406 V 29 w(INDEX\(LOGNAME,)e(IDX,)j
(BLOCKNAME,)764 1506 y(&)f(BLOCKID,)g(STATUS\))515 1805
y(CHARACTER*\(*\))e(LOGNAME)20 b Fv(\(i\):)41 b(Logical)19
b(name)g(of)h(CIF)515 1971 y Fq(INTEGER)48 b(IDX)20 b
Fv(\(i\):)41 b(Sequential)20 b(number)e(of)i(data)g(block)f(in)i(CIF)
515 2137 y Fq(CHARACTER*\(*\))47 b(BLOCKNAME)19 b Fv(\(o\):)41
b(Name)16 b(of)g Fq(IDX)p Fv(')o(th)g(data)g(block)g(in)h
Fq(LOGNAME)n Fv(.)25 b(W)m(ill)722 2236 y(include)19
b(the)i(`data)p 1282 2236 V 29 w(')f(pre\002x)f(as)i(it)g(appears)e(in)
i(the)f(CIF)-7 b(.)515 2402 y Fq(INTEGER)48 b(BLOCKID)20
b Fv(\(o\):)40 b(Block)20 b(id)h(of)e Fq(IDX)p Fv(')o(th)g(data)h
(block)g(in)g Fq(LOGNAME)o Fv(.)515 2568 y Fq(INTEGER)48
b(STATUS)20 b Fv(\(o\):)40 b(Return)20 b(status.)26 b(Possible)20
b(v)n(alues)g(are:)589 2793 y(-1:)40 b(File)21 b Fq(LOGNAME)f
Fv(not)g(open.)616 2959 y(0:)41 b(Fe)n(wer)20 b(than)g
Fq(IDX)g Fv(data)g(blocks)g(in)g Fq(LOGNAME)o Fv(,)g(or)g
Fq(IDX)h Fv(out)e(of)h(range)g(\(i.e.)k Fo(<)f Fn(1)p
Fv(\).)616 3125 y(1:)41 b(Block)20 b(name)g(and)g(id)g(successfully)g
(returned.)515 3387 y Fs(Synopsis:)83 b Fv(Returns)28
b(the)g(block)f(id)h(and)g(data)g(block)f(header)g(of)h(the)g
Fq(IDX)p Fv(')o(th)f(data)h(block)f(in)515 3487 y Fq(LOGNAME)n
Fv(.)f(Blocks)20 b(are)g(numbered)e(from)h(1)i(within)f(the)g(CIF)-7
b(.)515 3749 y Fs(Comments:)82 b Fv(It)21 b(is)g(not)f(possible)f(to)i
(create)f(a)g(ne)n(w)g(data)g(block)g(with)g(this)h(function.)639
3891 y(This)39 b(routine)e(is)j(pro)o(vided)c(so)j(that)g(CCIF)h
(applications)d(can)i(mak)o(e)f(use)h(of)f(the)h(data)515
3990 y(blocks)30 b(without)h(needing)f(to)h(kno)n(w)g(their)g(names)g
(beforehand,)g(or)g(so)h(that)f(k)o(e)o(yw)o(ords)f(such)515
4090 y(as)23 b Fq(ALLBLOCKS)f Fv(can)g(be)h(made)f(a)n(v)n(ailable.)32
b(It)22 b(is)i(not)e(a)h(good)f(idea)g(to)h(allo)n(w)g(users)f(to)h
(specify)515 4189 y(things)e(lik)o(e)i(`the)f(third)f(data)h(block',)f
(since)h(the)g(order)f(of)h(data)g(blocks)g(within)f(a)i(CIF)g(is)g
(totally)515 4289 y(arbitrary)-5 b(.)43 b(User)28 b(input)e(which)g
(speci\002es)i(particular)e(data)h(block\(s\),)g(should)f(do)g(so)i(by)
f(block)515 4389 y(name,)19 b(unless)h(all)h(blocks)f(are)g(being)f
(speci\002ed.)1905 5255 y(23)p eop
%%Page: 24 25
24 24 bop 515 523 a Ft(5.3)99 b(CCIF)p 989 523 30 4 v
35 w(SETUP)p 1344 523 V 37 w(CONTEXT)515 708 y Fs(Usage:)814
879 y Fq(CALL)49 b(CCIF)p 1268 879 25 4 v 29 w(SETUP)p
1547 879 V 29 w(CONTEXT\(NAME,)e(CATNAME,)h(BLOCKID,)764
978 y(&)h(CONTEXT,)g(STATUS,)f(DISPOSITION\))515 1246
y(CHARACTER*\(*\))f(NAME)20 b Fv(\(i\):)41 b(Name)20
b(of)f(CIF)i(cate)o(gory)-5 b(,)18 b(or)h(an)o(y)g(item)h(which)g(is)h
(a)f(member)722 1346 y(of)g(the)g(cate)o(gory)f(\(including)f(aliases)j
(de\002ned)e(in)h(the)h(dictionary\).)515 1500 y Fq(CHARACTER*\(*\))47
b(CATNAME)20 b Fv(\(o\):)40 b(T)m(rue)24 b(name)f(of)h(cate)o(gory)-5
b(,)23 b(as)i(declared)e(in)i(the)f(dictio-)722 1599
y(nary)-5 b(.)515 1753 y Fq(INTEGER)48 b(BLOCKID)20 b
Fv(\(i\):)41 b(Block)17 b(id)g(of)g(data)g(block)f(which)h(conte)o(xt)f
(will)i(be)f(used)g(to)g(access.)515 1907 y Fq(INTEGER)48
b(CONTEXT)20 b Fv(\(o\):)40 b(Number)28 b(of)h(conte)o(xt)e(which)i
(has)g(been)g(assigned)f(to)i(the)f(cate-)722 2006 y(gory/data)19
b(block.)515 2160 y Fq(INTEGER)48 b(STATUS)20 b Fv(\(o\):)40
b(Information)28 b(on)i(e)o(xistence)g(or)g(otherwise)g(of)g(data)h
(cate)o(gory)d(in)722 2260 y Fq(BLOCKID)o Fv(.)d(Possible)c(v)n(alues)f
(are:)589 2441 y(-1:)40 b(Problems)17 b(with)g(cate)o(gory)e(in)i(CIF)h
(pre)n(v)o(ented)d(conte)o(xt)g(from)h(being)h(set)g(up)g(\(e.g.)23
b(because)722 2540 y(the)d(cate)o(gory)f(contains)g(items)i(that)f(are)
g(not)g(de\002ned)f(in)i(the)f(dictionary)2854 2510 y
Fl(15)2914 2540 y Fv(\).)616 2694 y(0:)41 b(Cate)o(gory)20
b(is)i(not)f(present)g(in)g Fq(BLOCKID)o Fv(.)29 b(A)22
b(conte)o(xt)e(may)h(ha)n(v)o(e)f(been)h(assigned)g(to)g(this)722
2794 y(cate)o(gory/data)d(block)h(ne)n(v)o(ertheless)g(\227)i(see)g
(the)f(Synopsis.)616 2947 y(1:)41 b(Cate)o(gory)19 b(found)g(in)h
Fq(BLOCKID)f Fv(in)i(the)f(form)f(of)h(looped)f(data.)616
3101 y(2:)41 b(Cate)o(gory)26 b(found)f(in)j Fq(BLOCKID)e
Fv(in)h(the)g(form)f(of)h(data)g(items)g(\(i.e.)46 b(ST)-8
b(AR)28 b(data)p 3175 3101 V 29 w(name)722 3201 y(data)p
866 3201 V 29 w(v)n(alue)20 b(pairs\).)515 3380 y Fq(CHARACTER*\(*\))47
b(DISPOSITION)19 b Fv(\(i\):)41 b(Has)27 b(no)g(ef)n(fect)f(if)i(CIF)f
(w)o(as)h(opened)d(for)i(input,)722 3479 y(i.e.)e(by)20
b(using)g Fp(CCIF)p 1359 3479 V 29 w(LOAD)p 1588 3479
V 29 w(CIF)5 b Fv(.)25 b(Otherwise,)20 b(tw)o(o)g(possible)g(v)n
(alues:)841 3660 y Fq('RO')p Fv(:)41 b(\(An)o(y)18 b(mixture)g(of)h
(upper)f(and)h(lo)n(wer)f(case\))h(No)h(changes)e(are)h(allo)n(wed)f
(to)i(be)1105 3760 y(made)j(to)g(the)h(CIF)g(by)f(the)g(use)h(of)f
(this)h(conte)o(xt.)33 b(CCIF)24 b(will)g(terminate)f(the)1105
3860 y(program)16 b(with)i(an)f(error)g(if)h(an)g(attempt)f(is)i(made)e
(to)h(do)f(this.)25 b(This)18 b(allo)n(ws)g(an)1105 3959
y(application)i(to)h(read)f(back)g(v)n(alues)g(from)g(a)i(CIF)f(which)f
(has)h(been)g(changed,)1105 4059 y(without)29 b(accidentally)e
(altering)h(it)i(again.)50 b(The)29 b(v)n(alue)f Fq('READONLY')g
Fv(is)1105 4158 y(acceptable)19 b(as)i(a)g(synon)o(ym.)742
4312 y Fq('LOOP')p Fv(:)40 b(\(An)o(y)28 b(mixture)f(of)i(upper)e(and)h
(lo)n(wer)g(case\))h(If)g(the)g(cate)o(gory)d(of)j(data)f(has)1105
4412 y(k)o(e)o(y)d(items)i(de\002ned)d(in)i(the)g(dictionary)-5
b(,)25 b(the)h(sequence)e(of)i(data)g(items)g(will)1105
4511 y(be)c(con)m(v)o(erted)d(to)j(a)h(ST)-8 b(AR)22
b(loop)f(structure)g(with)h(one)g(ro)n(w)-5 b(.)29 b(If)22
b(the)f(cate)o(gory)1105 4611 y(of)16 b(data)f(is)i(initially)f(absent)
f(from)g(the)h(CIF)-7 b(,)16 b(a)g(loop)f(structure)g(will)i(be)e
(created)1105 4711 y(as)21 b(data)f(is)h(written)f(to)h(the)f(cate)o
(gory)-5 b(..)p 515 4769 1146 4 v 580 4825 a Fj(15)634
4848 y Fi(If)20 b(the)h(of)n(fending)h(data)g(items)e(are)h(not)g
(looped,)h(this)e(particular)j(problem)e(can)g(only)g(be)g(detected)h
(when)f(the)g(item)515 4927 y(name)d(contains)i(a)e(')p
Fc(.)p Fi(',)f(and)h(the)h(cate)o(gory)h(name)e(that)h(appears)g
(before)g(the)g(')p Fc(.)p Fi(')e(is)h(not)g(mis-spelled.)25
b(A)17 b(w)o(arning)i(about)515 5006 y(the)f(item)f(not)h(appearing)h
(in)e(the)h(dictionary)i(will)e(still)g(ha)o(v)o(e)g(been)g(produced,)g
(though.)1905 5255 y Fv(24)p eop
%%Page: 25 26
25 25 bop 515 523 a Fs(Synopsis:)83 b Fv(This)24 b(is)h(the)f(function)
e(used)i(to)g(initialise)h(a)f(conte)o(xt,)f(before)g(using)g(it)i(to)f
(read)g(or)515 623 y(write)k(data)g(v)n(alues.)49 b(If)28
b(the)h(cate)o(gory)d(is)j(not)f(present)g(in)g(the)h(data)f(block)f
(speci\002ed,)j(and)e(the)515 722 y(CIF)20 b(has)g(been)g(opened)e
(read-only)-5 b(,)17 b(no)i(conte)o(xt)g(is)i(assigned.)j(A)c(v)n(alue)
f(of)h(-1)g(is)g(returned)f(in)h(the)515 822 y Fq(CONTEXT)f
Fv(parameter)m(,)f(in)j(this)f(case.)639 963 y(If)33
b(the)h(CIF)g(has)g(been)e(opened)g(to)h(allo)n(w)h(writing,)i(a)d
(conte)o(xt)f(is)j(assigned)e(e)n(v)o(en)f(if)i(the)515
1063 y(cate)o(gory)25 b(is)i(not)f(present.)44 b(The)26
b(cate)o(gory)f(is)j(actually)e(created)g(by)g(writing)g(v)n(alues)g
(using)h(the)515 1162 y Fp(CCIF)p 720 1162 25 4 v 29
w(PUT)p 899 1162 V 29 w(*)j Fv(routines,)h(as)f(described)e(in)i(the)g
(ne)o(xt)e(section.)53 b(This)30 b(will)g(be)f(done)g(as)h(a)g(se-)515
1262 y(quence)e(of)i(data)f(items,)k(unless)c Fq(DISPOSITION)g
Fv(w)o(as)h Fq('LOOP')p Fv(,)f(in)h(which)f(case)h(a)h(ST)-8
b(AR)515 1362 y(loop)19 b(structure)g(will)i(be)f(created.)515
1624 y Fs(Comments:)82 b Fv(The)16 b Fq(DISPOSITION)f
Fv(v)n(alue)h Fq('RO')p Fv(/)p Fq('READONLY')e Fv(is)k(pro)o(vided)c
(as)j(a)g(de)n(v)o(el-)515 1724 y(opment)g(aid,)h(for)g(checking)f
(application)g(program)f(logic.)24 b(It)19 b(is)g(not)g(intended)e
(that)h(user)g(options)515 1823 y(should)h(be)h(pro)o(vided)e(which)h
(select)i(this)g(option.)639 1965 y(It)d(is)h(the)f(application)e
(program')-5 b(s)16 b(responsibility)h(to)h(retain)f(the)h(v)n(alue)f
(of)h Fq(CONTEXT)f Fv(which)515 2064 y(is)k(being)e(used)h(for)g(a)g
(particular)f(purpose.)639 2205 y(T)-7 b(o)23 b(create)g(the)f(\002rst)
i(pack)o(et)e(of)g(a)h(ne)n(w)g(loop)f(structure,)g(use)h
Fq(append)p 2743 2205 V 29 w(row)f Fv(for)g Fq(STATUS)o
Fv(,)515 2305 y(in)c(the)g(\002rst)h(call)f(to)g(a)h
Fp(CCIF)p 1348 2305 V 29 w(PUT)p 1527 2305 V 29 w(*)g
Fv(function.)j(T)-7 b(o)18 b(add)g(further)e(data)i(items)g(to)h(the)f
(ne)n(w)f(pack)o(et,)515 2405 y(use)j Fq(keep)p 851 2405
V 29 w(context)g Fv(\(see)g(table)g(2\).)515 2684 y Ft(5.4)99
b(CCIF)p 989 2684 30 4 v 35 w(RELEASE)p 1487 2684 V 38
w(CONTEXT)515 2881 y Fs(Usage:)814 3088 y Fq(CALL)49
b(CCIF)p 1268 3088 25 4 v 29 w(RELEASE)p 1647 3088 V
28 w(CONTEXT\(CONTEXT\))898 3387 y(INTEGER)f(CONTEXT)20
b Fv(\(i\):)41 b(Number)18 b(of)i(conte)o(xt)f(to)i(be)f(freed.)515
3650 y Fs(Synopsis:)83 b Fv(Frees)23 b(the)g(data)f(structures)g
(associated)h(with)g(conte)o(xt)e Fq(CONTEXT)o Fv(,)j(allo)n(wing)e
(the)515 3749 y(conte)o(xt)d(to)h(be)g(reassigned)f(to)i(another)d
(cate)o(gory/data)g(block.)515 4012 y Fs(Comments:)82
b Fv(This)71 b(is)h(not)e(the)h(only)f(w)o(ay)h(a)g(conte)o(xt)e(can)i
(be)f(freed.)176 b(See)515 4112 y Fq(advance)p 870 4112
V 28 w(context)20 b Fv(in)g(table)g(2.)515 4391 y Ft(5.5)99
b(CCIF)p 989 4391 30 4 v 35 w(CONTEXT)p 1516 4391 V 37
w(ST)-9 b(A)g(TUS)515 4588 y Fs(Usage:)814 4796 y Fq(CALL)49
b(CCIF)p 1268 4796 25 4 v 29 w(CONTEXT)p 1647 4796 V
28 w(STATUS\(CONTEXT,)e(BLOCK,)i(CATNAME,)764 4895 y(&)g(NCOLS,)g
(SINDEX,)g(STATUS\))1905 5255 y Fv(25)p eop
%%Page: 26 27
26 26 bop 898 523 a Fq(INTEGER)48 b(CONTEXT)20 b Fv(\(i\):)41
b(Number)18 b(of)i(conte)o(xt.)898 689 y Fq(INTEGER)48
b(BLOCK)20 b Fv(\(o\):)40 b(Block)21 b(id)f(on)g(which)f(conte)o(xt)g
(has)i(been)e(set)i(up.)898 855 y Fq(CHARACTER*\(*\))47
b(CATNAME)20 b Fv(\(o\):)40 b(Name)34 b(of)f(cate)o(gory)f(on)i(which)f
(conte)o(xt)1105 955 y(has)21 b(been)e(set)i(up.)898
1121 y Fq(INTEGER)48 b(NCOLS)20 b Fv(\(o\):)40 b(Number)27
b(of)i(columns,)g(if)f(the)h(cate)o(gory)e(is)i(a)g(loop;)i(0)1105
1220 y(otherwise.)898 1386 y Fq(INTEGER)48 b(SINDEX)20
b Fv(\(o\):)40 b(Inde)o(x)15 b(of)h(associated)g(sort)h(\(see)g
(section)f(7\).)23 b(This)17 b(will)1105 1486 y(be)j(-1)g(if)h(the)f
(cate)o(gory)e(has)j(not)f(been)f(associated)h(with)g(a)h(sort)f(order)
-5 b(.)898 1652 y Fq(INTEGER)48 b(STATUS)20 b Fv(\(o\):)40
b(Status)21 b(of)f(conte)o(xt.)k(Possible)c(v)n(alues)g(are:)972
1876 y(-1:)40 b Fq(CONTEXT)20 b Fv(out)g(of)g(range,)e(or)i(not)g(set)h
(up.)999 2042 y(0:)41 b(Unkno)n(wn)18 b(status)j(\(indicates)f(that)g
(something)f(is)i(wrong\).)999 2208 y(1:)41 b(Conte)o(xt)20
b(has)g(been)g(opened)e(read-only)999 2374 y(2:)41 b(Conte)o(xt)20
b(has)g(been)g(opened)e(read-write)515 2637 y Fs(Synopsis:)83
b Fv(Self-e)o(xplanatory)-5 b(,)14 b(I)j(hope....)22
b(Returns)c(information)d(about)h(a)i(particular)e(conte)o(xt,)515
2737 y(speci\002ed)k(by)f(number)515 3058 y Fu(6)119
b(Accessing)30 b(data)g(v)o(alues)515 3285 y Fv(The)25
b(operation)f(of)i(these)g(routines)f(are)h(controlled)e(with)j(the)f
(v)n(alue)f(of)g(the)h Fq(STATUS)g Fv(param-)515 3385
y(eter)-5 b(.)58 b(The)31 b(application)f(must)h(set)h(the)f(v)n(alue)g
(to)g(an)h(appropriate)c(v)n(alue)j(chosen)f(from)h(table)515
3485 y(2.)46 b(The)27 b(returned)e(v)n(alue)i(\(table)f(3\))h(pro)o
(vides)f(information)f(on)h(the)i(status)f(of)g(the)h(v)n(alue.)45
b(F)o(or)515 3584 y(the)27 b Fp(CCIF)p 849 3584 25 4
v 29 w(GET)p 1028 3584 V 29 w(*)h Fv(routines,)f(a)h(def)o(ault)e(v)n
(alue)g(from)g(the)h(dictionary)-5 b(,)26 b(where)h(a)n(v)n(ailable,)h
(will)515 3684 y(al)o(w)o(ays)20 b(be)h(returned)d(in)i(preference)e
(to)j(an)f(unkno)n(wn)d(v)n(alue.)639 3825 y(Not)h(all)h(the)f(v)n
(alues)f(gi)n(v)o(en)g(in)h(the)g(table)g(are)g(appropriate)d(to)j(e)n
(v)o(ery)f(situation.)24 b(F)o(or)17 b(e)o(xample,)515
3925 y Fq(single)p 820 3925 V 29 w(dict)h Fv(will)h(ne)n(v)o(er)f(be)g
(returned)f(for)h(a)i(v)n(alue)e(which)g(occurs)g(in)h(looped)e(data.)
24 b(Inte)o(ger)515 4024 y(di)n(viding)g(by)h(2)h(\(or)f(a)h(right)f
(shift)h(by)f(1\))h(will)g(allo)n(w)g(simpler)f(checking)f(between)h
(the)h(v)n(arious)515 4124 y(possiblilities,)20 b(where)g(it)h(is)g
(kno)n(wn)d(whether)i(the)g(data)g(is)h(looped)e(or)h(not.)639
4265 y(The)35 b Fp(CCIF)p 1009 4265 V 29 w(PUT)p 1188
4265 V 29 w(*)g Fv(routines)f(do)g(a)h(`get')f(on)h(the)f(v)n(alue)g
(internally)-5 b(,)37 b(before)c(replacing)515 4365 y(it)g(with)h(the)f
(application-supplied)c(v)n(alue.)63 b(The)33 b(returned)e(v)n(alue)h
(of)h Fq(STATUS)f Fv(re\003ects)i(the)515 4464 y(state)27
b(of)g(the)f(data)h(just)g Fk(befor)m(e)g Fv(the)f(ne)n(w)h(v)n(alue)f
(is)i(written)e(out)h(\(in)f(this)h(case,)i Fq(no)p 3009
4464 V 29 w(value)e Fv(or)515 4564 y Fq(loop)p 720 4564
V 29 w(unknown)i Fv(will)i(be)f(returned,)g(e)n(v)o(en)f(when)h(there)f
(is)i(a)f(def)o(ault)g(v)n(alue)f(in)h(the)g(dictio-)515
4664 y(nary\).)1905 5255 y(26)p eop
%%Page: 27 28
27 27 bop 515 527 2964 4 v 513 627 4 100 v 565 597 a
Fv(v)n(alue)p 790 627 V 221 w(mnemonic)p 1487 627 V 221
w(description)p 3477 627 V 515 630 2964 4 v 515 647 V
513 746 4 100 v 633 717 a(1)p 790 746 V 251 w(k)o(eep)p
1088 717 25 4 v 29 w(conte)o(xt)p 1487 746 4 100 v 182
w(K)n(eep)20 b(conte)o(xt)f(pointing)f(at)j(the)f(same)g(loop)g(pack)o
(et)p 3477 746 V 515 750 2964 4 v 513 1049 4 299 v 633
819 a(2)p 790 1049 V 194 w(adv)n(ance)p 1146 819 25 4
v 28 w(conte)o(xt)p 1487 1049 4 299 v 125 w(Adv)n(ance)34
b(conte)o(xt)g(to)i(ne)o(xt)f(loop)g(pack)o(et)g(before)f(accessing)
1539 919 y(v)n(alue.)52 b(If)29 b(pre)n(vious)f(pack)o(et)h(w)o(as)i
(the)e(last)i(one,)g(or)e(cate)o(gory)1539 1019 y(is)21
b(not)f(present)f(as)i(a)g(loop,)e(the)h(conte)o(xt)f(will)i(be)f
(freed.)p 3477 1049 V 515 1052 2964 4 v 513 1351 4 299
v 633 1122 a(3)p 790 1351 V 267 w(append)p 1189 1122
25 4 v 28 w(ro)n(w)p 1487 1351 4 299 v 199 w(Add)i(a)h(pack)o(et)g(of)f
(unkno)n(wns)f(to)i(a)g(loop)f(structure,)g(and)h(point)1539
1221 y(conte)o(xt)d(at)i(that)f(before)f(accessing)h(v)n(alue.)28
b(Only)21 b(v)n(alid)g(for)g(the)1539 1321 y Fp(CCIF)p
1744 1321 25 4 v 29 w(PUT)p 1923 1321 V 29 w(*)g Fv(routines.)p
3477 1351 4 299 v 515 1354 2964 4 v 513 1852 4 499 v
633 1424 a(4)p 790 1852 V 167 w(adv)n(ance)p 1119 1424
25 4 v 28 w(and)p 1268 1424 V 28 w(hold)p 1487 1852 4
499 v 99 w(As)48 b Fq(advance)p 2034 1424 25 4 v 28 w(context)o
Fv(,)54 b(b)n(ut)47 b(in)h(the)f(case)h(of)f(looped)1539
1524 y(data,)e(will)d(not)e(free)g(the)h(conte)o(xt)f(on)g(the)h(last)g
(ro)n(w)-5 b(.)86 b(Af-)1539 1623 y(ter)24 b(a)g Fp(CCIF)p
1917 1623 V 29 w(GET)p 2096 1623 V 29 w(*)g Fv(function)e(returns)h
Fq(end)p 2905 1623 V 30 w(of)p 3035 1623 V 29 w(context)o
Fv(,)1539 1723 y(the)37 b(ne)o(xt)g Fp(CCIF)p 2063 1723
V 29 w(PUT)p 2242 1723 V 29 w(*)h Fv(function)e(should)g(be)i(called)f
(with)1539 1822 y Fq(append)p 1844 1822 V 28 w(row)p
Fv(.)p 3477 1852 4 499 v 515 1856 2964 4 v 766 2087 a(T)-7
b(able)20 b(2:)25 b(T)-7 b(able)20 b(of)g(input)g(status)h(v)n(alues)e
(to)i(control)e(the)h(data)g(access)h(routines.)p 515
2433 2881 4 v 513 2533 4 100 v 565 2503 a(v)n(alue)p
790 2533 V 180 w(mnemonic)p 1404 2533 V 179 w(description)p
3394 2533 V 515 2536 2881 4 v 515 2553 V 513 2653 4 100
v 633 2623 a(0)p 790 2653 V 279 w(no)p 1043 2623 25 4
v 29 w(v)n(alue)p 1404 2653 4 100 v 210 w(Data)f(item)g(conte)o(xt:)k
(v)n(alue)c(not)g(present,)f(or)h(speci\002ed)g(as)h(`?')p
3394 2653 V 515 2656 2881 4 v 513 2756 4 100 v 633 2726
a(1)p 790 2756 V 182 w(loop)p 1011 2726 25 4 v 28 w(unkno)n(wn)p
1404 2756 4 100 v 112 w(As)g Fq(no)p 1674 2726 25 4 v
29 w(value)o Fv(,)g(b)n(ut)f(in)g(a)h(loop)e(structure)p
3394 2756 4 100 v 515 2759 2881 4 v 513 2859 4 100 v
633 2829 a(2)p 790 2859 V 221 w(single)p 1100 2829 25
4 v 29 w(v)n(alue)p 1404 2859 4 100 v 153 w(V)-9 b(alue)19
b(returned)g(from)g(a)i(ST)-8 b(AR)21 b(data)f(item)p
3394 2859 V 515 2862 2881 4 v 513 2961 4 100 v 633 2932
a(3)p 790 2961 V 246 w(loop)p 1075 2932 25 4 v 29 w(v)n(alue)p
1404 2961 4 100 v 178 w(V)-9 b(alue)19 b(returned)g(from)g(loop)g(pack)
o(et)p 3394 2961 V 515 2965 2881 4 v 513 3164 4 200 v
633 3035 a(4)p 790 3164 V 248 w(single)p 1127 3035 25
4 v 29 w(dict)p 1404 3164 4 200 v 180 w(As)g Fq(no)p
1672 3035 25 4 v 30 w(value)o Fv(.)25 b(Returned)18 b(v)n(alue)g(is)i
(def)o(ault)e(tak)o(en)g(from)g(dic-)1456 3134 y(tionary)p
3394 3164 4 200 v 515 3167 2881 4 v 513 3367 4 200 v
633 3237 a(5)p 790 3367 V 273 w(loop)p 1102 3237 25 4
v 28 w(dict)p 1404 3367 4 200 v 206 w(As)36 b Fq(loop)p
1789 3237 25 4 v 29 w(unknown)o Fv(.)72 b(Returned)34
b(v)n(alue)h(is)i(def)o(ault)d(tak)o(en)1456 3337 y(from)19
b(dictionary)p 3394 3367 4 200 v 515 3370 2881 4 v 513
3470 4 100 v 633 3440 a(6)p 790 3470 V 245 w(single)p
1124 3440 25 4 v 29 w(null)p 1404 3470 4 100 v 178 w(V)-9
b(alue)19 b(speci\002ed)h(as)h(`.)-6 b(')25 b(in)c(a)f(ST)-8
b(AR)21 b(data)f(item.)p 3394 3470 V 515 3473 2881 4
v 513 3572 4 100 v 633 3543 a(7)p 790 3572 V 271 w(loop)p
1100 3543 25 4 v 28 w(null)p 1404 3572 4 100 v 203 w(V)-9
b(alue)19 b(speci\002ed)h(as)h(`.)-6 b(')25 b(in)c(loop)e(pack)o(et.)p
3394 3572 V 515 3576 2881 4 v 513 3875 4 299 v 633 3646
a(8)p 790 3875 V 178 w(end)p 979 3646 25 4 v 29 w(of)p
1078 3646 V 29 w(conte)o(xt)p 1404 3875 4 299 v 109 w(Ran)40
b(of)n(f)f(end)g(of)g(loop,)k(or)d(item)g(is)g(not)g(in)f(a)i(loop)d
(struc-)1456 3745 y(ture)33 b(\(implies)g(input)g(status)h(w)o(as)g
Fq(advance)p 2870 3745 25 4 v 29 w(context)e Fv(or)1456
3845 y Fq(advance)p 1811 3845 V 28 w(and)p 1989 3845
V 30 w(hold)o Fv(\).)25 b(Returned)19 b(v)n(alue)h(is)h(unde\002ned.)p
3394 3875 4 299 v 515 3878 2881 4 v 513 4277 4 399 v
633 3948 a(9)p 790 4277 V 167 w(parenthesis)p 1222 3948
25 4 v 28 w(esd)p 1404 4277 4 399 v 100 w(Special)c(v)n(alue)f(for)h
Fp(CCIF)p 2233 3948 25 4 v 29 w(GET)p 2412 3948 V 29
w(REAL)p 2641 3948 V 29 w(ESD)t Fv(.)24 b(Standard)16
b(de)n(vi-)1456 4047 y(ation)22 b(w)o(as)i(retrie)n(v)o(ed)d(from)h
(parentheses)g(appended)e(to)j(a)h(\003oat)1456 4147
y(data)k(item)g(type.)48 b(Only)28 b(applicable)f(where)g(speci\002ed)h
(by)g(the)1456 4247 y(dictionary)p 3394 4277 4 399 v
515 4280 2881 4 v 513 4579 4 299 v 612 4350 a(10)p 790
4579 V 184 w(in)m(v)n(alid)p 1112 4350 25 4 v 28 w(tok)o(en)p
1404 4579 4 299 v 136 w(Special)d(v)n(alue)g(for)g Fp(CCIF)p
2258 4350 25 4 v 29 w(PUT)p 2437 4350 V 29 w(CHAR)p Fv(.)41
b(Could)25 b(not)g(create)h(a)1456 4449 y(v)n(alid)19
b(ST)-8 b(AR)20 b(tok)o(en)f(from)g(input)g(pro)o(vided,)e(so)j(output)
e(`.)-6 b(')25 b(with)1456 4549 y(w)o(arning)19 b(comments)g(instead.)
2391 4519 y Fl(16)p 3394 4579 4 299 v 515 4582 2881 4
v 832 4813 a Fv(T)-7 b(able)20 b(3:)25 b(T)-7 b(able)20
b(of)g(status)h(v)n(alues)f(returned)e(by)i(the)g(data)g(access)h
(routines.)1905 5255 y(27)p eop
%%Page: 28 29
28 28 bop 515 452 3128 4 v 513 551 4 100 v 565 521 a
Fq(BTYPE)p 862 551 V 98 w Fv(F)o(ortran)19 b(type)p 1788
551 V 519 w(Input)g(function)p 2715 551 V 451 w(Output)g(function)p
3641 551 V 515 555 3128 4 v 515 571 V 513 671 4 100 v
668 641 a(0)p 862 671 V 203 w(not)h(determinable)p 1788
671 V 364 w(\226)p 2715 671 V 884 w(\226)p 3641 671 V
515 674 3128 4 v 513 873 4 200 v 668 744 a(1)p 862 873
V 203 w Fq(CHARACTER*\(*\))108 b Fv(or)913 844 y Fq
(CHARACTER*\(*\)\(*\))p 1788 873 V 1840 744 a Fp(CCIF)p
2045 744 25 4 v 29 w(GET)p 2224 744 V 29 w(CHAR)149 b
Fv(or)1840 844 y Fp(CCIF)p 2045 844 V 29 w(GET)p 2224
844 V 29 w(TEXT)p 2715 873 4 200 v 2766 744 a(CCIF)p
2971 744 25 4 v 29 w(PUT)p 3150 744 V 30 w(CHAR)g Fv(or)2766
844 y Fp(CCIF)p 2971 844 V 29 w(PUT)p 3150 844 V 30 w(TEXT)p
3641 873 4 200 v 515 877 3128 4 v 513 976 4 100 v 668
946 a Fv(2)p 862 976 V 203 w Fq(INTEGER)p 1788 976 V
577 w Fp(CCIF)p 2045 946 25 4 v 29 w(GET)p 2224 946 V
29 w(INT)p 2715 976 4 100 v 368 w(CCIF)p 2971 946 25
4 v 29 w(PUT)p 3150 946 V 30 w(INT)p 3641 976 4 100 v
515 980 3128 4 v 513 1079 4 100 v 668 1049 a Fv(3)p 862
1079 V 203 w Fq(REAL)p 1788 1079 V 727 w Fp(CCIF)p 2045
1049 25 4 v 29 w(GET)p 2224 1049 V 29 w(REAL)p 2715 1079
4 100 v 318 w(CCIF)p 2971 1049 25 4 v 29 w(PUT)p 3150
1049 V 30 w(REAL)p 3641 1079 4 100 v 515 1083 3128 4
v 513 1182 4 100 v 668 1152 a Fv(4)p 862 1182 V 203 w
Fq(REAL)p 1788 1182 V 727 w Fp(CCIF)p 2045 1152 25 4
v 29 w(GET)p 2224 1152 V 29 w(REAL)p 2453 1152 V 29 w(ESD)p
2715 1182 4 100 v 139 w(CCIF)p 2971 1152 25 4 v 29 w(PUT)p
3150 1152 V 30 w(REAL)p 3380 1152 V 29 w(ESD)p 3641 1182
4 100 v 515 1186 3128 4 v 957 1417 a Fv(T)-7 b(able)20
b(4:)25 b(V)-9 b(alues)21 b(of)e Fq(BTYPE)h Fv(returned)f(by)g
Fp(CCIF)p 2458 1417 25 4 v 30 w(ITEM)p 2688 1417 V 29
w(TYPE)t Fv(.)p 515 1546 2865 4 v 515 1816 a Ft(6.1)99
b(CCIF)p 989 1816 30 4 v 35 w(ITEM)p 1289 1816 V 37 w(TYPE)515
2014 y Fs(Usage:)814 2221 y Fq(CALL)49 b(CCIF)p 1268
2221 25 4 v 29 w(ITEM)p 1497 2221 V 29 w(TYPE\(ITEM,)f(CODE,)h(PCODE,)f
(BTYPE,)764 2321 y(&)h(SLINE\))898 2620 y(CHARACTER*\(*\))e(ITEM)20
b Fv(\(i\):)41 b(Name)20 b(of)g(data)g(item)898 2786
y Fq(CHARACTER*\(*\))47 b(CODE)20 b Fv(\(o\):)p 1981
2786 V 70 w Fp(item)p 2211 2786 V 30 w(type.code)f Fv(for)g
Fq(ITEM)898 2952 y(CHARACTER*\(*\))47 b(PCODE)20 b Fv(\(o\):)p
2031 2952 V 70 w Fp(item)p 2261 2952 V 29 w(type)p 2490
2952 V 30 w(list.primitive)p 3220 2952 V 27 w(code)1105
3051 y Fv(applicable)f(to)i Fq(ITEM)898 3217 y(INTEGER)48
b(BTYPE)20 b Fv(\(o\):)40 b(Basic)24 b(type)d(of)h(item.)31
b(See)23 b(table)f(4)g(for)f(the)h(v)n(alues)g(and)1105
3317 y(their)e(interpretations.)898 3483 y Fq(INTEGER)48
b(SLINE)20 b Fv(\(o\):)40 b(F)o(or)22 b(character/te)o(xt)f(data,)h(a)h
(v)n(alue)e(of)h(0)h(indicates)e(that)1105 3583 y(the)26
b(v)n(alue)e(of)h Fq(ITEM)g Fv(may)g(be)g(multi-line)f(te)o(xt,)i(and)f
(a)h(v)n(alue)e(of)h(1)g(that)h(the)1105 3682 y(v)n(alue)20
b(can)g(only)f(appear)g(on)h(a)h(single)f(line.)515 3945
y Fs(Synopsis:)83 b Fv(Retrie)n(v)o(es)32 b(information)f(from)h(the)g
Fq(ITEM)p 2238 3945 V 30 w(TYPE)p 2468 3945 V 29 w(LIST)g
Fv(dictionary)f(cate)o(gory)515 4044 y(relating)19 b(to)h
Fq(ITEM)p Fv(.)515 4307 y Fs(Comments:)82 b Fv(Use)45
b(this)f(routine)e(if)i(you)f(are)h(unsure)f(which)g(of)g(the)h
Fp(CCIF)p 3012 4307 V 29 w(GET)p 3191 4307 V 30 w(*)g
Fv(or)515 4407 y Fp(CCIF)p 720 4407 V 29 w(PUT)p 899
4407 V 29 w(*)28 b Fv(functions)d(to)j(use)f(to)g(handle)f
Fq(ITEM)o Fv(.)46 b Fq(BTYPE)27 b Fv(and)g Fq(SLINE)f
Fv(together)g(de\002ne)515 4506 y(which)19 b(functions)g(to)i(use)f
(\227)h(see)f(table)h(4.)p 515 4559 1146 4 v 580 4615
a Fj(16)634 4638 y Fi(This)c(will)h(soon)f(be)g(changed)i(so)e(that)h
(a)f(check)i(is)e(made)g(against)h(the)g(construct)h(from)e(the)h
(dictionary)i(as)d(well.)1905 5255 y Fv(28)p eop
%%Page: 29 30
29 29 bop 515 523 a Ft(6.2)99 b(Items)25 b(common)g(to)g(the)g(CCIF)p
1907 523 30 4 v 36 w(GET)p 2153 523 V 36 w(*)g(functions.)898
712 y Fq(CHARACTER*\(*\))47 b(ITEM)20 b Fv(\(i\):)41
b(Name)20 b(of)g(data)g(item)h(whose)f(v)n(alue)f(is)i(to)g(be)f(re-)
1105 812 y(trie)n(v)o(ed.)898 978 y Fq(CHARACTER*\(*\))47
b(CVALUE)20 b Fv(\(o\):)40 b(T)-6 b(e)o(xt)18 b(of)g(v)n(alue)f(of)h
Fq(ITEM)g Fv(as)g(it)h(is)g(present)e(in)1105 1077 y(the)j(CIF)-7
b(.)22 b(Returned)d(for)g(diagnostic)g(purposes)898 1243
y Fq(INTEGER)48 b(CONTEXT)20 b Fv(\(i/o\):)40 b(Conte)o(xt)25
b(from)g(which)h(the)g(v)n(alue)f(of)h Fq(ITEM)g Fv(is)g(to)1105
1343 y(be)20 b(retrie)n(v)o(ed)898 1509 y Fq(INTEGER)48
b(STATUS)20 b Fv(\(i/o\):)40 b(Status)21 b(parameter)515
1771 y Fs(Synopsis:)83 b Fv(Retrie)n(v)o(es)20 b(v)n(alue)f(of)h
Fq(ITEM)g Fv(from)f Fq(CONTEXT)o Fv(.)515 2034 y Fs(Comments:)82
b Fq(CONTEXT)20 b Fv(is)h(`\(i/o\)',)d(since)j(it)g(will)g(be)f(set)h
(to)f(-1)g(if)h(the)f(conte)o(xt)f(is)i(freed.)515 2313
y Ft(6.3)99 b(CCIF)p 989 2313 V 35 w(GET)p 1234 2313
V 37 w(INT)515 2510 y Fs(Usage:)814 2718 y Fq(CALL)49
b(CCIF_GET_INT\(ITEM,)d(CVALUE,)j(VALUE,)764 2818 y(&)g(CONTEXT,)g
(STATUS\))898 3116 y(INTEGER)f(VALUE)20 b Fv(\(o\):)40
b(V)-9 b(alue)20 b(of)g Fq(ITEM)g Fv(as)h(an)f(inte)o(ger)-5
b(.)515 3396 y Ft(6.4)99 b(CCIF)p 989 3396 V 35 w(GET)p
1234 3396 V 37 w(REAL)515 3593 y Fs(Usage:)814 3800 y
Fq(CALL)49 b(CCIF_GET_REAL\(ITEM,)d(CVALUE,)i(VALUE,)764
3900 y(&)h(CONTEXT,)g(STATUS\))898 4199 y(REAL)g(VALUE)20
b Fv(\(o\):)40 b(V)-9 b(alue)20 b(of)g Fq(ITEM)g Fv(as)h(a)f(real.)1905
5255 y(29)p eop
%%Page: 30 31
30 30 bop 515 523 a Ft(6.5)99 b(CCIF)p 989 523 30 4 v
35 w(GET)p 1234 523 V 37 w(REAL)p 1547 523 V 36 w(ESD)515
720 y Fs(Usage:)814 928 y Fq(CALL)49 b(CCIF_GET_REAL_ESD\(ITEM,)c
(CVALUE,)k(VALUE,)764 1027 y(&)g(CESD,)g(ESD,)g(CONTEXT,)g(STATUS,)f
(ESDSTATUS\))898 1326 y(REAL)h(VALUE)20 b Fv(\(o\):)40
b(V)-9 b(alue)20 b(of)g Fq(ITEM)g Fv(as)h(a)f(real.)898
1492 y Fq(CHARACTER*\(*\))47 b(CESD)20 b Fv(\(o\):)41
b(As)36 b(for)f Fq(CVALUE)n Fv(,)40 b(b)n(ut)c(for)e(associated)i(esd,)
1105 1592 y(where)20 b(it)h(w)o(as)g(present)e(in)i(the)f(CIF)h(as)g(a)
f(separate)g(data)g(v)n(alue.)898 1758 y Fq(REAL)49 b(ESD)20
b Fv(\(o\):)40 b(V)-9 b(alue)20 b(of)g(esd)h(associated)e(with)i
Fq(ITEM)o Fv(.)898 1924 y Fq(INTEGER)48 b(ESDSTATUS)19
b Fv(\(o\):)41 b(Status)20 b(v)n(alue)g(for)g(esd)g(\(see)g(table)g
(3\).)515 2187 y Fs(Synopsis:)83 b Fv(This)41 b(function)e(retrie)n(v)o
(es)g(a)j(v)n(alue)e(and)g(its)i(associated)e(esd,)46
b(auto-detecting)515 2286 y(whether)19 b(it)i(is)g(present)e(as)i(a)g
(parenthesised)e(v)n(alue,)g(or)h(a)g(separate)g(data)g(item)h(or)e
(data)i(v)n(alue.)515 2549 y Fs(Comments:)82 b Fv(At)19
b(the)f(present)g(time,)h(the)f(mmCIF)g(dictionary)f(does)h(not)g(allo)
n(w)g(parenthesised)515 2648 y(esd')-5 b(s)19 b(for)g(v)n(alues)f
(which)g(are)h(de\002ned)f(to)h(be)g(of)g(type)f Fq(int)o
Fv(.)26 b(\(This)18 b(does)h(not)f(forbid)g(a)h(tok)o(en)f(lik)o(e)515
2748 y Fq(1234\(5\))n Fv(,)j(where)p 1133 2748 25 4 v
49 w Fp(item.type)p 1613 2748 V 29 w(code)f Fv(is)h(de\002ned)e(to)h
(be)g Fq(float)o Fv(,)h(of)f(course.\))515 3027 y Ft(6.6)99
b(CCIF)p 989 3027 30 4 v 35 w(GET)p 1234 3027 V 37 w(CHAR)515
3224 y Fs(Usage:)814 3432 y Fq(CALL)49 b(CCIF_GET_CHAR\(ITEM,)d
(CVALUE,)i(VALUE,)764 3532 y(&)h(LENVAL,)g(CONTEXT,)f(STATUS\))898
3830 y(CHARACTER*\(*\))f(VALUE)20 b Fv(\(o\):)40 b(V)-9
b(alue)25 b(of)g Fq(ITEM)g Fv(as)g(a)h(character)-5 b(.)39
b(If)25 b(the)g(to-)1105 3930 y(k)o(en)h(in)g(the)f(CIF)i(w)o(as)g
(single)e(quoted)g(or)g(double)f(quoted,)i(the)g(quotes)f(will)1105
4030 y(ha)n(v)o(e)34 b(been)f(remo)o(v)o(ed.)64 b(If)33
b(the)h(tok)o(en)g(w)o(as)g(a)h(semi-colon-bounded)29
b(te)o(xt)1105 4129 y(string,)19 b(the)h(\002rst)g(line)g(will)g(be)g
(returned,)d(with)j(the)g(leading)e(semi-colon)g(and)1105
4229 y(trailing)23 b(ne)n(wline)f(remo)o(v)o(ed.)30 b(A)23
b(w)o(arning)f(will)i(be)e(printed)g(if)h(the)g(te)o(xt)f(con-)1105
4329 y(tained)e(more)f(than)h(one)g(line.)898 4495 y
Fq(INTEGER)48 b(LENVAL)20 b Fv(\(o\):)40 b(Length)25
b(of)g(tok)o(en,)h(not)g(counting)e(quotes.)41 b(If)25
b(this)i(is)1105 4594 y(longer)e(than)g Fq(LEN\(VALUE\))f
Fv(the)i(data)g(w)o(as)g(truncated)e(to)i(\002t)h(in)f(the)f(v)n(ari-)
1105 4694 y(able.)1905 5255 y(30)p eop
%%Page: 31 32
31 31 bop 515 523 a Ft(6.7)99 b(CCIF)p 989 523 30 4 v
35 w(GET)p 1234 523 V 37 w(TEXT)515 718 y Fs(Usage:)814
920 y Fq(CALL)49 b(CCIF_GET_TEXT\(ITEM,)d(ITMPOS,)i(NLINE,)h(BUF,)764
1020 y(&)g(NLBUF,)g(CONTEXT,)f(STATUS\))898 1314 y(INTEGER)g(ITMPOS)20
b Fv(\(i/o\):)40 b(Placemark)o(er)19 b(within)h(te)o(xt.)898
1478 y Fq(INTEGER)48 b(NLINE)20 b Fv(\(o\):)40 b(Number)20
b(of)g(lines)h(of)f(te)o(xt)g(actually)g(retrie)n(v)o(ed)f(\(b)n(ut)h
(see)1105 1578 y(synopsis\).)898 1742 y Fq(CHARACTER\(*\))47
b(BUF)20 b Fv(\(o\):)41 b(Buf)n(fer)19 b(to)i(recei)n(v)o(e)e(te)o(xt.)
898 1906 y Fq(INTEGER)48 b(NLBUF)20 b Fv(\(i\):)41 b(Number)26
b(of)i(te)o(xt)f(lines)h Fq(BUF)g Fv(can)f(hold.)46 b
Fq(LEN\(BUF\))1105 2006 y Fv(must)20 b(be)g(an)g(inte)o(gral)e
(multiple)h(of)h Fq(NLBUF)f Fv(\227)i(a)f(v)n(alue)f(of)g(80)h(for)f
(this)h(mul-)1105 2106 y(tiple)h(is)h(strongly)e(suggested.)25
b(If)c(it)g(is)h(less,)g(lines)f(within)g(the)g(retrie)n(v)o(ed)e(te)o
(xt)1105 2205 y(will)i(be)f(truncated,)f(or)h(the)g(data)g(may)g(be)g
(otherwise)f(garbled.)515 2465 y Fs(Synopsis:)83 b Fv(Where)19
b(data)g(is)i(present)e(in)h(the)f(CIF)h(as)h(multi-line)d(te)o(xt,)i
(a)g(maximum)e(of)h Fq(NLBUF)515 2565 y Fv(lines)i(is)i(retrie)n(v)o
(ed,)c(starting)i Fq(ITMPOS)g Fv(characters)f(from)g(the)h(start.)29
b(Each)21 b(line)g(will)h(be)f(padded)515 2664 y(with)e(spaces)g(to)g
(the)f(end)h(of)f(line,)h(the)g(line)g(length)f(being)g
Fq(LEN\(BUF\)/NLBUF)m Fv(.)25 b(The)18 b(returned)515
2764 y(v)n(alue)f(of)h Fq(ITMPOS)f Fv(will)h(be)g(the)g(position)f(of)h
(the)g(end)f(of)h(the)g(last)g(line)g(returned)e(in)i
Fq(BUF)p Fv(,)h(e)o(xcept)515 2864 y(where)i(no)g(more)f(te)o(xt)i
(remains,)f(when)g(the)g(v)n(alue)g(of)g Fq(ITMPOS)g
Fv(will)h(be)g(zero.)28 b(This)22 b(allo)n(ws)g(the)515
2963 y(te)o(xt)c(to)h(be)g(retrie)n(v)o(ed)e(in)i(chunks,)f(with)h
Fq(ITMPOS)f Fv(being)g(retained)g(by)g(the)h(application)f(program)515
3063 y(between)e(calls)h(to)g(this)h(function.)k(The)16
b(bounding)e(semi-colons)i(are)h(not)f(stripped)g(from)g(the)h(data)515
3163 y(returned.)639 3302 y(Where)27 b(data)f(is)h(present)f(in)h(the)f
(CIF)i(as)f(a)g(single-,)g(double-,)f(or)h(non-quoted)c(te)o(xt)j
(string,)515 3401 y Fq(BUF)16 b Fv(will)g(contain)f(the)h(v)n(alue)f
(with)h(quoting)e(remo)o(v)o(ed,)h(and)g Fq(NLINE)g Fv(will)i(contain)e
(the)h(length)f(of)515 3501 y(the)h(data)g(\(i.e.)24
b(equi)n(v)n(alent)15 b(to)h Fq(VALUE)g Fv(and)g Fq(LENVAL)g
Fv(respecti)n(v)o(ely)f(for)g Fp(CCIF)p 2834 3501 25
4 v 29 w(GET)p 3013 3501 V 30 w(CHAR)o Fv(\).)24 b(In)515
3601 y(this)19 b(case,)g(the)f(whole)g(of)g(the)g(data)h(will)g(be)f
(returned)f(from)g(each)h(call,)h(irrespecti)n(v)o(e)e(of)h(the)g
(input)515 3700 y(v)n(alue)f(of)i Fq(ITMPOS)o Fv(,)g(which)f(will)h(be)
f(retured)f(with)i(a)g(v)n(alue)e(of)i(-1.)24 b(Since)18
b(this)h(is)g(fundementally)515 3800 y(a)24 b(ST)-8 b(AR,)25
b(rather)e(than)h(a)g(CIF)h(issue,)g(this)g(case)f(also)h(co)o(v)o
(eres)d(to)i(the)g(case)h(where)e(the)h(v)n(alue)g(is)515
3900 y(unkno)n(wn/unspeci\002ed)16 b(or)k(null,)f(in)i(addition)e(to)h
(setting)g Fq(STATUS)g Fv(appropriately)-5 b(.)515 4159
y Fs(Comments:)82 b Fv(Handling)15 b(te)o(xt)h(of)g(arbitrary)f(length)
g(with)i(F)o(ortran77)d(is)j(a)g(pain)f(\227)h(please)f(don')o(t)515
4259 y(blame)22 b(me!)31 b(No)23 b(matter)f(ho)n(w)g(lar)o(ge)g(you)f
(dimension)g Fq(BUF)p Fv(,)i(the)g(te)o(xt)f(which)g(you)g(are)g
(trying)f(to)515 4359 y(retrie)n(v)o(e)14 b(may)i(not)f(all)h(\002t)h
(in.)23 b(P)o(art)16 b(of)g(the)f(problem)f(is)j(that)f(you)f(don')o(t)
f(kno)n(w)g(in)i(adv)n(ance)f(whether)515 4458 y(the)22
b(data)g(is)i(actually)d(present)h(as)h(multi-line)f(te)o(xt,)g(or)g
(as)h(a)g(quoted)e(or)h(non-quoted)d(te)o(xt)j(string,)515
4558 y(so)e(this)h(routine)e(has)h(to)h(cope)e(with)i(both)e(cases.)639
4697 y(The)26 b(best)g(w)o(ay)g(to)g(cope)f(with)h(the)f(b)n(uf)n(fer)g
(is)i(to)f(equi)n(v)n(alence)d(it)k(to)f(a)g(character)f(array)-5
b(,)25 b(for)515 4797 y(e)o(xample:)1905 5255 y(31)p
eop
%%Page: 32 33
32 32 bop 831 523 a Fe(CHARACTER*80)43 b(BUF*800,)g(TEXT\(10\))831
614 y(EQUIVALENCE\(TEXT,BUF\))965 706 y(....)831 797
y(ITMPOS)h(=)g(0)562 888 y(10)179 b(CALL)44 b
(CCIF_GET_TEXT\('_citation.abstract',)39 b(ITMPOS,)44
b(NLINE,)786 980 y(&)h(BUF,)f(10,)g(CONTEXT,)g(STATUS\))831
1162 y(IF)g(\(ITMPOS)g(.LT.)g(0\))h(THEN)562 1254 y(C___DO)f(SOMETHING)
f(WITH)h(SINGLE-LINE)f(TEXT)h(TOKEN)g(HERE.)965 1345
y(...)965 1436 y(GOTO)h(30)831 1528 y(ENDIF)562 1802
y(C____DO)f(SOMETHING)f(WITH)h(LINES)g(OF)h(TEXT)f(HERE)786
1893 y(...)831 2076 y(IF)g(\(ITMPOS)g(.GT.)g(0\))h(GOTO)f(10)562
2258 y(C____FINISHED)f(DEALING)g(WITH)h(THIS)h(TEXT)562
2350 y(30)179 b(CONTINUE)639 2848 y Fv(This)25 b(will)h(gi)n(v)o(e)e
(you)h(up)f(to)h(10)g(lines)g(of)g(te)o(xt)g(on)g(each)f(call,)j(which)
d(you)g(can)h(then)g(handle)515 2947 y(line-wise)e(by)g(using)g
Fq(TEXT)o Fv(.)35 b(There)23 b(is)h(no)f(obligation)f(to)h(retrie)n(v)o
(e)f(the)i(whole)f(of)g(a)h(te)o(xt)f(string)515 3047
y(\227)e(you)e(can)h(gi)n(v)o(e)f(up)h(before)f(you)g(reach)h(the)g
(end.)515 3326 y Ft(6.8)99 b(Items)25 b(common)g(to)g(the)g(CCIF)p
1907 3326 30 4 v 36 w(PUT)p 2142 3326 V 36 w(*)g(functions.)898
3515 y Fq(CHARACTER*\(*\))47 b(ITEM)20 b Fv(\(i\):)41
b(Name)16 b(of)f(data)g(item)h(whose)f(v)n(alue)g(is)i(to)f(be)f(out-)
1105 3615 y(put.)898 3781 y Fq(INTEGER)48 b(CONTEXT)20
b Fv(\(i/o\):)40 b(Conte)o(xt)25 b(to)g(which)f(the)h(v)n(alue)g(of)g
Fq(ITEM)f Fv(is)i(to)g(be)1105 3880 y(output)898 4046
y Fq(INTEGER)48 b(STATUS)20 b Fv(\(i/o\):)40 b(Status)21
b(parameter)515 4309 y Fs(Synopsis:)83 b Fv(Replaces)20
b(current)f(v)n(alue)g(of)h Fq(ITEM)g Fv(in)h Fq(CONTEXT)e
Fv(with)h Fq(VALUE)p Fv(.)515 4571 y Fs(Comments:)82
b Fq(CONTEXT)20 b Fv(is)h(`\(i/o\)',)d(since)j(it)g(will)g(be)f(set)h
(to)f(-1)g(if)h(the)f(conte)o(xt)f(is)i(freed.)1905 5255
y(32)p eop
%%Page: 33 34
33 33 bop 515 523 a Ft(6.9)99 b(CCIF)p 989 523 30 4 v
35 w(PUT)p 1223 523 V 36 w(REAL)515 710 y Fs(Usage:)814
888 y Fq(CALL)49 b(CCIF_PUT_REAL\(ITEM,)d(VALUE,)j(CONTEXT,)f(STATUS\))
898 1162 y(REAL)h(VALUE)20 b Fv(\(i\):)41 b(V)-9 b(alue)19
b(of)h Fq(ITEM)g Fv(to)h(output.)515 1427 y Ft(6.10)99
b(CCIF)p 1039 1427 V 35 w(PUT)p 1273 1427 V 36 w(REAL)p
1585 1427 V 37 w(ESD)515 1614 y Fs(Usage:)814 1792 y
Fq(CALL)49 b(CCIF)p 1268 1792 25 4 v 29 w(PUT)p 1447
1792 V 29 w(REAL)p 1676 1792 V 29 w(ESD\(ITEM,)f(VALUE,)h(ESD,)g
(CONTEXT,)764 1892 y(&)g(STATUS,)g(DISPOSITION\))898
2166 y(REAL)g(VALUE)20 b Fv(\(i\):)41 b(V)-9 b(alue)19
b(of)h Fq(ITEM)g Fv(to)h(output.)898 2322 y Fq(REAL)49
b(ESD)20 b Fv(\(i\):)41 b(V)-9 b(alue)20 b(of)g(esd)g(of)g
Fq(ITEM)g Fv(to)g(output.)898 2478 y Fq(CHARACTER*\(*\))47
b(DISPOSITION)19 b Fv(\(i\):)41 b(If)15 b(the)h(\002rst)g(5)g
(characters)f(of)g(this)h(pa-)1105 2578 y(rameter)29
b(are)h Fq('PAREN')g Fv(\(an)o(y)e(mixture)h(of)h(upper)e(and)i(lo)n
(wer)f(case\))h Fk(and)1105 2677 y Fv(the)k(dictionary)d(de\002nition)i
(of)g Fq(ITEM)g Fv(allo)n(ws)h(a)f(parenthesised)f(esd)i(\(i.e.)p
1105 2777 V 1130 2777 a Fp(item)p 1335 2777 V 29 w(type)p
1564 2777 V 29 w(conditions.code)26 b Fv(is)j Fq(esd)p
Fv(\),)h(the)e(v)n(alue)f(of)h(esd)g(will)1105 2877 y(be)38
b(output)e(appended)f(to)i(the)h(v)n(alue)e(in)i(parentheses.)75
b(Otherwise,)42 b(the)1105 2976 y(esd)32 b(will)g(be)f(output)f(as)h(a)
h(separate)f(v)n(alue,)i(to)e(the)g(data)g(item)h(for)e(which)p
1105 3076 V 1130 3076 a Fp(item)p 1335 3076 V 29 w(related.function)p
2164 3076 V 27 w(code)20 b Fv(is)h Fq(associated)p 2987
3076 V 28 w(esd)p Fv(.)515 3324 y Fs(Comments:)82 b Fv(My)25
b(opinion)e(is)j(that)f(using)g(parenthesised)e(esd')-5
b(s)26 b(in)f(CIF')-5 b(s)26 b(is)g(A)g(Bad)f(Thing.)515
3424 y(This)k(is)h(because)f(the)g(relationship)e(between)i(the)g(v)n
(alue)f(proper)m(,)h(and)g(its)h(esd)g(has)f(to)g(be)g(e)o(x-)515
3523 y(plained)19 b(in)h(some)g(e)o(xternal)f(de\002nition,)g(which)g
(then)h(has)g(to)h(be)f(hard-coded)d(into)j(an)o(y)f(softw)o(are)515
3623 y(which)28 b(accesses)h(the)f(data.)50 b(Using)29
b(a)g(separate)f(data)g(item)h(for)e(the)i(esd,)i(on)d(the)g(other)g
(hand,)515 3723 y(allo)n(ws)f(the)g(relationship)f(between)g(the)h(v)n
(alue)f(and)h(its)h(esd)f(to)g(be)g(de\002ned)f(in)h(the)g(dictionary)
-5 b(,)515 3822 y(and)19 b(requires)h(no)f(special)i(e)o(xtra)e(code)h
(to)g(handle)f(it.)2056 3792 y Fl(17)515 4087 y Ft(6.11)99
b(CCIF)p 1039 4087 30 4 v 35 w(PUT)p 1273 4087 V 36 w(INT)515
4274 y Fs(Usage:)814 4452 y Fq(CALL)49 b(CCIF_PUT_INT\(ITEM,)d(VALUE,)j
(CONTEXT,)f(STATUS\))898 4726 y(INTEGER)g(VALUE)20 b
Fv(\(i\):)41 b(V)-9 b(alue)20 b(of)g Fq(ITEM)g Fv(to)g(output.)p
515 4769 1146 4 v 580 4825 a Fj(17)634 4848 y Fi(This)d(does)g(not)h
(apply)g(to)f(situations)i(where)f(the)g(data)g(is)f(presented)i
(through)f(a)f(vie)n(wer)m(,)i(e.g.)h(a)d(special)i(CIF)e(editor)m(,)
515 4927 y(or)e(a)g(program)g(which)h(prepares)h(tables)f(for)f
(publication.)24 b(In)15 b(this)g(case,)h(parenthesised)i(esd')l(s)e
(are)f(A)g(Good)g(Thing,)h(since)515 5006 y(the)o(y)i(are)f(concise)i
(and)f(easily)g(understood.)1905 5255 y Fv(33)p eop
%%Page: 34 35
34 34 bop 515 523 a Ft(6.12)99 b(CCIF)p 1039 523 30 4
v 35 w(PUT)p 1273 523 V 36 w(CHAR)515 718 y Fs(Usage:)814
917 y Fq(CALL)49 b(CCIF_PUT_CHAR\(ITEM,)d(VALUE,)j(CONTEXT,)f(STATUS\))
898 1210 y(CHARACTER*\(*\))f(VALUE)20 b Fv(\(i\):)41
b(V)-9 b(alue)20 b(of)g Fq(ITEM)g Fv(to)g(output.)515
1469 y Fs(Comments:)82 b Fv(Use)23 b(this)g(function)d(to)i(output)f(a)
i(non-,)e(single-,)h(or)g(double-quoted)c(te)o(xt)k(string)515
1568 y(\(including)d(`?')30 b(or)22 b(`.)-6 b('\),)21
b(e)n(v)o(en)g(when)g(the)h(item)g(type)g(allo)n(ws)g(multi-line)f(te)o
(xt.)29 b(T)-7 b(o)22 b(output)f(multi-)515 1668 y(line)f(te)o(xt)g
(for)g(those)g(items)g(which)g(allo)n(w)g(it,)h(use)f
Fp(CCIF)p 2169 1668 25 4 v 29 w(PUT)p 2348 1668 V 30
w(TEXT)t Fv(.)639 1807 y(The)i(input)e(v)n(alue)h(can)h(be)f(quoted)f
(if)i(desired,)f(b)n(ut)h(it)g(is)h(not)e(necessary)-5
b(.)28 b(If)22 b(the)f(v)n(alue)g(is)i(not)515 1906 y(already)h(a)i(v)n
(alid)f(ST)-8 b(AR)27 b(tok)o(en,)f(this)g(function)e(will)i(attempt)f
(to)h(mak)o(e)f(it)h(into)f(one,)i(by)e(trying)515 2006
y(single-quoting)j(and)j(then)g(double-quoting)c(it,)34
b(if)e(the)f(length)f(is)j(78)d(characters)h(or)g(less.)59
b(If)515 2105 y(these)20 b(both)f(f)o(ail,)h Fk(and)h
Fv(the)f(item)g(allo)n(ws)g(multi-line)f(te)o(xt,)h(the)f(function)g
(will)h(then)g(try)f(creating)g(a)515 2205 y(multi-line)g(tok)o(en)g
(as)i(follo)n(ws:)639 2285 y Fq(;)639 2385 y Ff(h)p Fd(V)-11
b(ALUE)9 b Ff(i)639 2484 y Fq(;)639 2597 y Fv(If)28 b(all)g(these)g(f)o
(ail,)i(the)e(function)e(will)i(issue)h(a)f(w)o(arining,)g(and)f
(output)g(a)h(null)g(v)n(alue,)g(with)515 2697 y(ST)-8
b(AR)21 b(comments)e(preceding)f(the)i(tok)o(en)g(\003agging)f(the)h
(error)f(and)h(gi)n(ving)e(the)j(of)n(fending)c(te)o(xt.)515
2972 y Ft(6.13)99 b(CCIF)p 1039 2972 30 4 v 35 w(PUT)p
1273 2972 V 36 w(TEXT)515 3167 y Fs(Usage:)814 3367 y
Fq(CALL)49 b(CCIF_PUT_TEXT\(ITEM,)d(NLINES,)i(BUF,)i(NLBUF,)764
3466 y(&)f(CONTEXT,)g(STATUS,)f(DISPOSITION\))898 3759
y(INTEGER)g(NLINES)20 b Fv(\(i\):)41 b(Number)19 b(of)h(lines)g(in)g
Fq(BUF)h Fv(to)f(be)g(output)898 3922 y Fq(CHARACTER*\(*\))47
b(BUF)20 b Fv(\(i\):)41 b(Buf)n(fer)20 b(holding)e(te)o(xt)i(to)g(be)h
(output)898 4086 y Fq(INTEGER)48 b(NLBUF)20 b Fv(\(i\):)41
b(Actual)20 b(number)e(of)i(lines)h(in)f Fq(BUF)898 4249
y(CHARACTER*\(*\))47 b(DISPOSITION)19 b Fv(\(i\):)41
b(If)26 b(the)g(v)n(alue)g(of)g(this)h(parameter)e(is)1105
4349 y Fq('NEW')p Fv(,)19 b(an)o(y)h(pre)n(vious)e(te)o(xt)h(will)i(be)
f(replaced)e(with)i(the)g(contents)f(of)h Fq(BUF)o Fv(.)1105
4449 y(An)o(y)j(other)g(v)n(alue)f(of)h(this)h(parameter)e(will)i
(cause)g(the)f(contents)g(of)g Fq(BUF)g Fv(to)1105 4548
y(be)d(appended)e(to)j(e)o(xisting)e(te)o(xt.)515 4807
y Fs(Synopsis:)83 b Fv(The)27 b(\002rst)i Fq(NLINES)e
Fv(lines)h(of)f Fq(BUF)h Fv(will)h(be)e(output)g(to)h(the)g(v)n(alue)f
(of)g Fq(ITEM)h Fv(on)515 4907 y Fq(CONTEXT)n Fv(,)i(according)25
b(to)j(the)g(v)n(alue)e(of)h Fq(DISPOSITION)n Fv(.)48
b(F)o(or)27 b(the)g(relationship)f(between)515 5006 y
Fq(BUF)20 b Fv(and)g Fq(NLBUF)o Fv(,)g(see)h(the)f(description)f(of)h
Fp(CCIF)p 2050 5006 25 4 v 29 w(GET)p 2229 5006 V 29
w(TEXT)26 b Fv(\(section)19 b(6.7\).)1905 5255 y(34)p
eop
%%Page: 35 36
35 35 bop 515 523 a Fs(Comments:)82 b Fv(It)24 b(is)g(unnecessary)d(to)
i(put)g(bounding)d(semi-colons)i(around)g(the)h(supplied)f(te)o(xt)515
623 y(\227)k(after)f(each)g(call)h(to)f(this)h(function,)f(a)h
(semi-colon)e(will)i(ha)n(v)o(e)f(been)f(appended,)h(so)g(the)h(te)o
(xt)515 722 y(stored)e(internally)f(is)i(al)o(w)o(ays)g(v)n(alid.)38
b(Putting)24 b(a)g(semi-colon)f(at)i(the)g(end)f(of)g(the)g(te)o(xt,)i
(requires)515 822 y(you)15 b(to)h(be)f(absolutely)g(sure)h(that)g
Fq(NLINES)f Fv(is)i(consistent)e(with)h(the)g(position)f(of)g(the)h
(semi-colon,)515 922 y(otherwise)25 b(you)g(will)h(lose)g(te)o(xt.)41
b(This)26 b(happens)f(because)g(the)g(function)f(terminates)i(the)f
(input)515 1021 y(te)o(xt)c(at)h(the)g(\002rst)g(line)g(it)g(\002nds)g
(which)f(be)o(gins)g(with)h(a)g(semi-colon,)e(e)n(v)o(en)g(if)i(less)h
(than)e Fq(NLINES)515 1121 y Fv(lines)j(ha)n(v)o(e)g(been)f(output)g
(\(this)h(is)h(to)f(ensure)f(compliance)g(with)h(the)g(ST)-8
b(AR)25 b(rules\).)36 b(T)-6 b(e)o(xt)24 b(after)515
1220 y(this)c(semi-colon)f(will)i(be)f(lost.)639 1362
y(Ha)n(ving)27 b(a)h(semi-colon)f(as)h(the)g(v)o(ery)e(\002rst)j
(character)d(of)i Fq(BUF)f Fv(when)g Fq(DISPOSITION)g
Fv(is)515 1461 y Fq('NEW')17 b Fv(is)h(acceptable.)23
b(All)c(things)e(considered,)f(though,)g(it)i(is)g(safest)g(not)g(to)f
(put)h(in)f(the)h(bound-)515 1561 y(ing)i(semi-colons)f(yourself)f(at)j
(all,)g(and)e(let)i(them)f(be)g(inserted)g(automatically)-5
b(.)515 1840 y Ft(6.14)99 b(Special)25 b(considerations)g(f)n(or)g
(handling)g(esd')l(s.)515 2037 y Fv(The)30 b(use)g(of)g
Fp(CCIF)p 1121 2037 25 4 v 30 w(GET)p 1301 2037 V 29
w(REAL)p Fv(/)p Fp(CCIF)p 1753 2037 V 29 w(PUT)p 1932
2037 V 29 w(REAL)h Fv(is)g(acceptable)e(for)h(data)g(which)g(might)515
2137 y(ha)n(v)o(e)g(an)g(esd)h(associated)g(with)g(it.)57
b(Careful)30 b(use)h(of)g Fp(CCIF)p 2355 2137 V 29 w(GET)p
2534 2137 V 29 w(REAL)p 2763 2137 V 29 w(ESD)k Fv(follo)n(wed)29
b(by)515 2236 y Fp(CCIF)p 720 2236 V 29 w(PUT)p 899 2236
V 29 w(REAL)21 b Fv(will)g(a)n(v)n(oid)f(e)o(xpanding)d(a)k(CIF)g(with)
f(unnecessarily)f(speci\002ed)g(esd')-5 b(s.)639 2378
y(If)26 b(you)g(are)g(going)f(to)i(use)f(the)h(information)d(you)h
(read)h(from)f(a)i(conte)o(xt,)f(to)h(produce)d(out-)515
2477 y(put,)d(it)h(is)h(best)e(to)h(use)g Fp(CCIF)p 1390
2477 V 29 w(GET)p 1569 2477 V 29 w(REAL)p 1798 2477 V
29 w(ESD)k Fv(to)21 b(get)h(the)f(v)n(alue,)g(and)g(check)g
Fq(ESDSTATUS)n Fv(.)515 2577 y(If)39 b Fq(ESDSTATUS)g
Fv(indicates)h(that)g(a)g(v)n(alue)f(for)h(the)f(esd)i(came)e(from)g
(the)h(input)f(\002le,)45 b(use)515 2676 y Fp(CCIF)p
720 2676 V 29 w(PUT)p 899 2676 V 29 w(REAL)p 1128 2676
V 29 w(ESD)33 b Fv(to)d(write)f(it)h(out)f(again.)51
b(If)29 b Fq(ESDSTATUS)f Fv(indicates)h(that)g(the)g(esd)515
2776 y(w)o(as)23 b(null,)g(unkno)n(wn,)e(or)h(the)h(def)o(ault)f(v)n
(alue)g(from)g(the)h(dictionary)-5 b(,)21 b(use)i Fp(CCIF)p
2888 2776 V 29 w(PUT)p 3067 2776 V 29 w(REAL)g Fv(to)515
2876 y(output)c(the)h(v)n(alue.)639 3017 y(This)i(is)h(an)f(important)f
(consideration)f(where)h(some)h(operation)e(is)j(carried)e(out)g(on)h
(the)g(v)n(al-)515 3116 y(ues.)30 b(F)o(or)21 b(e)o(xample,)g(in)h
(applying)e(a)i(transformation)d(to)j(an)g(atomic)f(coordinate,)f(the)i
(rotational)515 3216 y(part)k(of)g(the)g(transformation)e(must)j(be)f
(applied)g(to)g(the)h(esd')-5 b(s)27 b(as)g(well.)44
b(See)27 b(the)f(treatment)g(of)515 3316 y(coordinates)18
b(in)j Fq(cifsymop)e Fv(for)g(an)i(e)o(xample)d(of)i(ho)n(w)g(this)h
(can)f(be)g(done)f(in)h(practice.)515 3595 y Ft(6.15)99
b(CCIF)p 1039 3595 30 4 v 35 w(COPY)p 1357 3595 V 35
w(R)m(O)-5 b(W)515 3792 y Fs(Usage:)814 4000 y Fq(CALL)49
b(CCIF)p 1268 4000 25 4 v 29 w(COPY)p 1497 4000 V 29
w(ROW\(CXIN,)f(CXOUT,)h(STATUS\))898 4298 y(INTEGER)f(CXIN)20
b Fv(\(i\):)41 b(Conte)o(xt)20 b(from)f(which)g(ro)n(w)h(is)h(to)g(be)f
(copied.)898 4465 y Fq(INTEGER)48 b(CXOUT)20 b Fv(\(i\):)41
b(Conte)o(xt)19 b(to)i(which)e(ro)n(w)h(is)h(top)f(be)g(copied.)898
4631 y Fq(INTEGER)48 b(STATUS)20 b Fv(\(i/o\):)40 b(Status)19
b(v)n(alue)e(to)h(be)f(applied)g(to)h Fq(CXOUT)f Fv(\(see)h(tables)1105
4730 y(2)j(and)e(3\).)1905 5255 y(35)p eop
%%Page: 36 37
36 36 bop 515 523 a Fs(Synopsis:)83 b Fv(Copies)19 b(all)i(the)e(v)n
(alues)h(from)e(the)i(loop)f(pack)o(et)g(pointed)f(to)i(by)f
Fq(CXIN)g Fv(to)h Fq(CXOUT)o Fv(.)515 623 y(Ob)o(viously)-5
b(,)20 b(these)i(tw)o(o)h(conte)o(xts)e(must)h(refer)g(to)g(the)g(same)
h(cate)o(gory)-5 b(,)20 b(or)i(corresponding)d(cate-)515
722 y(gories)e(in)i(dif)n(ferent)d(datablocks)h(or)h(\002les.)25
b Fq(CXIN)18 b Fv(and)g Fq(CXOUT)f Fv(can)h(refer)g(to)g(the)g(same)g
(cate)o(gory)515 822 y(within)g(a)h(datablock)e(\(and)h(e)n(v)o(en)g
(point)g(to)g(the)h(same)g(ro)n(w)-5 b(,)18 b(in)h(which)f(case)h
(nothing)e(is)i(done\),)f(b)n(ut)515 922 y Fq(CXIN)i
Fv(cannot)f(be)h(equal)g(to)g Fq(CXOUT)o Fv(.)515 1184
y Fs(Comments:)82 b Fv(I)21 b(hope)e(to)h(pro)o(vide)e(similar)j
(functions)d(to)j(cop)o(y)e(lar)o(ger)g(groups)g(of)h(data.)639
1325 y(At)k(the)g(moment,)e(nothing)g(is)i(done)e(to)i(check)f(that)g
(the)g(combination)e(of)i(k)o(e)o(y)g(items)h(in)g(the)515
1425 y(ro)n(w)c(output)e(to)j(the)f(loop)f(structure)h(is)h(uniquely)d
(de\002ned.)515 1747 y Fu(7)119 b(Sorting)31 b(and)f(sear)n(ching)515
1990 y Ft(7.1)99 b(CCIF)p 989 1990 30 4 v 35 w(SETUP)p
1344 1990 V 37 w(SOR)l(T)515 2187 y Fs(Usage:)814 2395
y Fq(CALL)49 b(CCIF)p 1268 2395 25 4 v 29 w(SETUP)p 1547
2395 V 29 w(SORT\(NAME,)f(BLOCK,)g(INDEX,)h(STATUS\))898
2694 y(CHARACTER*\(*\))e(NAME)20 b Fv(\(i\):)41 b(Name)27
b(of)f(cate)o(gory)f(\(or)i(an)o(y)f(item)h(within)g(the)1105
2793 y(cate)o(gory\))18 b(to)j(be)f(sorted.)898 2960
y Fq(INTEGER)48 b(BLOCK)20 b Fv(\(i\):)41 b(Block)20
b(id)g(which)g(contains)g Fq(NAME)898 3126 y(INTEGER)48
b(INDEX)20 b Fv(\(o\):)40 b(Inde)o(x)19 b(of)h(sort.)898
3292 y Fq(INTEGER)48 b(STATUS)20 b Fv(\(o\):)40 b(1)21
b(for)e(success;)i(0)f(for)g(f)o(ailure.)515 3554 y Fs(Synopsis:)83
b Fv(Initialises)26 b(a)h(data)f(structure)g(to)g(hold)g(information)e
(on)i(sort.)43 b(The)26 b(inde)o(x)f(of)i(the)515 3654
y(sort)c(is)i(returned)d(in)h(the)h Fq(INDEX)f Fv(parameter)m(,)f(and)h
(should)g(be)g(maintained)f(by)h(the)h(calling)f(ap-)515
3753 y(plication.)515 4016 y Fs(Comments:)82 b Fv(The)18
b(maximum)f(number)f(of)i(sorts)g(which)g(can)g(be)g(acti)n(v)o(e)g(at)
h(once)e(is)i(controlled)515 4116 y(by)h(the)g(preprocessor)e(symbol)h
Fq(NSORT)p 1706 4116 V 29 w(TREES)o Fv(.)515 4395 y Ft(7.2)99
b(CCIF)p 989 4395 30 4 v 35 w(ADD)p 1240 4395 V 36 w(T)n(O)p
1418 4395 V 36 w(SOR)l(T)515 4592 y Fs(Usage:)814 4799
y Fq(CALL)49 b(CCIF)p 1268 4799 25 4 v 29 w(ADD)p 1447
4799 V 29 w(TO)p 1576 4799 V 30 w(SORT\(NAME,)f(INDEX,)g(STATUS\))1905
5255 y Fv(36)p eop
%%Page: 37 38
37 37 bop 898 523 a Fq(CHARACTER*\(*\))47 b(NAME)20 b
Fv(\(i\):)41 b(Name)20 b(of)g(item)g(to)h(add)e(to)i(sort)f(list.)898
689 y Fq(INTEGER)48 b(INDEX)20 b Fv(\(i\):)41 b(Inde)o(x)59
b(of)i(sort)g(list)h(\(from)e(a)h(pre)n(vious)f(call)h(to)1105
789 y Fp(CCIF)p 1310 789 25 4 v 29 w(SETUP)p 1589 789
V 29 w(SORT)5 b Fv(\).)898 955 y Fq(INTEGER)48 b(STATUS)20
b Fv(\(o\):)40 b(1)21 b(for)e(success;)i(0)f(for)g(f)o(ailure.)515
1217 y Fs(Synopsis:)83 b Fv(Adds)23 b(the)g(item)h Fq(NAME)f
Fv(to)h(the)g(end)f(of)g(the)g(sort)h(list)g(referred)e(to)i(by)f
Fq(INDEX)o Fv(.)35 b(T)-7 b(o)515 1317 y(sort)22 b(a)g(cate)o(gory)e
(on)h(se)n(v)o(eral)g(items,)h(call)h(this)f(routine)e(repeatedly)h
(\227)h(each)f(call)h(adds)g(the)g(data)515 1417 y(name)d(to)i(the)f
(end)g(of)f(the)i(sort)f(list.)515 1679 y Fs(Comments:)82
b Fv(No)25 b(sorting)g(is)h(allo)n(wed)f(on)f(item)i(names)f(which)f
(may)h(ha)n(v)o(e)g(te)o(xt)g(\(i.e.)40 b(multi-)515
1779 y(line\))20 b(v)n(alues.)639 1920 y(If)j(this)g(routine)e(is)j
(called)e(more)g(than)g(once)g(for)g(the)h(same)g Fq(INDEX)f
Fv(with)h(the)f(same)h Fq(NAME)o Fv(,)515 2020 y(the)d(name)g(is)h(mo)o
(v)o(ed)d(to)i(the)g(end)g(of)g(the)g(list.)515 2299
y Ft(7.3)99 b(CCIF)p 989 2299 30 4 v 35 w(DO)p 1174 2299
V 36 w(SOR)l(T)515 2496 y Fs(Usage:)814 2703 y Fq(CALL)49
b(CCIF)p 1268 2703 25 4 v 29 w(DO)p 1397 2703 V 29 w(SORT\(INDEX,)f
(STATUS\))898 3002 y(INTEGER)g(INDEX)20 b Fv(\(i\):)41
b(Inde)o(x)19 b(of)g(list)j(to)e(be)g(applied.)898 3168
y Fq(INTEGER)48 b(STATUS)20 b Fv(\(o\):)40 b(1)21 b(for)e(success;)i(0)
f(for)g(f)o(ailure.)515 3431 y Fs(Synopsis:)83 b Fv(Sorts)18
b(loop)g(pack)o(ets)g(in)h(ascending)e(order)-5 b(.)23
b(When)c(comparing)d(tw)o(o)i(loop)g(pack)o(ets,)515
3531 y(the)24 b(v)n(alues)f(are)h(compared)e(in)i(the)g(order)f(in)h
(which)g(the)o(y)f(occur)g(in)h(the)g(sort)g(list)h(\(as)g(set)f(up)g
(by)515 3630 y Fp(CCIF)p 720 3630 V 29 w(ADD)p 899 3630
V 29 w(TO)p 1028 3630 V 30 w(SORT)t Fv(\).)515 3893 y
Fs(Comments:)82 b Fv(If)21 b(no)f(data)h(names)g(ha)n(v)o(e)f(been)g
(supplied)g(to)h(the)g(sort)g(list,)h(a)f(list)h(is)g(constructed)515
3992 y(from)17 b(the)h(cate)o(gory')-5 b(s)16 b(k)o(e)o(y)i(item\(s\).)
24 b(If)18 b(there)f(is)i(more)e(than)h(one)f(k)o(e)o(y)h(item)g(in)g
(the)g(cate)o(gory)-5 b(,)16 b(the)o(y)515 4092 y(are)h(applied)g(in)h
(the)f(order)g(in)h(which)f(the)o(y)g(are)g(de\002ned)g(in)h(the)f(CIF)
i(dictionary)-5 b(,)15 b(which)i(w)o(as)i(used)515 4192
y(to)h(prepare)f(the)h(\002le)h(loaded)e(by)h Fp(CCIF)p
1670 4192 V 29 w(INIT)25 b Fv(\(see)c(section)f(4.1\).)639
4333 y(Further)j(items)g(may)g(be)h(added)e(to)h(a)h(sort)f(list,)i
(and)e(the)g(sort)h(order)e(re\002ned,)h(by)g(additional)515
4432 y(calls)e(to)f Fp(CCIF)p 978 4432 V 29 w(ADD)p 1157
4432 V 29 w(TO)p 1286 4432 V 30 w(SORT)25 b Fv(and)20
b Fp(CCIF)p 1882 4432 V 29 w(DO)p 2011 4432 V 30 w(SORT)t
Fv(.)1905 5255 y(37)p eop
%%Page: 38 39
38 38 bop 515 523 a Ft(7.4)99 b(CCIF)p 989 523 30 4 v
35 w(RELEASE)p 1487 523 V 38 w(SOR)l(T)515 720 y Fs(Usage:)814
928 y Fq(CALL)49 b(CCIF)p 1268 928 25 4 v 29 w(RELEASE)p
1647 928 V 28 w(SORT\(INDEX,)f(STATUS\))898 1227 y(INTEGER)g(INDEX)20
b Fv(\(i/o\):)41 b(Inde)o(x)23 b(of)i(sort)g(list)h(to)f(be)g
(released.)38 b(Returned)24 b(as)i(-1)1105 1326 y(if)21
b(release)f(w)o(as)h(successful.)898 1492 y Fq(INTEGER)48
b(STATUS)20 b Fv(\(i/o\):)40 b(Controls)46 b(beha)n(viour)m(,)k(when)c
(conte)o(xts)f(are)h(still)1105 1592 y(link)o(ed)20 b(to)g(the)g(sort)h
(list.)26 b(V)-9 b(alues)20 b(on)f(input:)999 1816 y(0:)41
b(W)m(ill)25 b(not)e(release)g(sort)g(if)h(it)g(is)h(still)f(link)o(ed)
f(to)g(an)o(y)g(conte)o(xts.)33 b(The)23 b(number)1105
1916 y(of)d(link)o(ed)g(conte)o(xts)f(will)i(be)f(returned)e(in)j
Fq(STATUS)o Fv(.)999 2082 y(1:)41 b(Unlink)15 b(conte)o(xts)g(from)g
(this)i(sort,)f(without)g(changing)d(the)j(pack)o(ets)g(to)g(which)1105
2181 y(the)o(y)37 b(refer)-5 b(.)76 b(The)37 b(number)e(of)i(conte)o
(xts)g(af)n(fected)f(will)i(be)f(returned)e(in)1105 2281
y Fq(STATUS)20 b Fv(as)h(a)f(ne)o(gati)n(v)o(e)f(number)-5
b(.)999 2447 y(2:)41 b(Unlink)18 b(conte)o(xts)f(from)g(this)i(sort,)f
(resetting)g(them)f(to)i(refer)e(to)h(the)g(\002rst)h(loop)1105
2547 y(pack)o(et.)24 b(The)18 b(number)f(of)h(conte)o(xts)g(af)n
(fected)f(will)i(be)g(returned)d(in)j Fq(STATUS)1105
2646 y Fv(as)i(a)g(ne)o(gati)n(v)o(e)d(number)-5 b(.)515
2909 y Fs(Synopsis:)83 b Fv(Frees)23 b(the)h(data)f(structures)g(used)g
(by)g(the)g(sort)h Fq(INDEX)o Fv(,)h(and)d(mak)o(es)i(them)f(a)n(v)n
(ail-)515 3009 y(able)d(for)f(a)i(ne)n(w)f(sort.)515
3288 y Ft(7.5)99 b(CCIF)p 989 3288 30 4 v 35 w(SOR)l(T)p
1291 3288 V 36 w(CONTEXT)515 3485 y Fs(Usage:)814 3692
y Fq(CALL)49 b(CCIF)p 1268 3692 25 4 v 29 w(SORT)p 1497
3692 V 29 w(CONTEXT\(INDEX,)e(NCNTXT,)i(STATUS\))898
3991 y(INTEGER)f(INDEX)20 b Fv(\(i\):)41 b(Inde)o(x)19
b(of)g(sort)i(list.)898 4157 y Fq(INTEGER)48 b(NCNTXT)20
b Fv(\(i\):)41 b(Number)19 b(of)h(conte)o(xt.)898 4323
y Fq(INTEGER)48 b(STATUS)20 b Fv(\(i/o\):)40 b(On)20
b(input:)k(0)19 b(to)h(k)o(eep)f(conte)o(xt)f(referring)f(to)j(current)
1105 4423 y(pack)o(et;)j(1)f(to)h(mak)o(e)e(conte)o(xt)g(refer)h(to)g
(\002rst)h(pack)o(et)f(by)g(sort)g(order)-5 b(.)30 b(On)22
b(out-)1105 4523 y(put:)j(1)20 b(for)g(success;)h(0)f(for)g(f)o
(ailure.)515 4785 y Fs(Synopsis:)83 b Fv(Connects)22
b(a)h(pre)n(viously)e(set)j(up)f(conte)o(xt)e(to)i(a)h(sort)f(order)-5
b(.)32 b(When)23 b(the)g(conte)o(xt)f(is)515 4885 y(adv)n(anced,)g(it)i
(is)g(to)g(the)f(ne)o(xt)g(ro)n(w)g(in)g(the)h(sort)f(order)m(,)f
(rather)h(than)g(to)g(the)h(follo)n(wing)e(pack)o(et)g(in)515
4984 y(the)e(loop.)1905 5255 y(38)p eop
%%Page: 39 40
39 39 bop 515 523 a Fs(Comments:)515 802 y Ft(7.6)99
b(CCIF)p 989 802 30 4 v 35 w(SEARCH)p 1439 802 V 36 w(CONTEXT)515
999 y Fs(Usage:)814 1207 y Fq(CALL)49 b(CCIF)p 1268 1207
25 4 v 29 w(SORT)p 1497 1207 V 29 w(CONTEXT\(INDEX,)e(NCNTXT,)i(NVALS,)
764 1307 y(&)g(IKEY,)g(FKEY,)g(CKEYBUF,)g(CKEYLEN,)f(STATUS\))898
1605 y(INTEGER)g(INDEX)20 b Fv(\(i\):)41 b(Inde)o(x)19
b(of)g(sort)i(list.)898 1771 y Fq(INTEGER)48 b(NCNTXT)20
b Fv(\(i\):)41 b(Number)19 b(of)h(conte)o(xt.)898 1938
y Fq(INTEGER)48 b(NVALS)20 b Fv(\(i\):)41 b(Number)19
b(of)h(v)n(alues)g(in)g(k)o(e)o(y)-5 b(.)898 2104 y Fq(INTEGER)48
b(IKEY\(*\))20 b Fv(\(i\):)41 b(Array)18 b(of)g(at)i(least)f(size)h
Fq(NVALS)o Fv(,)f(containing)e(v)n(alues)1105 2203 y(of)j(type)g(inte)o
(ger)f(for)h(searching.)898 2369 y Fq(REAL)49 b(FKEY\(*\))19
b Fv(\(i\):)41 b(Array)22 b(of)g(at)h(least)g(size)g
Fq(NVALS)o Fv(,)g(containing)e(the)h(v)n(alues)1105 2469
y(of)e(type)g(real)g(for)g(searching.)898 2635 y Fq(CHARACTER)48
b(CKEYBUF*\(*\))19 b Fv(\(i\):)41 b(Character)115 b(b)n(uf)n(fer)h(of)g
(at)h(least)1105 2735 y Fq(NVALS*CKEYLEN)n Fv(,)52 b(containing)44
b(the)i(v)n(alues)f(of)h(type)f(character)f(for)1105
2834 y(searching.)24 b(Each)c(v)n(alue)f(is)i(in)g(a)f(portion)f(of)h
(the)g(b)n(uf)n(fer)f(of)h(size)h Fq(CKEYLEN)n Fv(.)898
3000 y Fq(INTEGER)48 b(CKEYLEN)20 b Fv(\(i\):)41 b(Number)33
b(of)h(characters)f(of)i Fq(CKEYBUF)e Fv(occupied)1105
3100 y(by)20 b(each)g(v)n(alue.)898 3266 y Fq(INTEGER)48
b(STATUS)20 b Fv(\(o\):)40 b(1)21 b(for)e(k)o(e)o(y)h(found;)e(0)i(for)
g(k)o(e)o(y)g(not)f(found.)515 3528 y Fs(Synopsis:)83
b Fv(Searches)24 b(through)e(the)i(sort)h(gi)n(v)o(en)e(by)h
Fq(INDEX)g Fv(for)g(a)g(ro)n(w)g(matching)f(the)i(gi)n(v)o(en)515
3628 y(k)o(e)o(y)e(\(see)h(section)f(2.3.1)g(for)g(details)h(of)g(ho)n
(w)f(to)h(construct)e(a)j(k)o(e)o(y\).)34 b(The)24 b(parameters)e
Fq(NVALS)o Fv(,)515 3728 y Fq(IKEY)o Fv(,)k Fq(FKEY)p
Fv(,)g Fq(CKEYBUF)e Fv(and)g Fq(CKEYLEN)h Fv(collecti)n(v)o(ely)e
(de\002ne)h(a)i(k)o(e)o(y)-5 b(.)38 b(The)24 b(conte)o(xt)g(gi)n(v)o
(en)515 3827 y(by)17 b Fq(NCNTXT)h Fv(\(which)f(must)h(ha)n(v)o(e)g
(been)f(pre)n(viously)f(set)j(up)f(on)f(the)i(same)f(cate)o(gory)e(in)i
(the)g(same)515 3927 y(data)k(block)f(as)i(the)f(sort\))g(is)i(left)e
(refering)f(to)h(the)g(`\002rst')2168 3897 y Fl(18)2253
3927 y Fv(ro)n(w)g(which)f(matches)h(the)h(k)o(e)o(y)-5
b(,)21 b(if)i(the)515 4027 y(returned)k(v)n(alue)g(of)i
Fq(STATUS)f Fv(is)h(1.)51 b(If)28 b(the)h(v)n(alue)f(is)h(0,)i(the)d
(conte)o(xt)g(will)h(point)f(to)h(the)f(ne)o(xt)515 4126
y(highest)19 b(ro)n(w)h(in)g(sort)h(order)-5 b(.)515
4389 y Fs(Comments:)82 b Fv(If)24 b(the)g(conte)o(xt)f(is)h(link)o(ed)g
(to)g(a)g(sort)g(already)-5 b(,)23 b(it)i(is)g(still)g(possible)f(to)g
(use)g(a)g(dif-)515 4488 y(ferent)i(sort)g(on)g(the)h(same)g(cate)o
(gory)e(for)g(searching.)43 b(Subsequent)25 b(calls)j(to)e
Fp(CCIF)p 3029 4488 V 30 w(GET)p 3209 4488 V 29 w(*)h
Fv(or)515 4588 y Fp(CCIF)p 720 4588 V 29 w(PUT)p 899
4588 V 29 w(*)22 b Fv(routines)f(which)g(adv)n(ance)g(the)g(conte)o
(xt,)g(will)h(use)g(the)g(sort)g(order)e(to)i(which)g(the)515
4688 y(conte)o(xt)d(has)h(been)g(link)o(ed,)f(to)h(determine)f(which)h
(ro)n(w)f(to)i(adv)n(ance)d(to.)p 515 4741 1146 4 v 580
4796 a Fj(18)634 4820 y Fi(This)23 b(may)g(not)h(be)f(the)h(\002rst)f
(matching)i(ro)n(w)e(in)g(the)h(\002le.)39 b(See)24 b(the)g(comments)f
(about)h(the)g(sorting)g(algorithm)h(in)515 4899 y(section)18
b(2.3.)1905 5255 y Fv(39)p eop
%%Page: 40 41
40 40 bop 515 523 a Fu(8)119 b(Miscellaneous)30 b(functions)515
767 y Ft(8.1)99 b(CCIF)p 989 767 30 4 v 35 w(OUTPUT)p
1439 767 V 36 w(FMT)515 964 y Fs(Usage:)814 1171 y Fq(CALL)49
b(CCIF_OUTPUT_FMT\(ITEM,)d(FLAGS,)i(WIDTH,)h(PREC,)g(FMT,)g(STATUS\))
898 1470 y(CHARACTER*\(*\))e(ITEM)20 b Fv(\(i\):)41 b(Name)20
b(of)g(data)g(item.)898 1636 y Fq(CHARACTER*\(*\))47
b(FLAGS)20 b Fv(\(i\):)41 b(Flag)26 b(characters,)g(that)g(modify)e
(format)g(con-)1105 1736 y(v)o(ersion.)32 b(Must)24 b(be)f(zero)f(or)h
(more)f(of)h Fq(-,)49 b(+,)p 2550 1736 25 4 v 80 w(,)g(0)24
b Fv(\()p 2781 1736 V 53 w(is)g(con)m(v)o(erted)c(to)j(a)1105
1836 y(space\).)898 2002 y Fq(INTEGER)48 b(WIDTH)20 b
Fv(\(i\):)41 b(W)m(idth)20 b(part)g(of)g(format)f(speci\002cation.)898
2168 y Fq(INTEGER)48 b(PREC)20 b Fv(\(i\):)41 b(Precision)20
b(part)g(of)g(format)f(speci\002cation.)898 2334 y Fq(CHARACTER*1)47
b(FMT)21 b Fv(\(i\):)41 b(F)o(ormat)36 b(con)m(v)o(ersion)f(character)h
(for)h(output)g(item.)1105 2433 y(Must)21 b(be)f(one)g(of)f
Fq(i,)50 b(d,)f(f,)h(e,)f(E,)h(g,)f(G)p Fv(.)898 2599
y Fq(INTEGER)f(STATUS)20 b Fv(\(o\):)40 b(Returned)31
b(status)i(for)e(operation.)58 b(Possible)32 b(v)n(alues)1105
2699 y(are:)972 2923 y(-2:)40 b Fq(FMT)27 b Fv(is)g(in)m(v)n(alid)f
(for)g(some)g(reason.)43 b(Def)o(ault)26 b(format)g(string)g(will)h(be)
g(used)1105 3023 y(for)g(this)h(item,)i(namely)c Fq("\045d")o
Fv(,)k Fq("\045i")d Fv(and)g Fq("\045s")h Fv(for)f(real,)i(inte)o(ger)d
(and)1105 3122 y(character)19 b(data)h(respecti)n(v)o(ely)-5
b(.)972 3289 y(-1:)40 b Fq(ITEM)20 b Fv(not)g(in)g(dictionary)-5
b(.)23 b(Call)e(ignored)e(with)h(w)o(arning.)999 3455
y(0:)41 b Fq(FMT)20 b Fv(applied)g(to)g Fq(ITEM)o Fv(.)515
3717 y Fs(Synopsis:)83 b Fv(Most)26 b(of)f(the)h Fp(CCIF)p
1560 3717 V 29 w(PUT)p 1739 3717 V 30 w(*)g Fv(functions)f(use)h(the)g
(`C')g Fq(sprintf\(3\))e Fv(function)515 3817 y(to)i(write)h(the)f
(supplied)f(data)i(v)n(alues)f(into)g(holding)f(b)n(uf)n(fers,)h(from)f
(which)h(the)o(y)g(are)g(output)f(to)515 3916 y(the)c(CIF)i(proper)c
(by)i Fp(CCIF)p 1338 3916 V 30 w(PRINT)p 1618 3916 V
29 w(CIF)t Fv(.)29 b(This)22 b(fuction)e(can)i(be)f(used)h(to)f
(specify)g(the)h(format)515 4016 y(string)30 b(which)g(will)h(be)g
(used)f(for)g(this)h(purpose,)g(for)f(an)o(y)g(data)h(item.)56
b(The)30 b(format)f(string)i(is)515 4116 y(generated)24
b(by)i(assembling)f(the)h(\003ags,)i(width,)f(precision)e(and)g(format)
g(con)m(v)o(ersion)e(character)m(,)515 4215 y(into)31
b(a)h(full)f Fq(sprintf)f Fv(format)g(speci\002er)m(,)k(e.g.)58
b Fq('\045-7.4f')n Fv(.)h(A)32 b(ne)o(gati)n(v)o(e)d(v)n(alue)i(may)g
(be)515 4315 y(speci\002ed)21 b(for)f(the)h(width)g(or)g(precision,)f
(if)i(the)o(y)e(are)h(to)h(be)f(omitted.)27 b(The)21
b(precision)f(is)i(ignored)515 4414 y(for)k(inte)o(ger)g(or)h
(character)f(data)h(types.)45 b(The)27 b(format)f(speci\002cation)g
(character)g(is)i(ignored)d(for)515 4514 y(character)19
b(data)h(types)g(\226)g Fq(s)h Fv(is)g(al)o(w)o(ays)f(applied.)639
4655 y(This)26 b(mechanism)e(cannot)g(be)h(used)g(to)g(in\003uence)g
(the)g(beha)n(viour)e(of)i Fp(CCIF)p 2950 4655 V 29 w(PUT)p
3129 4655 V 30 w(TEXT)t Fv(.)515 4755 y(The)20 b(application)e(program)
g(is)j(responsible)e(for)h(the)g(layout)f(of)h(multi-line)g(te)o(xt.)
639 4896 y(If)i(this)g(routine)f(is)h(called)g(for)f(a)h(cate)o(gory)-5
b(,)19 b(rather)i(than)h(an)f(item,)h(a)g(v)n(alue)f(of)h
Fq('n')f Fv(for)h Fq(FMT)515 4996 y Fv(will)d(force)f(e)n(v)o(ery)f
(loop)g(pack)o(et)h(in)h(that)f(cate)o(gory)f(to)i(start)g(on)f(a)h(ne)
n(w)f(line)g(on)h(output.)k(An)o(y)17 b(other)1905 5255
y(40)p eop
%%Page: 41 42
41 41 bop 515 523 a Fv(string)18 b(will)i(pre)n(v)o(ent)d(the)h(loop)g
(pack)o(ets)h(from)e(starting)i(a)g(ne)n(w)f(line)h(\(e)o(xcept)e(to)i
(comply)f(with)h(the)515 623 y(80)h(characters)f(to)h(a)h(line)f
(rule\).)639 764 y(When)k(this)g(function)e(has)i(not)f(been)g(called)g
(for)g(a)h(particular)f(cate)o(gory)-5 b(,)22 b(and)h(the)g(cate)o
(gory)515 863 y(has)c(been)g(substantially)f(copied)g(from)g(an)h
(input)g(\002le,)g(CCIF)i(will)e(attempt)g(to)g(reproduce)e(some-)515
963 y(thing)22 b(lik)o(e)i(the)f(input)f(format.)33 b(A)24
b(ne)n(w)f(cate)o(gory)f(which)g(has)i(been)e(b)n(uilt)i(up)f(using)f
(CCIF)j(rou-)515 1063 y(tines)20 b(will)h(normally)e(start)i(each)e
(loop)h(pack)o(et)f(on)h(a)h(ne)n(w)f(line)2348 1033
y Fl(19)2410 1063 y Fv(.)515 1325 y Fs(Comments:)82 b
Fv(It)18 b(is)h(not)f(intended)f(to)h(pro)o(vide)e(sophisticated)h
(formatting)f(control)h(in)h(CCIF)h(\227)515 1425 y(this)i(is)h(really)
f(in)h(the)f(domain)e(of)i(CIF)h(vie)n(wers/visualisers,)f(rather)f
(than)h(softw)o(are)f(which)h(ma-)515 1524 y(nipulates)16
b(the)i(data.)23 b(Ne)n(v)o(ertheless,)17 b(it)h(can)f(sometimes)g(be)g
(useful)g(to)g(maintain)g(the)g(elements)g(of)515 1624
y(some)f(f)o(amiliar)f(style,)i(or)f(restrict)g(the)g(number)e(of)i
(signi\002cant)f(digits)h(output,)f(to)i(a)n(v)n(oid)e(rounding)515
1724 y(errors)k(becoming)f(visible.)639 1865 y(F)o(or)24
b(an)f(item)h(which)f(can)h(append)e(an)h(esd)h(in)g(parentheses,)f
Fq(FMT)h Fv(should)e(not)i(contain)e(an)o(y)515 1965
y(items)h(for)e(the)i(output)e(of)h(the)g(esd,)h(just)g(for)f(the)g(v)n
(alue)g(proper)-5 b(.)30 b(Where)22 b(an)g(esd)h(is)g(to)g(be)f(output)
515 2064 y(as)k(a)g(separate)g(data)f(item,)i(this)g(function)d(should)
g(be)i(called)f(for)h(the)f(associated)h(esd)g(item,)h(as)515
2164 y(well)20 b(as)h(for)f(the)g(main)g(item.)639 2305
y(If)30 b(this)g(method)e(is)i(used)f(to)h(de)n(v)o(elop)e(a)i
(standard)e(style)i(for)f(more)f(than)h(just)h(a)g(fe)n(w)g(data)515
2405 y(items,)19 b(it)i(w)o(ould)d(be)h(best)h(to)g(put)f
Ff(h)p Fd(item)h(name)6 b Ff(i)20 b(h)p Fd(format)f(speci\002er)6
b Ff(i)20 b Fv(items)g(into)f(a)g(\002le,)h(and)f(read)515
2504 y(from)g(this)i(at)f(run)g(time,)g(rather)f(then)h(hard-coding)d
(e)n(v)o(erything)g(into)j(the)g(application)f(program.)515
2783 y Ft(8.2)99 b(CCIF)p 989 2783 30 4 v 35 w(SET)p
1211 2783 V 37 w(MSG)515 2980 y Fs(Usage:)814 3188 y
Fq(CALL)49 b(CCIF_SET_MSG\(NAME,)d(STATUS,)j(OLDSTATUS\))898
3487 y(CHARACTER\(*\))e(NAME)20 b Fv(\(i\):)41 b(name)20
b(of)g(message)g(or)g(se)n(v)o(erity)898 3653 y Fq(INTEGER)48
b(STATUS)20 b Fv(\(i\):)41 b(Output)19 b(status)i(to)f(assign)h(to)f
(message)g(or)g(se)n(v)o(erity)898 3819 y Fq(INTEGER)48
b(OLDSTATUS)19 b Fv(\(o\):)41 b(Pre)n(vious)20 b(status.)28
b(A)22 b(v)n(alue)e(of)h(-2)g(indicates)f(that)1105 3919
y Fq(NAME)g Fv(w)o(as)h(not)f(recognised.)515 4181 y
Fs(Synopsis:)83 b Fv(Sets)25 b(the)f(output)f(status)h(of)g(a)h
(message)f(or)g(se)n(v)o(erity)f(to)h Fq(STATUS)o Fv(,)h(returning)e
(the)515 4281 y(pre)n(vious)15 b(status)i(in)f Fq(OLDSTATUS)n
Fv(.)25 b(See)16 b(section)h(2.4)e(for)h(a)h(discussion)f(of)g(error)f
(and)h(diagnostic)515 4380 y(messages)31 b(in)h(CCIF)-7
b(.)32 b(The)g(v)n(alues)f(for)f Fq(NAME)h Fv(are)h(the)f(same)h(as)g
(those)f(of)g(the)h(en)m(vironment)515 4480 y(v)n(ariables)19
b(or)h(logical)g(names)g(discussed)g(in)g(section)g(2.4.1.)p
515 4533 1146 4 v 580 4589 a Fj(19)634 4612 y Fi(In)k(general,)i(CCIF)e
(does)g(not)g(attempt)h(to)f(be)g(too)g(sophisticated)j(about)d
(formatting)i(CIF)d(output.)42 b(If)23 b(you)h(w)o(ant)515
4691 y(pretty-looking)c(CIF)d(data,)h(write)g(a)f(CIF)g(vie)n(wer!)1905
5255 y Fv(41)p eop
%%Page: 42 43
42 42 bop 515 523 a Fs(Comments:)82 b Fv(Using)28 b(this)h(function)e
(o)o(v)o(errides)f(the)i(corresponding)d(en)m(vironment)h(settings,)515
623 y(i.e.)f(if)19 b(you)g(unconditionally)d(enable)i(output)g(for)h(a)
h(particular)e(message,)h(the)g(user)h(of)f(your)f(pro-)515
722 y(gram)i(will)h(not)g(be)g(able)g(to)g(turn)f(it)i(of)n(f.)k(Check)
21 b(the)f(v)n(alue)h(of)f(the)h(corresponding)d(en)m(vironment)515
822 y(v)n(ariable)h(before)g(calling)g(this)i(function)e(if)h(you)f
(don')o(t)g(w)o(ant)h(this)h(beha)n(viour)-5 b(.)515
1101 y Ft(8.3)99 b(CCIF)p 989 1101 30 4 v 35 w(SET)p
1211 1101 V 37 w(LINE)p 1491 1101 V 37 w(LIMIT)814 1298
y Fq(CALL)49 b(CCIF)p 1268 1298 25 4 v 29 w(SET)p 1447
1298 V 29 w(LINE)p 1676 1298 V 29 w(LIMIT\(NAME,)f(LINELEN\))898
1614 y(CHARACTER*\(*\))f(NAME)20 b Fv(\(i\):)41 b(Logical)19
b(name)h(of)g(CIF)-7 b(.)898 1780 y Fq(INTEGER)48 b(LINELEN)20
b Fv(\(i\):)41 b(Maximum)18 b(length)i(of)g(line)g(for)f
Fq(NAME)515 2042 y Fs(Synopsis:)83 b Fv(This)22 b(function)e(changes)h
(the)g(maximum)g(line)h(length)f(allo)n(wed)g(for)g(a)h(mmCIF)g(on)515
2142 y(output,)c(ef)n(fecti)n(v)o(ely)f(controlling)g(the)i(wrapping.)k
(The)c(practical)f(limit)i(on)e(the)i(speci\002ed)e(length)515
2242 y(is)j(the)f(C)h(preprocessor)d(symbol)h Fq(ZZLEXBUFSIZE)n
Fv(,)i(by)e(def)o(ault)h(2000.)515 2582 y Fu(P)o(art)29
b(IV)515 2831 y Fr(Things)42 b(CCIF)i(does)f(not)g(do)g(\(y)n(et\).)
1022 3076 y Ff(\017)e Fv(When)30 b(con)m(v)o(erting)d(from)i(data)h
(items)h(to)f(a)g(loop,)i(CCIF)f(checks)e(that)i(the)1105
3176 y(cate)o(gory)20 b(has)j(k)o(e)o(y)e(items)i(de\002ned,)e(b)n(ut)h
(does)g(not)f(check)h(that)g(an)o(y)f(of)h(those)1105
3275 y(items)f(actually)f(e)o(xist)g(in)g(the)g(data.)1022
3441 y Ff(\017)41 b Fv(Check)32 b(that)h(where)f(a)h(mmCIF)f(item)h(of)
f(type)g(`code')g(or)g(`ucode')e(has)j(a)1105 3541 y(restricted)d(set)h
(of)f(possible)g(v)n(alues)g(gi)n(v)o(en)f(by)p 2542
3541 V 59 w(item)p 2720 3541 V 30 w(enumeration.v)n(alue,)1105
3641 y(that)21 b(the)f(v)n(alues)g(in)g(the)g(CIF)h(are)f(acceptable.)
1022 3807 y Ff(\017)41 b Fv(Update)20 b(the)p 1493 3807
V 50 w(audit.update)p 1934 3807 V 27 w(record)f(automatically)-5
b(.)1022 3973 y Ff(\017)41 b Fv(Checking)36 b(that)i(all)g(the)f
(mandatory)e(items)j(of)f(data)g(in)g(a)h(cate)o(gory)e(are)1105
4072 y(present)31 b(\(sub)g(cate)o(gories)f(mak)o(e)h(this)h(more)f
(complicated)f(than)h(it)h(seems)1105 4172 y(at)21 b(\002rst)g
(sight\).)1022 4338 y Ff(\017)41 b Fv(Deal)21 b(properly)d(with)i(cate)
o(gory)f(groups)f(and)i(sub)g(cate)o(gories)1022 4504
y Ff(\017)41 b Fv(Some)26 b(`higher)f(le)n(v)o(el')g(CIF)i(checking,)f
(for)f(e)o(xample)g(checking)g(that)h(there)1105 4604
y(are)g(no)f(duplicated)f(n-tuples)g(of)h(k)o(e)o(y)g(items)h(in)g(a)g
(cate)o(gory)-5 b(,)24 b(i.e.)41 b(that)26 b(each)1105
4703 y(loop)20 b(pack)o(et)f(can)h(be)g(uniquely)f(identi\002ed.)1905
5255 y(42)p eop
%%Page: 43 44
43 43 bop 515 523 a Fu(P)o(art)29 b(V)515 772 y Fr(Ackno)n(wlegements)
1022 1017 y Ff(\017)41 b Fv(This)23 b(w)o(ork)g(w)o(as)h(funded)d
(mainly)h(by)h(CCP4,)h(b)n(ut)f(I)g(continued)e(some)i(w)o(ork)1105
1117 y(on)d(it)h(at)g(the)f(EBI.)1022 1283 y Ff(\017)41
b Fv(The)20 b(ST)-8 b(AR)21 b(scanner)f(and)g(parser)f(were)h
(generated)f(with)h(PCCTS)i(\(the)e(Pur)n(-)1105 1382
y(due)28 b(Compiler)g(Construction)f(T)-7 b(ool)28 b(Set\))h(v)f(1.33.)
49 b(Information)25 b(is)30 b(a)n(v)n(ail-)1105 1482
y(able)22 b(at)49 b Fq(http://www.antlr.org)p Fv(.)26
b(I)c(ha)n(v)o(e)f(also)h(had)f(v)n(aluable)f(cor)n(-)1105
1582 y(respondence)h(with)i(the)f(author)g(T)-6 b(erence)22
b(P)o(arr)m(,)g(and)h(the)g(maintainer)e(of)i(the)1105
1681 y(1.33)c(release,)h(T)-7 b(om)20 b(Moog.)1022 1847
y Ff(\017)41 b Fv(The)17 b(implementation)d(of)i(the)h(red-black)e
(tree)h(sorting/searching)e(algorithm)1105 1947 y(is)21
b(')o(librb')e(by)h(James)h(Plank)f(\(from)f(v)n(olume28)f(of)i
(comp.sources.misc\).)1905 5255 y(43)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
