<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ccp4_fortran.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>ccp4_fortran.h</h1><a href="ccp4__fortran_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">     ccp4_fortran.h: header file for Fortran APIs</font>
00003 <font class="comment">     Copyright (C) 2001   Eugene Krissinel</font>
00004 <font class="comment"></font>
00005 <font class="comment">     This code is distributed under the terms and conditions of the</font>
00006 <font class="comment">     CCP4 Program Suite Licence Agreement as a CCP4 Library.</font>
00007 <font class="comment">     A copy of the CCP4 licence can be obtained by writing to the</font>
00008 <font class="comment">     CCP4 Secretary, Daresbury Laboratory, Warrington WA4 4AD, UK.</font>
00009 <font class="comment">*/</font>
00010 
00016 <font class="preprocessor">#ifndef __CCP4_FORTRAN</font>
00017 <font class="preprocessor"></font><font class="preprocessor">#define __CCP4_FORTRAN</font>
00018 <font class="preprocessor"></font>
00019 <font class="preprocessor">#include "ccp4_types.h"</font>
00020 <font class="keyword">static</font> <font class="keywordtype">char</font> rcsidhh[] = <font class="stringliteral">"$Id$"</font>;
00021 
00022 <font class="comment">/* stardent is now obsolete, but we retain this category in case it is useful later */</font>
00023 <font class="preprocessor">#ifdef CALL_LIKE_STARDENT</font>
00024 <font class="preprocessor"></font>  <font class="comment">/* SStrParam is used in Ardent-like machines' fortran calls */</font>
00025   <font class="comment">/* for passing a string parameter */</font>
00026   DefineStructure(SStrPar)
00027   <font class="keyword">struct </font>SStrPar  {
00028     pstr S;
00029     <font class="keywordtype">int</font>  len;
00030     <font class="keywordtype">int</font>  id;
00031   };
00032 <font class="preprocessor">#endif</font>
00033 <font class="preprocessor"></font>
00034 <font class="preprocessor">#define _LVTOB(l) ((long) ((l) == 0 ? 0 : 1))  </font>
00035 <font class="preprocessor"></font><font class="preprocessor">#define _BTOLV(l) ((int) ((l) == 0 ? 0 : 1))</font>
00036 <font class="preprocessor"></font><font class="preprocessor">#if defined (__OSF1__) || defined (__osf__)</font>
00037 <font class="preprocessor"></font><font class="preprocessor">#undef _BTOLV</font>
00038 <font class="preprocessor"></font><font class="preprocessor">#define _BTOLV(l) ((int) ((l) == 0 ? 0 : -1))  </font>
00039 <font class="preprocessor"></font><font class="preprocessor">#endif    </font>
00040 <font class="preprocessor"></font>
00041 <font class="comment">/*</font>
00042 <font class="comment">     Macro  FORTRAN_SUBR(NAME,name,p_send,p_sstruct,p_sflw)</font>
00043 <font class="comment">   makes function header statements that allow for linking with</font>
00044 <font class="comment">   programs written in FORTRAN.</font>
00045 <font class="comment">  </font>
00046 <font class="comment">     Parameters:</font>
00047 <font class="comment">  </font>
00048 <font class="comment">     NAME      name of the FORTRAN subroutine in capital letters</font>
00049 <font class="comment">     name      name of the FORTRAN subroutine in small letters</font>
00050 <font class="comment">     p_send    parameter list (in brackets) with string lengths</font>
00051 <font class="comment">               attached to the end of it (see below)</font>
00052 <font class="comment">     p_sstruct parameter list (in brackets) with strings passed</font>
00053 <font class="comment">               as complex parameters, or structures</font>
00054 <font class="comment">     p_sflw    parameter list (in brackets) with string lengths</font>
00055 <font class="comment">               following immediately the string parameters</font>
00056 <font class="comment">               (see below)</font>
00057 <font class="comment">  </font>
00058 <font class="comment">     All non-string parameters must be passed as pointers, in</font>
00059 <font class="comment">   the same order as they enter the FORTRAN call. Rules for</font>
00060 <font class="comment">   the string parameters are as follows.</font>
00061 <font class="comment">  </font>
00062 <font class="comment">     1. All strings should be specified as of 'fpstr' type.</font>
00063 <font class="comment">        The 'fpstr' type is defined below and depends on the</font>
00064 <font class="comment">        platform:</font>
00065 <font class="comment">  </font>
00066 <font class="comment">          a) whenever length of string is passed as a separate</font>
00067 <font class="comment">             parameter ( CALL_LIKE_SUN, CALL_LIKE_HPUX,</font>
00068 <font class="comment">             CALL_LIKE_MVS )  'fpstr' is identical to 'pstr'.</font>
00069 <font class="comment">             You may choose arbitrary name for the string,</font>
00070 <font class="comment">             but you MUST use the same name, appended with</font>
00071 <font class="comment">             suffix '_len', for its length (see example below).</font>
00072 <font class="comment">  </font>
00073 <font class="comment">          b) whenever string and its length are passed as</font>
00074 <font class="comment">             complex parameter, 'fpstr' is identical to the</font>
00075 <font class="comment">             pointer on the corresponding structure:</font>
00076 <font class="comment">               CALL_LIKE_STARDENT :</font>
00077 <font class="comment">                   'fpstr' is identical to 'PSStrPar'</font>
00078 <font class="comment">               CALL_LIKE_VMS      :</font>
00079 <font class="comment">                   'fpstr' is identical to 'dsc$descriptor_s *'</font>
00080 <font class="comment">  </font>
00081 <font class="comment">        With 'fpstr' type, two important macro definition come:</font>
00082 <font class="comment">  </font>
00083 <font class="comment">          i)  FTN_STR(s)  - returns pointer to fortran-passed</font>
00084 <font class="comment">                            string s. This pointer is always</font>
00085 <font class="comment">                            of 'pstr' type</font>
00086 <font class="comment">          ii) FTN_LEN(s)  - returns integer length of fortran-</font>
00087 <font class="comment">                            passed string s. For this macro to</font>
00088 <font class="comment">                            work properly with SUN- and MVS-like</font>
00089 <font class="comment">                            machines, always use suffix '_len' </font>
00090 <font class="comment">                            for the string length parameters as</font>
00091 <font class="comment">                            described in a) above.</font>
00092 <font class="comment">  </font>
00093 <font class="comment">     2. Three parameter lists, each enclosed in brackets, should</font>
00094 <font class="comment">        be given. These lists retain the general order of</font>
00095 <font class="comment">        parameters in the corresponding fortran call. Non-string</font>
00096 <font class="comment">        parameters are passed as pointers. String parameters</font>
00097 <font class="comment">        and their lengths are passed differently in different</font>
00098 <font class="comment">        lists:</font>
00099 <font class="comment">  </font>
00100 <font class="comment">         p_send    strings enter their place in the list as in</font>
00101 <font class="comment">                   the corresponding FORTRAN call, having 'fpstr'</font>
00102 <font class="comment">                   parameter type. Their lengths are appended as</font>
00103 <font class="comment">                   'int' to the end of the list. They should</font>
<a name="l00104"></a><a class="code" href="ccp4__fortran_8h.html#a15">00104</a> <font class="comment">                   retain the order in which the strings appear</font>
00105 <font class="comment">                   in the list.</font>
00106 <font class="comment">  </font>
00107 <font class="comment">         p_sstruct strings enter their place in the list as in</font>
00108 <font class="comment">                   the corresponding FORTRAN call, having 'fpstr'</font>
00109 <font class="comment">                   parameter type.</font>
00110 <font class="comment">  </font>
00111 <font class="comment">         p_sflw    strings enter their place in the list as in</font>
00112 <font class="comment">                   the corresponding FORTRAN call, having 'fpstr'</font>
00113 <font class="comment">                   type and being immediately followed by their</font>
00114 <font class="comment">                   lengths as 'int' parameters.</font>
00115 <font class="comment">  </font>
00116 <font class="comment">  </font>
00117 <font class="comment">  </font>
00118 <font class="comment">   Example:</font>
00119 <font class="comment">  </font>
00120 <font class="comment">     FORTRAN statement</font>
00121 <font class="comment">  </font>
00122 <font class="comment">       subroutine  SomeSub ( k,s1,a,s2,m )</font>
00123 <font class="comment">       integer       k,m</font>
00124 <font class="comment">       real          a</font>
<a name="l00125"></a><a class="code" href="ccp4__fortran_8h.html#a16">00125</a> <font class="comment">       character*(*) s1,s2</font>
00126 <font class="comment">  </font>
00127 <font class="comment">     is translated to</font>
00128 <font class="comment">  </font>
00129 <font class="comment">       FORTRAN_SUBR ( SOMESUB, somesub,</font>
00130 <font class="comment">         ( int * k, fpstr s1, float * a, fpstr s2, int * m,</font>
00131 <font class="comment">           int s1_len, int s2_len ),</font>
00132 <font class="comment">         ( int * k, fpstr s1, float * a, fpstr s2, int * m ),</font>
00133 <font class="comment">         ( int * k, fpstr s1, int s1_len, float * a,</font>
00134 <font class="comment">           fpstr s2, int s2_len, int * m ) )</font>
00135 <font class="comment">  </font>
00136 <font class="comment">  </font>
00137 <font class="comment">     The macro should replace ordinary function header</font>
00138 <font class="comment">   statements to assure compatibility with FORTRAN links.</font>
00139 <font class="comment">   In header files, do not forget to add semicolumn:</font>
00140 <font class="comment">  </font>
00141 <font class="comment">     FORTRAN_SUBR ( .... );</font>
00142 <font class="comment">  </font>
00143 <font class="comment">   while in source files use simply</font>
00144 <font class="comment">  </font>
00145 <font class="comment">     FORTRAN_SUBR ( .... )  {</font>
00146 <font class="comment">      &lt;source body, operators&gt;</font>
00147 <font class="comment">     }</font>
00148 <font class="comment">  </font>
00149 <font class="comment">  </font>
00150 <font class="comment">  </font>
00151 <font class="comment">     Macro  FORTRAN_CALL(NAME,name,p_send,p_sstruct,p_sflw)</font>
00152 <font class="comment">   calls function defined with macro FORTRAN_SUBR(...), from</font>
00153 <font class="comment">   a C/C++ application. Its parameters and their meaning are</font>
00154 <font class="comment">   exactly identical to those of FORTRAN_SUBR(...).</font>
00155 <font class="comment">   FORTRAN_CALL(...) should be followed by semicolon.                    */</font>
00156 
00157 
00158 <font class="preprocessor">#if  defined(CALL_LIKE_SUN)</font>
00159 <font class="preprocessor"></font>
00160   <font class="keyword">typedef</font> pstr fpstr;
00161 
00162 <font class="preprocessor">#define FTN_STR(s)  s</font>
00163 <font class="preprocessor"></font><font class="preprocessor">#define FTN_LEN(s)  s##_len</font>
00164 <font class="preprocessor"></font>
00165 <font class="preprocessor">#define char_struct(s)           \</font>
00166 <font class="preprocessor">    pstr  s;                       \</font>
00167 <font class="preprocessor">    int   s##_len;</font>
00168 <font class="preprocessor"></font><font class="preprocessor">#define fill_char_struct(s,str)  \</font>
00169 <font class="preprocessor">    s  = str;                      \</font>
00170 <font class="preprocessor">    s##_len = strlen(str);</font>
00171 <font class="preprocessor"></font><font class="preprocessor">#define init_char_struct(s,str,size)  \</font>
00172 <font class="preprocessor">    s  = str;                      \</font>
00173 <font class="preprocessor">    s##_len = size;</font>
00174 <font class="preprocessor"></font>
00175 <font class="preprocessor">#define FORTRAN_SUBR(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00176 <font class="preprocessor">    void name##_ p_sun</font>
00177 <font class="preprocessor"></font><font class="preprocessor">#define FORTRAN_CALL(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00178 <font class="preprocessor">    name##_ p_sun</font>
00179 <font class="preprocessor"></font><font class="preprocessor">#define FORTRAN_FUN(val,NAME,name,p_sun,p_stardent,p_mvs) \</font>
00180 <font class="preprocessor">    val name##_ p_sun</font>
00181 <font class="preprocessor"></font><font class="preprocessor">#elif defined(CALL_LIKE_HPUX)</font>
00182 <font class="preprocessor"></font>
00183   <font class="keyword">typedef</font> pstr fpstr;
00184 
00185 <font class="preprocessor">#  define FTN_STR(s)  s</font>
00186 <font class="preprocessor"></font><font class="preprocessor">#  define FTN_LEN(s)  s##_len</font>
00187 <font class="preprocessor"></font>
00188 <font class="preprocessor">#  define char_struct(s)  \</font>
00189 <font class="preprocessor">    pstr  s;              \</font>
00190 <font class="preprocessor">    int   s##_len;</font>
00191 <font class="preprocessor"></font><font class="preprocessor">#  define fill_char_struct(s,str)  \</font>
00192 <font class="preprocessor">    s  = str;                      \</font>
00193 <font class="preprocessor">    s##_len = strlen(str);</font>
00194 <font class="preprocessor"></font><font class="preprocessor">#  define init_char_struct(s,str,size)  \</font>
00195 <font class="preprocessor">    s  = str;                      \</font>
00196 <font class="preprocessor">    s##_len = size;</font>
00197 <font class="preprocessor"></font>
00198 <font class="preprocessor">#  define FORTRAN_SUBR(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00199 <font class="preprocessor">    void name p_sun</font>
00200 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_CALL(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00201 <font class="preprocessor">    name p_sun</font>
00202 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_FUN(val,NAME,name,p_sun,p_stardent,p_mvs) \</font>
00203 <font class="preprocessor">    val name p_sun</font>
00204 <font class="preprocessor"></font><font class="preprocessor">#elif defined(CALL_LIKE_STARDENT)</font>
00205 <font class="preprocessor"></font>
00206   <font class="keyword">typedef</font> PStrPar fpstr;
00207 
00208 <font class="preprocessor">#  define FTN_STR(s)  s-&gt;Str_pointer</font>
00209 <font class="preprocessor"></font><font class="preprocessor">#  define FTN_LEN(s)  s-&gt;Str_length</font>
00210 <font class="preprocessor"></font>
00211 <font class="preprocessor">#  define char_struct(s)           \</font>
00212 <font class="preprocessor">    SStrPar s;</font>
00213 <font class="preprocessor"></font><font class="preprocessor">#  define fill_char_struct(s,str)  \</font>
00214 <font class="preprocessor">    s.S   = str;                   \</font>
00215 <font class="preprocessor">    s.len = strlen(FName);         \</font>
00216 <font class="preprocessor">    s.id  = 0;</font>
00217 <font class="preprocessor"></font><font class="preprocessor">#  define init_char_struct(s,str,size)  \</font>
00218 <font class="preprocessor">    s.S   = str;                   \</font>
00219 <font class="preprocessor">    s.len = size;         \</font>
00220 <font class="preprocessor">    s.id  = 0;</font>
00221 <font class="preprocessor"></font>
00222 <font class="preprocessor">#  define FORTRAN_SUBR(NAME,name,p_send,p_sstruct,p_sflw) \</font>
00223 <font class="preprocessor">    void NAME p_stardent</font>
00224 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_CALL(NAME,name,p_send,p_sstruct,p_sflw) \</font>
00225 <font class="preprocessor">    NAME p_stardent</font>
00226 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_FUN(val,NAME,name,p_send,p_sstruct,p_sflw) \</font>
00227 <font class="preprocessor">    val NAME p_stardent</font>
00228 <font class="preprocessor"></font>
00229 <font class="preprocessor">#elif defined(CALL_LIKE_VMS)</font>
00230 <font class="preprocessor"></font>
00231   <font class="keyword">typedef</font> dsc$descriptor_s * fpstr;
00232 
00233 <font class="preprocessor">#  define FTN_STR(s)  s-&gt;dsc$a_pointer;</font>
00234 <font class="preprocessor"></font><font class="preprocessor">#  define FTN_LEN(s)  s-&gt;dsc$w_length;</font>
00235 <font class="preprocessor"></font>
00236 <font class="preprocessor">#  define char_struct(s)                \</font>
00237 <font class="preprocessor">    dsc$descriptor_s s;</font>
00238 <font class="preprocessor"></font><font class="preprocessor">#  define fill_char_struct(s,str)     \</font>
00239 <font class="preprocessor">    s.dsc$a_pointer = str;            \</font>
00240 <font class="preprocessor">    s.dsc$w_length  = strlen(str);    \</font>
00241 <font class="preprocessor">    s.dsc$b_dtype   = DSC$K_DTYPE_T;  \</font>
00242 <font class="preprocessor">    s.dsc$b_class   = DSC$K_CLASS_S;</font>
00243 <font class="preprocessor"></font><font class="preprocessor">#  define init_char_struct(s,str,size)     \</font>
00244 <font class="preprocessor">    s.dsc$a_pointer = str;            \</font>
00245 <font class="preprocessor">    s.dsc$w_length  = size;    \</font>
00246 <font class="preprocessor">    s.dsc$b_dtype   = DSC$K_DTYPE_T;  \</font>
00247 <font class="preprocessor">    s.dsc$b_class   = DSC$K_CLASS_S;</font>
00248 <font class="preprocessor"></font>
00249 <font class="preprocessor">#  define FORTRAN_SUBR(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00250 <font class="preprocessor">    void NAME p_stardent</font>
00251 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_CALL(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00252 <font class="preprocessor">    NAME p_stardent</font>
00253 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_FUN(val,NAME,name,p_sun,p_stardent,p_mvs) \</font>
00254 <font class="preprocessor">    val NAME p_stardent</font>
00255 <font class="preprocessor"></font>
00256 <font class="preprocessor">#elif defined(CALL_LIKE_MVS)</font>
00257 <font class="preprocessor"></font>
00258 <font class="preprocessor">#if (CALL_LIKE_MVS == 2)</font>
00259 <font class="preprocessor"></font>
00260   <font class="keyword">typedef</font> pstr fpstr;
00261 
00262 <font class="preprocessor">#define FTN_STR(s)  s</font>
00263 <font class="preprocessor"></font><font class="preprocessor">#define FTN_LEN(s)  s##_len</font>
00264 <font class="preprocessor"></font>
00265 <font class="preprocessor">#define char_struct(s)           \</font>
00266 <font class="preprocessor">    pstr  s;                       \</font>
00267 <font class="preprocessor">    int   s##_len;</font>
00268 <font class="preprocessor"></font><font class="preprocessor">#define fill_char_struct(s,str)  \</font>
00269 <font class="preprocessor">    s  = str;          \</font>
00270 <font class="preprocessor">        s##_len = strlen(str);</font>
00271 <font class="preprocessor"></font><font class="preprocessor">#define init_char_struct(s,str,size)  \</font>
00272 <font class="preprocessor">    s  = str;                   \</font>
00273 <font class="preprocessor">        s##_len = size;</font>
00274 <font class="preprocessor"></font>
00275 <font class="preprocessor">#define FORTRAN_SUBR(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00276 <font class="preprocessor">    void NAME p_sun</font>
00277 <font class="preprocessor"></font><font class="preprocessor">#define FORTRAN_CALL(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00278 <font class="preprocessor">    NAME p_sun</font>
00279 <font class="preprocessor"></font><font class="preprocessor">#define FORTRAN_FUN(val,NAME,name,p_sun,p_stardent,p_mvs) \</font>
00280 <font class="preprocessor">    val NAME p_sun</font>
00281 <font class="preprocessor"></font>
00282 <font class="preprocessor">#else</font>
00283 <font class="preprocessor"></font>
00284   <font class="keyword">typedef</font> pstr fpstr;
00285 
00286 <font class="preprocessor">#  define FTN_STR(s)  s</font>
00287 <font class="preprocessor"></font><font class="preprocessor">#  define FTN_LEN(s)  s##_len</font>
00288 <font class="preprocessor"></font>
00289 <font class="preprocessor">#  define char_struct(s)  \</font>
00290 <font class="preprocessor">    pstr  s;              \</font>
00291 <font class="preprocessor">    int   s##_len;</font>
00292 <font class="preprocessor"></font><font class="preprocessor">#  define fill_char_struct(s,str)  \</font>
00293 <font class="preprocessor">    s  = str;                      \</font>
00294 <font class="preprocessor">    s##_len = strlen(str);</font>
00295 <font class="preprocessor"></font><font class="preprocessor">#  define init_char_struct(s,str,size)  \</font>
00296 <font class="preprocessor">    s  = str;                      \</font>
00297 <font class="preprocessor">    s##_len = size;</font>
00298 <font class="preprocessor"></font>
00299 <font class="preprocessor">#  define FORTRAN_SUBR(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00300 <font class="preprocessor">    void __stdcall NAME p_mvs</font>
00301 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_CALL(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00302 <font class="preprocessor">    NAME p_mvs</font>
00303 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_FUN(val,NAME,name,p_sun,p_stardent,p_mvs) \</font>
00304 <font class="preprocessor">    val __stdcall NAME p_mvs</font>
00305 <font class="preprocessor"></font>
00306 <font class="preprocessor"># endif</font>
00307 <font class="preprocessor"></font>
00308 <font class="preprocessor">#else</font>
00309 <font class="preprocessor"></font>
00310 <font class="preprocessor">#  error  Unknown machine!!!</font>
00311 <font class="preprocessor"></font>
00312   <font class="keyword">typedef</font> pstr fpstr;
00313 
00314 <font class="preprocessor">#  define FTN_STR(s)  s</font>
00315 <font class="preprocessor"></font><font class="preprocessor">#  define FTN_LEN(s)  s##_len</font>
00316 <font class="preprocessor"></font>
00317 <font class="preprocessor">#  define char_struct(s)  \</font>
00318 <font class="preprocessor">    pstr  s;              \</font>
00319 <font class="preprocessor">    int   s##_len;</font>
00320 <font class="preprocessor"></font><font class="preprocessor">#  define fill_char_struct(s,str)  \</font>
00321 <font class="preprocessor">    s  = str;                      \</font>
00322 <font class="preprocessor">    s##_len = strlen(str);</font>
00323 <font class="preprocessor"></font><font class="preprocessor">#  define init_char_struct(s,str,size)  \</font>
00324 <font class="preprocessor">    s  = str;                      \</font>
00325 <font class="preprocessor">    s##_len = size;</font>
00326 <font class="preprocessor"></font>
<a name="l00335"></a><a class="code" href="ccp4__fortran_8h.html#a7">00335</a> <font class="preprocessor">#  define FORTRAN_SUBR(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00336 <font class="preprocessor">    void name##_ p_sun</font>
00337 <font class="preprocessor"></font>
<a name="l00345"></a><a class="code" href="ccp4__fortran_8h.html#a8">00345</a> <font class="preprocessor">#  define FORTRAN_CALL(NAME,name,p_sun,p_stardent,p_mvs) \</font>
00346 <font class="preprocessor">    name##_ p_sun</font>
00347 <font class="preprocessor"></font>
<a name="l00357"></a><a class="code" href="ccp4__fortran_8h.html#a9">00357</a> <font class="preprocessor">#  define FORTRAN_FUN(val,NAME,name,p_sun,p_stardent,p_mvs) \</font>
00358 <font class="preprocessor">    val name##_ p_sun</font>
00359 <font class="preprocessor"></font>
00360 <font class="preprocessor">#endif</font>
00361 <font class="preprocessor"></font>
00362 <font class="comment">/* Define Fortran logical */</font>
00363 <font class="keyword">typedef</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> ftn_logical;
00364 <font class="preprocessor">#if defined (KNOWN_MACHINE)</font>
00365 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_LOGICAL_TRUE  1</font>
00366 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_LOGICAL_FALSE 0</font>
00367 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00368 <font class="preprocessor"></font><font class="preprocessor">#if defined (__OSF1__) || defined (__osf__)</font>
00369 <font class="preprocessor"></font><font class="preprocessor">#  undef FORTRAN_LOGICAL_TRUE</font>
00370 <font class="preprocessor"></font><font class="preprocessor">#  define FORTRAN_LOGICAL_TRUE  -1</font>
00371 <font class="preprocessor"></font><font class="preprocessor">#endif     </font>
00372 <font class="preprocessor"></font>
00373 <font class="keywordtype">char</font> *<a class="code" href="library__f_8c.html#a1">ccp4_FtoCString</a>(fpstr str1, <font class="keywordtype">int</font> str1_len);
00374 <font class="keywordtype">void</font> <a class="code" href="library__f_8c.html#a2">ccp4_CtoFString</a>(fpstr str1, <font class="keywordtype">int</font> str1_len, <font class="keyword">const</font> <font class="keywordtype">char</font> *cstring);
00375 
00376 <font class="preprocessor">#endif    </font><font class="comment">/* __CCP4_FORTRAN */</font>
</pre></div>
</body>
</html>
