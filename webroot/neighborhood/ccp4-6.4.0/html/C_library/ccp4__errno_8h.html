<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ccp4_errno.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>ccp4_errno.h File Reference</h1><code>#include &lt;errno.h&gt;</code><br>

<p>
<a href="ccp4__errno_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="ccp4_errno.h::CCP4_ERRSYSTEM"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERRSYSTEM</b>(x)&nbsp;&nbsp;&nbsp;(((x)&amp;0xfff)&lt;&lt;24)</td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="ccp4_errno.h::CCP4_ERRLEVEL"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERRLEVEL</b>(x)&nbsp;&nbsp;&nbsp;(((x)&amp;0xf)&lt;&lt;16)</td></tr>
<tr><td nowrap align=right valign=top><a name="a2" doxytag="ccp4_errno.h::CCP4_ERRSETLEVEL"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERRSETLEVEL</b>(y, x)&nbsp;&nbsp;&nbsp;((y) &amp; (~CCP4_ERRLEVEL(0xf)) | CCP4_ERRLEVEL(x)))</td></tr>
<tr><td nowrap align=right valign=top><a name="a3" doxytag="ccp4_errno.h::CCP4_ERRGETSYS"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERRGETSYS</b>(x)&nbsp;&nbsp;&nbsp;(((x)&gt;&gt;24)&amp;0xfff)</td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="ccp4_errno.h::CCP4_ERRGETLEVEL"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERRGETLEVEL</b>(x)&nbsp;&nbsp;&nbsp;(((x)&gt;&gt;16)&amp;0xf)</td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="ccp4_errno.h::CCP4_ERRGETCODE"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERRGETCODE</b>(x)&nbsp;&nbsp;&nbsp;((x)&amp;0xffff)</td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="ccp4_errno.h::CCP4_ERR_SYS"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_SYS</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x0)</td></tr>
<tr><td nowrap align=right valign=top><a name="a7" doxytag="ccp4_errno.h::CCP4_ERR_FILE"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_FILE</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x1)</td></tr>
<tr><td nowrap align=right valign=top><a name="a8" doxytag="ccp4_errno.h::CCP4_ERR_COORD"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_COORD</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x2)</td></tr>
<tr><td nowrap align=right valign=top><a name="a9" doxytag="ccp4_errno.h::CCP4_ERR_MTZ"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_MTZ</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x3)</td></tr>
<tr><td nowrap align=right valign=top><a name="a10" doxytag="ccp4_errno.h::CCP4_ERR_MAP"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_MAP</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x4)</td></tr>
<tr><td nowrap align=right valign=top><a name="a11" doxytag="ccp4_errno.h::CCP4_ERR_UTILS"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_UTILS</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x5)</td></tr>
<tr><td nowrap align=right valign=top><a name="a12" doxytag="ccp4_errno.h::CCP4_ERR_PARS"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_PARS</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x6)</td></tr>
<tr><td nowrap align=right valign=top><a name="a13" doxytag="ccp4_errno.h::CCP4_ERR_SYM"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_SYM</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x7)</td></tr>
<tr><td nowrap align=right valign=top><a name="a14" doxytag="ccp4_errno.h::CCP4_ERR_GEN"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_ERR_GEN</b>&nbsp;&nbsp;&nbsp;CCP4_ERRSYSTEM(0x8)</td></tr>
<tr><td nowrap align=right valign=top><a name="a15" doxytag="ccp4_errno.h::CCP4_COUNT"></a>
#define&nbsp;</td><td valign=bottom><b>CCP4_COUNT</b>(x)&nbsp;&nbsp;&nbsp;sizeof(x)/sizeof(x[0])</td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ccp4__errno_8h.html#a18">ccp4_error</a> (const char *)</td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="ccp4__errno_8h.html#a19">ccp4_strerror</a> (int)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ccp4__errno_8h.html#a20">ccp4_fatal</a> (const char *)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="ccp4__errno_8h.html#a21">ccp4_liberr_verbosity</a> (int iverb)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ccp4__errno_8h.html#a22">ccp4_signal</a> (const int, const char *const, void(*)())</td></tr>
<tr><td nowrap align=right valign=top><a name="a23" doxytag="ccp4_errno.h::cfile_perror"></a>
int&nbsp;</td><td valign=bottom><b>cfile_perror</b> (const char *)</td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="ccp4__errno_8h.html#a17">ccp4_errno</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
 Header file for error handling routines base error codes on system errors.
<p>
<hr><h2>Function Documentation</h2>
<a name="a18" doxytag="ccp4_errno.h::ccp4_error"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ccp4_error </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>msg</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print out passed message and internal message based upon ccp4_errno "message : error message " <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>message</em>&nbsp;</td><td>
(const char *) </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
void </dl>    </td>
  </tr>
</table>
<a name="a20" doxytag="ccp4_errno.h::ccp4_fatal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ccp4_fatal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>message</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Wrapper for ccp4_error which also calls exit(1) <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>message</em>&nbsp;</td><td>
(const char *) </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
void </dl>    </td>
  </tr>
</table>
<a name="a21" doxytag="ccp4_errno.h::ccp4_liberr_verbosity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ccp4_liberr_verbosity </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>iverb</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function to set verbosity level for messages from ccp4_signal. Currently just off (0) and on (1). It should be generalised to be able to switch individual components on and off, i.e. replace 1 by a mask. cf. ccp4VerbosityLevel which sets the verbosity level for ccp4printf These are separate as they may be used differently. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>iverb</em>&nbsp;</td><td>
If &gt;= 0 then set the verbosity level to the value of iverb. If &lt; 0 (by convention -1) then report current level.  </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
current verbosity level </dl>    </td>
  </tr>
</table>
<a name="a22" doxytag="ccp4_errno.h::ccp4_signal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ccp4_signal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *const&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>msg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void(*&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>callback</em>)()</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Routine to set ccp4_errno and print out message for error tracing. This should be the only way in which ccp4_errno is set. See error codes above for levels and systems. A callback with prototype void function(void) may also be passed to the routine. Note: FATAL calls exit(1).  If ccp4_liberr_verbosity returns 0, then ccp4_signal sets ccp4_errno and returns without doing anything else. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>error</em>&nbsp;</td><td>
code (int) </td></tr>
<tr><td valign=top><em>message</em>&nbsp;</td><td>
(const char * const)  </td></tr>
<tr><td valign=top><em>callback</em>&nbsp;</td><td>
(point to routine void (*)(void) ) </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
void </dl>    </td>
  </tr>
</table>
<a name="a19" doxytag="ccp4_errno.h::ccp4_strerror"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* ccp4_strerror </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>error</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Obtain character string based upon error code. Typical use ccp4_strerror(ccp4_errno) The returned string is statically allocated in the <a class="el" href="library__err_8c.html">library_err.c</a> file and should not be freed. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>error</em>&nbsp;</td><td>
code (int) </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
const pointer to error message (const char *) </dl>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a17" doxytag="ccp4_errno.h::ccp4_errno"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ccp4_errno
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
@global ccp4_errno: global variable that stores the error last error code from the ccp4 libraries  | 12 bits - library | 4 bits - level | 16 bits - code |
<p>
associated macros CCP4_ERR_SYS 0 OS error CCP4_ERR_FILE 1 io library CCP4_ERR_COORD 2 mmdb CCP4_ERR_MTZ 3 cmtz CCP4_ERR_MAP 4 map io CCP4_ERR_UTILS 5 utility routines CCP4_ERR_PARS 6 parser routines CCP4_ERR_SYM 7 csymlib
<p>
and bit manipulation CCP4_ERRSYSTEM system mask for setting CCP4_ERRLEVEL error level mask CCP4_ERRSETLEVEL error level mask for setting error level CCP4_ERRGETSYS mask for returning system CCP4_ERRGETLEVEL mask for returning level CCP4_ERRGETCODE mask for returning the code
<p>
error levels 0 Success 1 Informational 2 Warning  3 Error 4 Fatal     </td>
  </tr>
</table>

</body>
</html>
