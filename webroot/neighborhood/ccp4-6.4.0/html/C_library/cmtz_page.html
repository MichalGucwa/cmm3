<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CMTZ library</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><a name="cmtz_page"><h2>CMTZ library</h2></a>
 <div class="fragment"><pre>

<!-- ::INDEX_INFO::CMTZ library::Library::::C/C++ Software Library for MTZ files:::::::: -->
   </pre></div>
<p>
<a name="cmtz_file_list"><h2>File list</h2></a>

<p>
<ul>
<li><a class="el" href="cmtzlib_8h.html">cmtzlib.h</a> - contains details of the C/C++ API <li><a class="el" href="mtzdata_8h.html">mtzdata.h</a> - contains details of the <a class="el" href="structMTZ.html">MTZ</a> data structure </ul>
<a name="cmtz_overview"><h2>Overview</h2></a>

<p>
The CMTZ library is centred around a data structure, defined in <a class="el" href="mtzdata_8h.html">mtzdata.h</a> Reading an <a class="el" href="structMTZ.html">MTZ</a> file causes a data structure to be created and populated from the <a class="el" href="structMTZ.html">MTZ</a> header. There are a variety of functions  for manipulating the data structure, for example adding crystals, datasets or columns. The data structure can be dumped to an output <a class="el" href="structMTZ.html">MTZ</a> data file. 
<p>
 The library operates in two modes with respect to the reflection data. If <code>mtz-&gt;refs_in_memory = 1</code> (as set e.g. by the argument to  <code>MtzGet</code>), then all reflection data is read into memory from the file, and can be manipulated in memory. Else if  <code>mtz-&gt;refs_in_memory = 0</code> then explicit calls to <code>ccp4_lrrefl</code>, <code>ccp4_lrreff</code> and <code>ccp4_lwrefl</code> are required to read and write reflections from/to disk. 
<p>
 Information on the data structure is given in <a class="el" href="mtzdata_8h.html">mtzdata.h</a>
<p>
<a name="cmtz_princ_func"><h2>Principal Functions</h2></a>
 <a name="cmtz_reading"><h3>Reading MTZ files</h3></a>

<p>
Start by looking at <code>MtzGet</code> and <code>ccp4_lrrefl</code> / <code>ccp4_lrreff</code>.
<p>
<a name="cmtz_writing"><h3>Writing MTZ files</h3></a>

<p>
If you have a structure in memory already, use <code>MtzPut</code> followed by <code>MtzFree</code> to release the memory.  
<p>
 If you need to create a structure from scratch (i.e. without reading from an input file) then use <code>MtzMalloc</code>, <code>MtzOpenForWrite</code>,  <code>ccp4_lwsymm</code>, <code>MtzAddXtal</code>, <code>MtzAddDataset</code>,  <code>MtzAddColumn</code> and <code>ccp4_lwrefl</code>.
<p>
<a name="cmtz_symmetry"><h2>Symmetry Information</h2></a>

<p>
All reflection data in an <a class="el" href="structMTZ.html">MTZ</a> file is assumed to belong to the same spacegroup. The spacegroup is identified in the <a class="el" href="structMTZ.html">MTZ</a> file by SYMINF and SYMM records in the file header. This information is copied  into the in-memory data structure. The list of symmetry operators (copied from the SYMM header records) is taken to be the definitive indicator of the spacegroup. 
<p>
 The functions <code>ccp4_lrsymi</code>, <code>ccp4_lrsymm</code> and  <code>ccp4_lwsymm</code> read from and write to the symmetry sections of the data structure. No symmetry manipulations are done within the CMTZ library itself. Within CCP4, the CSYM library provides  appropriate functions, but other symmetry libraries could be used.
<p>
<a name="cmtz_examples"><h2>Examples</h2></a>

<p>
See examples on <a href="ftp://ftp.ccp4.ac.uk/mdw/cmtz">ftp area</a>
<p>

</body>
</html>
