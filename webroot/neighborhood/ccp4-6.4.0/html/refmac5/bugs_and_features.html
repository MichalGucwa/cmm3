
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>


<head>
</head>

<body
<h1>
  refmac 5.5 bug removal and new features
</h1>

<h3>
  5.5.0050
</h3>
<p>1) 
Bug introduced in 5.5.0047 related with HKLOUT (output
file would not be written if labout is not defined) has been removed
</p> <p>
2) Inconsistency between document and refmac about alt codes in the external
distances restraints removed. Now refmac can take ALTE and ALTC. Document is
consistent with the program
</p><p>
3) More info about external restraints has been added (distance, angle, torsion,
plane, chiral, interval restraints can be defined for any pair or triple etc
atoms)
</p>
<h3 >
  5.5.0047
</h3>
<p>
  1) Several compatibility issues for irix and windows were resolved. Now it
  should compile on windows, however this website does not have makefiles for
  windows yet.
</p>
<p>
  2) A bug of user output columns not working correctly under certain
  circumstances has been removed
</p>
<p>
  3) A bug related to ANOM MAPOnly use possibly leading to crash has been fixed
</p>
<p>
  4) Refmac can output F+,F-,SIGF+,SIGF- to the output mtz file optionally:
  those of these that appear in both LABI and LABO will appear in output mtz
</p>
<p>
</p>
<h3>
  5.5.0046
</h3>
<p>
  Now unobserved reflections in the output mtz file also have free R flag (equal
  to zero). It should make programs using this output file happier
</p>
<p>
</p>
<h3>
  5.5.0045
</h3>
<p>
  1) Ligands con, com, prn were broken. Now they should be ok.
</p>
<p>
  2) Added a keyword: weight auto adjust &lt;yes|no &gt; If the value us yes
  then weight will be adjusted to make sure that rmsbonds are around 0.02 or so.
  'yes' is default value.
</p>
<p>
</p>
<h31>
  5.5.0044
</h3>
<p>
</p>
<p>
  1) Now the program can read intensities only (i.e. if sigmas for intensities
  are not available they may not be defined). This option should be avoided.
  However for some cases from pdb only intensities are available. This option
  has been added to deal with such cases.
</p>
<p>
  Line minimisation temporary disabled
</p>
<p>
</p>
<h3>
  5.5.0043
</h3>
<p>
  1) A bug related with FAN and DELFAN maps has been removed. Now the program
  produces anomalous and different anomalous maps if requested (ANOM MAPOnly) or
  SAD refinement is performed.
</p>
<p>
  Now refmac with twin refinement prints out all equivalent twin operators. It
  should help comparing twin laws derived by different programs.
</p>
<p>
  2) A keyword allowing refinement of occupancies of anomalous scatterers has
  been added. If the following keyword: REFINE OREFINE ANOMALOUS
</p>
<p>
  then occupancies of anomalous scatterers will be refined
</p>
<p>
  3) A keyword added that controls the level of small twin domains. The keyword
  TWIN FILTerlevel &lt;value&gt;
</p>
<p>
  will give a signal to the program that all domains with twin fraction less
  than given value should be removed. After removal of these domain the program
  will make sure that twin and crystallographic symmetry operators together form
  a group. Default value is 0.05
</p>
<p>
</p>
<h3>
  5.5.0042
</h3>
<p>
  1) A feature has been added: If the keyword ANOM MAPOnly
</p>
<p>
  as well F+ and F- have been specified in the labin statement then refmac will
  produce anomalous difference as well as difference anomalous maps. Map
  coefficients are:
</p>
<p>
  m DANO_o and m DANO_o - D DANO_c
</p>
<p>
  DANO_o and DANO_c are observed and calculated anomolous differences. m is
  figure of merit (expected phase error) and D is the maximum likelihood scale
  parameter that is related with &lt;(cos(2 π s Δ x) &gt; (expectation value)
  with s a reciprocal space vector Δ x is error in positional parameters
</p>
<p>
  These map coefficients are calculated by default if SAD refinement is
  performed, i.e. (i) F+ and F- have been given, (ii) coordinate file contains
  anomolous scatterers and (iii) wavelength (either in mtz file or using ANOM
  wave keyword) or ANOM FORM f' f'' statements have been defined.
</p>
<p>
  2) TLS refinement has been stabilised further
</p>
<p>
  3) If keyword TLSO ADDU keyword is given then the program output coordinate
  file will contain anisotropic U values calculated from TLS parameters and
  isotropic equivalent of TLS contribution will be added to B values. At this
  stage this keyword should be used for visualisation and analysis purposes.
  Output file file thus produced should not be used in the next stage of
  refinement
</p>
<p>
  4) Bugs related with premature termination of refinement has been removed
</p>
<p>
  <b id=vd:g34>5.5.0040 </b>
</p>
<p>
  An introduced bug affecting SAD refinement has been removed
</p>
<p id=tdin4>
  <b id=tdin5>5.5.0039</b>
</p>
<p>
  A bug related with the high B values of non-tls groups has been removed
</p>
<p>
  Automatic definition of domains as segments or chains sometimes had some
  problem
</p>
<p>
  Stability of the multidimensional integration to derive the posterior
  expectation values for twin and intensity based maximum likelihood refinement
  has been improved
</p>

<p>
  <b>5.5.0038</b>
<p>
  Bug related with addition of non-tls group to one of the groups has been
  removed
</p>

<p>
  <b>5.5.0037</b>
</p>

<p>
  If auto weighting is specified (note that it is default) then the program will
  try to make sure that zbond is between 0.2 and 1.0.
</p>
<p>
  If the input pdb file had anisou card and isotropic refinement is performed
  then the output file contained aniosu card with only the first element
  non-zero
</p>
<p>
  Refinement exits if function value starts to increase.
</p>
<p>
  Inaccuracy in mask based solvent contribution calculations has been corrected.
  Now R/Rfree should look better.
</p>
<p>
  If ligands are close to one of the tls groups they are not included in these
  groups. Only metals and solvent molecules are added to TLS groups. Note that
  it is users' responsibility to make sure that all atoms in the asymmetric unit
  belong to one or another tls group.
</p>

<p>
  <b id=tdin20>5.5.0036</b>
</p>

<p >
  For some groups small twin domains were not removed correctly. Now they are
  removed correctly. The program makes sure that space group symmetry together
  with twin symmetry form a group
</p>
<p>
  An option added not to add waters to tls groups. New keyword is: tlsdetails
  waters exclude
</p>
<p>
  A little bit better option for autoweighting
</p>
<hr>
<address><a href=mailto:garib@deltora.local id=vd:g58>Garib
Murshudov</a></address> Last modified: Sun Aug 7 23:14:54 BST 2008
