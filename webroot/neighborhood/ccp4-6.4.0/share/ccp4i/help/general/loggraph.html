<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>CCP4 Interface: The Loggraph Utility</title>
<link rel="stylesheet" type="text/css" href="../ccp4idocs.css" title="CCP4i" />
<link rev="made" href="mailto:mgwt@ysbl.york.ac.uk" />
<meta name="GENERATOR" content="Mozilla/3.0Gold (X11; I; IRIX 6.2 IP22) [Netscape]" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="AUTHOR" content="Maria and Liz" />
</head>
<body>

<table border="0">
<tr><td rowspan="2"><img src="../images/weblogo175.gif" alt="CCP4 web logo" /></td>
<td class="logohead">CCP4i: Graphical User Interface</td></tr>
<tr><td class="logotitle">The Loggraph Utility</td></tr>
</table>
<br />
<table border="0">
<tr><td>
<a href="runjob.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="fileviewer.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="../index.html" target="_top">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

<dl>
<dt><a href="#running_loggraph" target="_self">Running Loggraph</a></dt>
<dd><a href="#log_and_dat" target="_self"><em>.log</em> and <em>.dat</em></a></dd>
</dl>
<p><a href="#selecting_graph_to_display" target="_self">Selecting Graph to Display</a></p>
<dl>
<dt><a href="#customising_appearance" target="_self">Customising the Appearance of the Graph</a></dt>
<dd><a href="#x_axis_resolution" target="_self">X-axis Resolution</a></dd>
<dd><a href="#editing_titles_and_legends" target="_self">Editing Titles and Legends</a></dd>
<dd><a href="#zoom" target="_self">Zoom</a></dd>
<dd><a href="#adding_annotation" target="_self">Adding and Editing Annotation</a></dd>
</dl>
<p><a href="#displaying_as_table" target="_self">Displaying Graphs as Tables</a></p>
<p><a href="#plotting" target="_self">Plotting</a></p>

<p>Many CCP4 programs output tables of data in their log files which can
be interpreted and displayed as graphs. Each table has a name and the columns
of the table have labels. Associated with each table is a list of useful
graphs which could be created from the data in the table. Each graph has
a title and a list of the columns of data which will be depicted in the
graph. The first listed column will be used as the x-axis.</p>

<h3><a name="running_loggraph"></a>Running Loggraph</h3>

<p>Accessing <strong>Loggraph</strong> is usually done through the
<strong><tt>View Log Graphs</tt></strong> option in the
<strong><tt>View Files from Job</tt></strong> pop-up menu. This option
is directly linked to a specific job, and thus to a specific log file.</p>

<p>In case you want to access Loggraph outside the Interface, you can select
an input file by entering the name on the command line, <em>e.g.</em></p>

<blockquote><pre>&gt;&nbsp;loggraph insulin_scaleit.log</pre></blockquote>

<p>or using the file browser accessed from the <strong>File</strong>
pull-down menu (as soon as you are in Loggraph).
If a file is entered on the command line, its file type will be interpreted
from the file extension (<em>.log</em> or <em>.dat</em>) and the appropriate
format will be expected. The file browser has a pop-up menu to specify the
file format.</p>

<h4><a name="log_and_dat"></a><em>.log</em> and <em>.dat</em></h4>

<p><strong>Loggraph</strong> displays the graphs from CCP4 log files (file extension
<em>.log</em>) and also from
data files with simple columns of data (expected to have file extension <em>.dat</em>).
Note that loggraph is not currently very smart in reading column data but could be
improved to ignore header lines <em>etc.</em>. All the data from one column data file
will be put into one table. An example of a .dat file that can be read by Loggraph:</p>
<table width="95%">
<tr>
<td><pre>1       2.5        3.5
2       2.5        4.5
3       2.5        5.5
4       4.5        8.5
5       4.5        9.5
6       4.5       10.5</pre></td>
<td align="right"><img src="../images/loggraphdatexam.png" alt=".dat file example" width="189" height="138" /></td>
</tr>
</table>

<h3><a name="selecting_graph_to_display"></a>Selecting Graph to Display</h3>

<p>The list of tables in the log file is shown below the graph frame.
Select a table, and the graphs available from that table will be listed
at the bottom of the window. Select a graph to be displayed in
the graph frame.</p>

<h3><a name="customising_appearance"></a>Customising the Appearance of the Graph</h3>

<p>The position of the cross-wires over the graph is reported on the right
hand side of the title line. If the cross-wires are close to a data point,
the exact position of that data point is also reported.</p>

<p>You can expand the graph by expanding the Loggraph window.</p>

<p>On the <strong>Edit</strong> pull-down menu are checkbuttons to toggle
on and off the display of each line in the graph. The different lines on
a graph can be distinguished by any combination
of different colours, line styles and symbols. You can toggle the use of
the different features on the <strong>Appearances</strong> pull-down menu.
The same menu also has a <strong>Customise Style</strong> option which gives
you a dialog box listing, by default, eight different styles. You can edit
these or add extra styles. At the top of the dialog box is an option to set
the default line width and symbol size.</p>

<h4><a name="x_axis_resolution"></a>X-axis Resolution</h4>

<p>If the x-axis of the graph is labelled '<strong>1/resol^2</strong>' then,
by default, the labelling on the x-axis will be converted into resolution
in &#197;ngstr&#246;m. This action can be disabled by toggling the
<strong>Resolution</strong> checkbutton on the <strong>Appearances</strong>
pull-down menu.</p>

<h4><a name="editing_titles_and_legends"></a>Editing Titles and Legends</h4>

<p>On the <strong>Edit</strong> pull-down menu is the option to edit
<strong>Titles&amp;Legends</strong> for the currently selected graph.
There are also options to hide the legends, and to control where the
legend box is drawn within the graph plotting area. </p>

<h4><a name="zoom"></a>Zoom</h4>

<p>On the <strong>Utilities</strong> pull-down menu is the option to
<strong>Zoom</strong> in on part of the currently selected graph.</p>

<p>After selecting this option, use the left mouse button to define a zoom
window. Click at the position you want at top left, move the cursor to the
bottom right and click again. The graph will zoom in on this window. Click
the right mouse button to go back to the previous view. </p>

<h4><a name="adding_annotation"></a>Adding and Editing Annotation</h4>

<p>On the <strong>Edit</strong> pull-down menu is the option to
<strong>Add annotation</strong>. </p>

<p>After selecting this option, use the left mouse button to select where in
the graph you want the text to appear (or the right mouse button to cancel).
An editing window will appear which allows you to enter the text you require
(add <tt>\n</tt> in the text to get multiple lines). You can also change the text colour and
orientation (angle). </p>

<p>Use the <strong>Apply</strong> button on the window to apply the changes,
the <strong>Move</strong> button to select a new position (you can also edit
the x and y coordinates directly), and the <strong>Delete</strong> button to
delete the annotation.</p>

<p>To edit existing annotation, double click with the left mouse button on the
text to be edited. This brings up the editing window again. To clear all the
annotation at once, select the <strong>Delete all annotation</strong> option
under the <strong>Edit</strong> pull-down menu.</p>

<h3><a name="displaying_as_table"></a>Displaying Graphs as Tables</h3>

<p>On the <strong>Utilities</strong> pull-down menu is the option to
<strong>Display</strong> the selected graph <strong>as a table</strong>. This
opens a separate text window which displays the data plotted in the current
graph in tabulated form.</p>

<h3><a name="plotting"></a>Plotting</h3>

<p>Before plotting, it is useful to adjust the loggraph window size to get
a suitable aspect ratio for the graph. The <strong>Print Graph</strong> option
on the <strong>File</strong> pull-down menu allows you to plot directly to
colour or monochrome printer, save to a postscript file or preview the plot
with <em>ghostview</em> or <em>xv</em>. The printers and preview mechanism must
be defined appropriately for your site in
<strong>$CCP4_top/etc/configure.def</strong> (see
<a href="configure.html" target="_PROGRAMMERSDOCS">Configuration</a>).</p>

<p>By default, different lines on monochrome plots will be distinguished
by different line styles and symbols even if these features are not used
on the currently displayed graph - you can switch off these features in
the <strong>Print Graph</strong> dialog box.</p>

<p>For information on the X-windows version of the program, see
<a href="../../../../html/xloggraph.html" target="_self">XLOGGRAPH</a>.</p>

<table border="0" width="100%">
<tr><td>
<a href="runjob.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="fileviewer.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="../index.html" target="_top">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td>
<td align="right"><a href="http://validator.w3.org/" target="_EXTERNAL">Valid XHTML 1.0!</a>
<a href="http://jigsaw.w3.org/css-validator/" target="_EXTERNAL">Valid CSS!</a></td>
</tr>
</table>

</body>
</html>
