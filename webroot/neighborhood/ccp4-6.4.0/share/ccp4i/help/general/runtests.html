<!doctype html public "-//w3c//dtd html 3.2//en">
<html>
<head>
<title>CCP4 Interface: Run tests</title>
<link rel="stylesheet" type="text/css" href="../ccp4idocs.css" title="CCP4i" />
<link rev="made" href="mailto:mgwt@ysbl.york.ac.uk" />
<meta name="GENERATOR" content="Mozilla/3.0Gold (X11; I; IRIX 6.2 IP22) [Netscape]" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="AUTHOR" content="Maria and Liz" />
</head>
<body>

<table border="0">
<tr><td rowspan="2"><img src="../images/weblogo175.gif" alt="CCP4 web logo" /></td>
<td class="logohead">CCP4i: Graphical User Interface</td></tr>
<tr><td class="logotitle">Run Tests</td></tr>
</table>
<br />
<table border="0">
<tr><td>
<a href="../modules/datred.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="preferences.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="../index.html" target="_top">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

<p><a href="#program_testing" target="_self">Program Testing</a></p>
<p><a href="#file_location" target="_self">File Location</a></p>
<p><a href="#using_local_directories_def" target="_self">Using Local directories.def</a></p>

<h3><a name="program_testing"></a>Program Testing</h3>

<p>The <tt><strong>Run Tests</strong></tt> option in the <strong>System Administration</strong> menu is
intended for use by program developers to rerun test jobs. It will repeat all the tasks in the current
project (or a selected range of them) in the order they appear in the database. A new project is created
as a sub-directory of the current project and the output files are written to that new project. The user
can follow progress by watching the Job List window where initially all jobs are reported as 'ON_HOLD'.
As each job is run it is updated as 'RUNNING' and 'FINISHED'.</p>

<p>The Run Tests option can be used to set up test runs interactively or with the following command line:</p>

<blockquote>ccp4i -autotest [-project&nbsp;<em>project_name</em>] [-target&nbsp;<em>target_directory</em>]
[-first&nbsp;<em>first_job</em>] [-last&nbsp;<em>last_job</em>]  [-remote&nbsp;<em>machine_name</em>]
[-exit]</blockquote>

<h4>-<strong>project</strong> <em>project_name</em></h4>

<p>Rerun tasks from the <em>project_name</em> <strong>project</strong>.
<em>project_name</em> must be a project alias defined in the current directories.def.</p>

<h4>-<strong>target</strong> <em>target_directory</em></h4>

<p>Create a new project and project directory called <em>target_directory</em>. If no name is provided,
a name will be constructed from the date (<em>e.g.</em> 10_oct_2000).</p>

<h4>-<strong>first</strong> <em>first_job</em></h4>

<p>Rerun jobs starting at job number <em>first_job</em>.</p>

<h4>-<strong>last</strong> <em>last_job</em></h4>

<p>Rerun jobs finishing at job number <em>last_job</em>.</p>

<h4>-<strong>remote</strong> <em>machine_name</em></h4>

<p>Rerun the jobs on the remote machine <em>machine_name</em> but note that the controlling
CCP4i process will run on the local machine.</p>

<h4>-exit</h4>

<p>Exit the controlling CCP4i process when the tasks are completed.</p>

<h3><a name="file_location"></a>File Location</h3>

<p>When rerunning a test job, CCP4i will:</p>
<ul>
<li>put all output files in the target directory;</li>
<li>look first for an input file in the target directory (it will find files output by preceding job).
If no suitable files are there, it will look in the master project directory.</li>
</ul>

<p>So beware: the order of tasks in the test project may affect the results.</p>

<h3><a name="using_local_directories_def"></a>Using Local <em>directories.def</em></h3>

<p>By default a <em>directories.def</em> file (defining the project names and directories) in the
directory in which the CCP4i process is started, takes precedence over any other <em>directories.def</em>.
This means that a tester should work in a master directory which contains a <em>directories.def</em>
defining the test projects, and the test projects themselves preferably as sub-directories of that master
directory. It is possible to run through several project directories with a controlling script.</p>

<table border="0">
<tr><td>
<a href="../modules/datred.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="preferences.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="../index.html" target="_top">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

</body>
</html>
