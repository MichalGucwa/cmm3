<!doctype html public "-//w3c//dtd html 3.2//en">
<html>
<head>
<title>CCP4 Interface: Creating Maps</title>
<link rel="stylesheet" type="text/css" href="../ccp4idocs.css" title="CCP4i" />
<link rev="made" href="mailto:mgwt@ysbl.york.ac.uk" />
<meta name="GENERATOR" content="Mozilla/3.0Gold (X11; I; IRIX 6.2 IP22) [Netscape]" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="AUTHOR" content="Maria and Liz" />
</head>
<body>

<table border="0">
<tr><td rowspan="2"><img src="../images/weblogo175.gif" alt="CCP4 web logo" /></td>
<td class="logohead">CCP4i: Graphical User Interface</td></tr>
<tr><td class="logotitle">Creating Maps</td></tr>
</table>
<br />
<table border="0">
<tr><td>
<a href="harvesting.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="runjob.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="../index.html" target="_top">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

<dl>
<dt><a href="#output_of_maps">Output of Maps in Graphics Program Format</a></dt>
<dd><a href="#recreating_task_specific_maps">Recreating Task-Specific Maps</a></dd>
<dd><a href="#note_on_implementation">Note on Implementation</a></dd>
</dl>

<h3><a name="output_of_maps"></a>Output of Maps in Graphics Program Format</h3>

<p>This is intended to simplify viewing maps after running CCP4 programs.</p>

<p>Several task interfaces will generate maps: Generate Patterson Maps, Run FFT,
Run DM, Run Solomon, Run Mlphare, Run Refmac and NCS Phased Refinement. By default the map files will be
in CCP4 format but they can be in O, Quanta or XtalView format (the XtalView output
is actually a phases file which is converted to a map within XtalView). In the
Mlphare, DM and Refmac interfaces for O and XtalView formats, a command script is
also generated. This script file has a name <em>project_jobid_task.xtal</em> or
<em>project_jobid_task.mac</em> respectively for XtalView and O scripts. The form of the
script depends on the task: for DM and Solomon the script will display the input
map, the output map and the solvent mask. For Mlphare the script will display the
output map. For Refmac the script will display the weighted difference map and the
weighted map (for O the script contours the weighted map at +2.0 sigma and -2.0 sigma).</p>

<h4><a name="recreating_task_specific_maps"></a>Recreating Task-Specific Maps</h4>

<p>If you need to create the map files after already running the task, you can avoid
rerunning the task by using the <a href="../modules/maputils.html#task_maps"
target="_self"><strong><tt>Create Task-Specific Maps</tt></strong></a>
task in the <strong>Map and Mask Utilities</strong> module.</p>

<h4><a name="note_on_implementation"></a>Note on Implementation</h4>

<p>The conversion of maps to O and Quanta formats relies on using non-CCP4 programs:
MAPMAN and MBKALL respectively. CCP4i must be configured to know where to find these
(see <a href="configure.html#map_format_conversion" target="_PROGRAMMERSDOCS">Configuration</a>).</p>
 
<p>The format of scripts to the graphics programs are liable to change. If the
interface does not generate a script suitable for your version of the graphics program
you might like to look at the code which generates the scripts in
<strong>$CCP4I_top/utils/map_utils.tcl</strong> - the procedures MakeOMapMacro and
MakeXtalMacro. Alternatively, send an example of the required script to the
<a href="mailto:ccp4gui@dl.ac.uk">Interface developers</a>.</p>

<table border="0">
<tr><td>
<a href="harvesting.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="runjob.html" target="_self">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="../index.html" target="_top">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

</body>
</html>
