<!doctype html public "-//w3c//dtd html 3.2//en">
<html>
<head>
<title>CCP4i Documentation for Programmers: ExtractFromText command</title>
<link rel="stylesheet" type="text/css" href="../ccp4idocs.css" title="CCP4i" />
<meta name="GENERATOR" content="Mozilla/3.0Gold (X11; I; IRIX 6.2 IP22) [Netscape]" />
</head>
<body>

<table border="0">
<tr><td rowspan="3" class="logopic"><img src="../images/weblogo175.gif" alt="CCP4 web logo" /></td>
<td class="logohead">CCP4i: Graphical User Interface</td></tr>
<tr><td class="logoprog">Documentation for Programmers</td></tr>
<tr><td class="logotitle">ExtractFromText</td></tr>
</table>
<br />
<table border="0">
<tr><td>
<a href="StringSame.html" target="_INDEXMAIN">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="GetInfo.html" target="_INDEXMAIN">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="progframeset.html" target="_PROGRAMMERSDOCS">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

<h3><a name="name"></a>NAME</h3>

<p>ExtractFromText - Parse text to extract words.</p>

<h3><a name="synopsis"></a>SYNOPSIS</h3>

<p><strong>ExtractFromText</strong> <em>text search_string lineinc word_index</em></p>

<h3><a name="description"></a>DESCRIPTION</h3>

<p>This routine performs the sort of function usually done with <tt>grep</tt> or <tt>awk</tt>. It searches
the text <em>text</em> for a string <em>search_string</em> and then returns some or all of the current or
some following line. If <em>lineinc</em> is 0 then some or all of the current line is returned. If
<em>lineinc</em> is greater than 0 then the lineinc'th following line is returned. If <em>word_index</em>
is 'all' then the entire line is returned, if <em>word_index</em> is 'last' then the last word of the line
is returned. Otherwise <em>word_index</em> should be a list of one or more integers, n1,n2,..etc and the
n1th, n2th <em>etc.</em> words on the line will be returned in the form of a Tcl list. Note that the
numbering of the words on the line starts at 0. The format of <em>word_index</em> must be a Tcl list;
an example of extracting the 2nd and 4th word from a line containing the word 'Input' is shown below.</p>

<p><pre>
set text \
&quot;This is a title
Input    21   25   28
result  3.5  4.2  6.1&quot;

set input [ExtractFromText $text &quot;Input&quot; 0 [list 1 3]
set output [ExtractFromText - &quot;result&quot; 0 [list 1 3]
</pre>

The first call to ExtractFromText will return a value of {21 28}, the second call will return {3.5 6.1}.</p>

<p>When searching for more than one line in the same text, the second call to the ExtractFromText can have
a dash character for the first argument, rather than the full search text, and then the procedure will
continue searching the previously entered text from the line it returned at the last call. Note that it is
not sensible to use this mechanism if you are not sure of the order of the search strings in the text or if
one search string may be absent from the text.</p>

<h3><a name="keywords"></a>KEYWORDS</h3>

</body>
</html>
