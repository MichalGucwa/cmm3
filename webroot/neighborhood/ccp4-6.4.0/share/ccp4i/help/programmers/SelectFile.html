<!doctype html public "-//w3c//dtd html 3.2//en">
<html>
<head>
<title>CCP4i Documentation for Programmers: SelectFile command</title>
<link rel="stylesheet" type="text/css" href="../ccp4idocs.css" title="CCP4i" />
<meta name="GENERATOR" content="Mozilla/3.0Gold (X11; I; IRIX 6.2 IP22) [Netscape]" />
</head>
<body>

<table border="0">
<tr><td rowspan="3" class="logopic"><img src="../images/weblogo175.gif" alt="CCP4 web logo" /></td>
<td class="logohead">CCP4i: Graphical User Interface</td></tr>
<tr><td class="logoprog">Documentation for Programmers</td></tr>
<tr><td class="logotitle">SelectFile</td></tr>
</table>
<br />
<table border="0">
<tr><td>
<a href="TranscribeFile.html" target="_INDEXMAIN">
<img border="0" class="navbutton" src="../images/3Dnexttr.gif" alt="next button" /></a>
<a href="ReadFile.html" target="_INDEXMAIN">
<img border="0" class="navbutton" src="../images/3Dprevtr.gif" alt="previous button" /></a>
<a href="progframeset.html" target="_PROGRAMMERSDOCS">
<img border="0" class="navbutton" src="../images/3Dtoptr.gif" alt="top button" /></a>
</td></tr>
</table>

<h3><a name="name"></a>NAME</h3>

<p>SelectFile - Present user with file selection window.</p>

<h3><a name="synopsis"></a>SYNOPSIS</h3>

<p><strong>SelectFile</strong> <em>fileout </em></p>

<p>Optional Arguments:</p>

<blockquote>
<strong><a href="#title"
target="_self">-title</a></strong> <em>title_text</em><br />

<strong><a href="#unknown"
target="_self">-unknown</a></strong><br />

<strong><a href="#filter"
target="_self">-filter</a></strong> <em>filter</em><br />

<strong><a href="#default"
target="_self">-default</a></strong> <em>filename</em><br />

<strong><a href="#defdir"
target="_self">-defdir</a></strong> <em>directory_alias</em><br />

<strong><a href="#format"
target="_self">-format</a></strong> <em>file_format</em><br />

<strong><a href="#parent"
target="_self">-parent</a></strong> <em>parent_window</em><br />

<strong><a href="#directory"
target="_self">-directory</a></strong><br />

<strong><a href="#custom"
target="_self">-custom</a></strong> <em>custom_params</em> <em>custom_script</em><br />

<strong><a href="#filetype"
target="_self">-filetype</a></strong> <em>...</em><br />

<strong><a href="#view"
target="_self">-view</a></strong><br />

<strong><a href="#return"
target="_self">-return</a></strong> <em>params</em>
</blockquote>

<h3><a name="description"></a>DESCRIPTION</h3>

<p>Present the user with a file selection window and return the selected file as <em>fileout</em>.
Return a value of 1 if a file selection is successful or 0 if the user fails to select a file.
<a name="title"></a>The default title for the file selection window is &quot;File Selection&quot;
but this should be made more specific using the <em>-title</em> argument.
<a name="unknown"></a>SelectFile will expect the user to select an existing file unless the command
<em>-unknown</em> is used to indicate that the name for a new file is expected.
<a name="filter"></a>The <em>-filter</em> argument is usually used with a filter to select all
files of a given extension (<em>e.g.</em> &quot;*.mtz&quot;).</p>

<p>The contents of the file selection window can be initialised. By default the contents of the
current directory (<em>i.e.</em> the directory in which the user started CCP4i) are displayed.
<a name="defdir"></a>The argument <em>-defdir</em> with a <em>directory_alias</em> will start the
file selection window in the directory of the directory_alias. It is also possible to set an initial
default value for the selected file or directory with the <em>default</em> argument and the name of
the file or directory <em>filename</em>.</p>

<p>By default the file selection window does not have any option to view the selected file.
<a name="format"></a>If the <em>-format</em> argument is used with the expected format of the selected
file <em>file_format</em>, then a 'View' button will appear, and if the user clicks on this button they
will get a preview of the file using the <a href="FileViewer.html" target="_INDEXMAIN">FileViewer</a>
appropriate for the file format. The file formats are defined in the $CCP4I_top/ec/types.def file which
is described in more detail here.</p>

<p><a name="parent"></a>The <em>-parent</em> argument is used to input the id of the parent window
<em>parent_window</em> of the file select window. If the user closes the parent window then the file
select window will also be closed.</p>

<h4><a name="additional_arguments"></a>Additional arguments</h4>

<p>There are additional arguments to <em>SelectFile</em> but these are used in very
specific parts of the interface and are unlikely to be generally useful.</p>

<dl>
<dt><a name="directory"></a><em>-directory</em></dt>
<dd><p>Select directories rather than files.</p></dd>

<dt><a name="custom"></a><em>-custom</em> <em>custom_params</em> <em>custom_script</em></dt>
<dd><p><em>custom_params</em> is a Tcl list of
parameter names which will be defined when the file selection window is created.
<em>custom_script</em> is a Tcl script which will be evaluated when the window is
drawn (most probably instructions to add extra lines within the file selection
window). When the user selects okay, the values of the parameters in
<em>custom_params</em> are Tcl list-appended to the selected filename and returned
to the calling procedure.</p></dd>

<dt><a name="filetype"></a><em>-filetype</em> ...</dt>
<dd><p>This option is currently undocumented - please see the SelectFile
source code.</p></dd>

<dt><a name="view"></a><em>-view</em></dt>
<dd><p>The file selection window will include an option to select an
appropriate viewer, which will be used to display the selected file.</p></dd>

<dt><a name="return"></a><em>-return</em> <em>params</em></dt>
<dd><p>Specify a list of values to be returned, in addition to the selected
filename. <em>params</em> is a Tcl list which can consist of any of the
following items: fullpath (append the full path name of the selection),
dir (the directory name of the selection), filename (the filename of the
selection), filetype (the filetype as defined in types.def), defdir (the
directory alias), viewer (the selected viewer, or blank if not applicable),
filter (the filename filter used in the selection).</p></dd>
</dl>

<h3><a name="keywords"></a>KEYWORDS</h3>

</body>
</html>
