
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module ccp4i</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>ccp4i</strong></big></big> (version 1.87)</font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/pjx/BIOXHIT/Bioxhit_db/dbccp4i/dbccp4i/ccp4i.py">/home/pjx/BIOXHIT/Bioxhit_db/dbccp4i/dbccp4i/ccp4i.py</a></font></td></tr></table>
    <p><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(C)&nbsp;2006-2008&nbsp;<br>
#<br>
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;code&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;and&nbsp;conditions&nbsp;of&nbsp;the<br>
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CCP4&nbsp;Program&nbsp;Suite&nbsp;Licence&nbsp;Agreement&nbsp;as&nbsp;a&nbsp;CCP4&nbsp;Library.<br>
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;copy&nbsp;of&nbsp;the&nbsp;CCP4&nbsp;licence&nbsp;can&nbsp;be&nbsp;obtained&nbsp;by&nbsp;writing&nbsp;to&nbsp;the<br>
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CCP4&nbsp;Secretary,&nbsp;Daresbury&nbsp;Laboratory,&nbsp;Warrington&nbsp;WA4&nbsp;4AD,&nbsp;UK.<br>
#<br>
#====================================================================<br>
#<br>
#&nbsp;CCP4&nbsp;Interface&nbsp;-&nbsp;ccp4i.py<br>
#<br>
#&nbsp;Python&nbsp;module&nbsp;providing&nbsp;a&nbsp;class&nbsp;library&nbsp;for&nbsp;emulating&nbsp;the&nbsp;CCP4i<br>
#&nbsp;def&nbsp;file&nbsp;based&nbsp;<a href="#database">database</a>.&nbsp;It&nbsp;also&nbsp;provides&nbsp;classes&nbsp;for&nbsp;dealing&nbsp;with<br>
#&nbsp;the&nbsp;CCP4i&nbsp;"<a href="#directories">directories</a>.def"&nbsp;file&nbsp;and&nbsp;general&nbsp;classes&nbsp;for&nbsp;.def&nbsp;files<br>
#&nbsp;and&nbsp;lockfiles.<br>
#<br>
#&nbsp;Peter&nbsp;Briggs<br>
#<br>
########################################################################</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="copy.html">copy</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
<a href="stat.html">stat</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
<a href="time.html">time</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="ccp4i.html#array">array</a>
</font></dt><dt><font face="helvetica, arial"><a href="ccp4i.html#database">database</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="ccp4i.html#projectDB">projectDB</a>
</font></dt><dt><font face="helvetica, arial"><a href="ccp4i.html#subjobDB">subjobDB</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="ccp4i.html#directories">directories</a>
</font></dt><dt><font face="helvetica, arial"><a href="ccp4i.html#history">history</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="ccp4i.html#extendedhistory">extendedhistory</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="ccp4i.html#lockfile">lockfile</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="ccp4i.html#dblockfile">dblockfile</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="array">class <strong>array</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;<a href="#array">array</a>&nbsp;class.<br>
&nbsp;<br>
The&nbsp;<a href="#array">array</a>&nbsp;class&nbsp;provides&nbsp;functionality&nbsp;for&nbsp;dealing&nbsp;with&nbsp;CCP4i<br>
arrays,&nbsp;which&nbsp;are&nbsp;typically&nbsp;loaded&nbsp;from&nbsp;and&nbsp;save&nbsp;to&nbsp;.def&nbsp;files.<br>
It&nbsp;includes&nbsp;methods&nbsp;for&nbsp;readinng&nbsp;and&nbsp;writing&nbsp;CCP4i&nbsp;.def&nbsp;files,<br>
and&nbsp;allowing&nbsp;manipulation&nbsp;of&nbsp;data&nbsp;inbetween.<br>
&nbsp;<br>
An&nbsp;<a href="#array">array</a>&nbsp;consists&nbsp;of&nbsp;'parameters',&nbsp;which&nbsp;have&nbsp;associated&nbsp;values<br>
and&nbsp;may&nbsp;optionally&nbsp;also&nbsp;have&nbsp;associated&nbsp;types.&nbsp;Parameters&nbsp;can<br>
be&nbsp;either&nbsp;'scalar'&nbsp;(in&nbsp;which&nbsp;case&nbsp;the&nbsp;parameter&nbsp;name&nbsp;is&nbsp;a&nbsp;string<br>
consisting&nbsp;of&nbsp;alphanumeric&nbsp;characters&nbsp;and&nbsp;the&nbsp;underscore)&nbsp;or<br>
'indexed'&nbsp;(in&nbsp;which&nbsp;case&nbsp;the&nbsp;parameter&nbsp;name&nbsp;consists&nbsp;of&nbsp;a&nbsp;string<br>
followed&nbsp;by&nbsp;a&nbsp;comma&nbsp;an&nbsp;then&nbsp;an&nbsp;index&nbsp;component).<br>
&nbsp;<br>
Conventionally&nbsp;parameter&nbsp;names&nbsp;are&nbsp;uppercased.&nbsp;Examples&nbsp;of<br>
scalar&nbsp;parameters&nbsp;include:&nbsp;NRUNS&nbsp;HKLIN1&nbsp;REFINE_MODE.<br>
&nbsp;<br>
Examples&nbsp;of&nbsp;indexed&nbsp;parameters&nbsp;include:&nbsp;RUN,0&nbsp;DERIV,4&nbsp;ATNAM,1_5<br>
The&nbsp;index&nbsp;component&nbsp;consists&nbsp;of&nbsp;either&nbsp;a&nbsp;single&nbsp;integer&nbsp;(single<br>
index),&nbsp;or&nbsp;a&nbsp;pair&nbsp;of&nbsp;integers&nbsp;separated&nbsp;by&nbsp;an&nbsp;underscore&nbsp;(double<br>
index).<br>
&nbsp;<br>
In&nbsp;addition&nbsp;to&nbsp;parameters,&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object&nbsp;also&nbsp;keeps&nbsp;track&nbsp;of<br>
'paramater&nbsp;prototypes'&nbsp;(also&nbsp;just&nbsp;referred&nbsp;to&nbsp;as&nbsp;'prototypes').<br>
For&nbsp;scalar&nbsp;parameters,&nbsp;the&nbsp;prototype&nbsp;has&nbsp;the&nbsp;same&nbsp;name&nbsp;as&nbsp;the<br>
parameter&nbsp;and&nbsp;there&nbsp;is&nbsp;essentially&nbsp;no&nbsp;difference&nbsp;between&nbsp;the&nbsp;two.<br>
&nbsp;<br>
For&nbsp;indexed&nbsp;parameters,&nbsp;the&nbsp;prototype&nbsp;is&nbsp;the&nbsp;zero'th&nbsp;indexed<br>
equivalent.&nbsp;For&nbsp;example:&nbsp;for&nbsp;the&nbsp;parameter&nbsp;DERIV,4&nbsp;the<br>
parameter&nbsp;prototype&nbsp;would&nbsp;be&nbsp;DERIV,0&nbsp;while&nbsp;for&nbsp;ATNAM,1_5&nbsp;it<br>
would&nbsp;be&nbsp;ATNAM,0&nbsp;(NB&nbsp;not&nbsp;ATNAM,0_0).&nbsp;RUN,0&nbsp;is&nbsp;already&nbsp;a<br>
parameter&nbsp;prototype.<br>
&nbsp;<br>
Parameter&nbsp;prototypes&nbsp;are&nbsp;significant&nbsp;for&nbsp;indexed&nbsp;parameters&nbsp;for<br>
two&nbsp;reasons:<br>
1.&nbsp;The&nbsp;type&nbsp;of&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;is&nbsp;attached&nbsp;to&nbsp;the&nbsp;prototype<br>
2.&nbsp;The&nbsp;value&nbsp;attached&nbsp;to&nbsp;the&nbsp;prototype&nbsp;is&nbsp;usually&nbsp;used&nbsp;as&nbsp;a<br>
&nbsp;&nbsp;&nbsp;default&nbsp;value&nbsp;for&nbsp;new&nbsp;indexed&nbsp;parameters&nbsp;based&nbsp;on&nbsp;that<br>
&nbsp;&nbsp;&nbsp;prototype.<br>
&nbsp;<br>
Prototypes&nbsp;are&nbsp;significant&nbsp;for&nbsp;all&nbsp;parameters&nbsp;because&nbsp;only<br>
parameters&nbsp;that&nbsp;have&nbsp;prototypes&nbsp;are&nbsp;written&nbsp;to&nbsp;the&nbsp;output<br>
.def&nbsp;file.<br>
&nbsp;<br>
A&nbsp;set&nbsp;of&nbsp;built-in&nbsp;methods&nbsp;are&nbsp;implemented&nbsp;that&nbsp;allow&nbsp;Python<br>
dictionary-like&nbsp;syntax&nbsp;to&nbsp;be&nbsp;used&nbsp;to&nbsp;get,&nbsp;set&nbsp;and&nbsp;delete<br>
<a href="#array">array</a>&nbsp;elements&nbsp;-&nbsp;specifically:<br>
&nbsp;<br>
value&nbsp;=&nbsp;<a href="#array">array</a>[key]&nbsp;sets&nbsp;value&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;element&nbsp;'key'<br>
<a href="#array">array</a>[key]&nbsp;=&nbsp;value&nbsp;sets&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;element&nbsp;'key'<br>
<a href="#array">array</a>.has_key(key)&nbsp;tests&nbsp;whether&nbsp;the&nbsp;element&nbsp;'key'&nbsp;exists<br>
del&nbsp;<a href="#array">array</a>(key)&nbsp;removes&nbsp;element&nbsp;'key'&nbsp;from&nbsp;the&nbsp;<a href="#array">array</a>.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="array-__contains__"><strong>__contains__</strong></a>(self, key)</dt><dd><tt>Internal:&nbsp;implements&nbsp;'<a href="#array">array</a>.has_key(key)'&nbsp;mechanism.</tt></dd></dl>

<dl><dt><a name="array-__delitem__"><strong>__delitem__</strong></a>(self, key)</dt><dd><tt>Internal:&nbsp;implements&nbsp;'del&nbsp;<a href="#array">array</a>[key]'&nbsp;to&nbsp;delete&nbsp;an&nbsp;item.</tt></dd></dl>

<dl><dt><a name="array-__getitem__"><strong>__getitem__</strong></a>(self, key)</dt><dd><tt>Internal:&nbsp;implements&nbsp;'<a href="#array">array</a>[key]'&nbsp;to&nbsp;return&nbsp;value.</tt></dd></dl>

<dl><dt><a name="array-__init__"><strong>__init__</strong></a>(self, initfile<font color="#909090">=''</font>)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;<a href="#array">array</a>&nbsp;class&nbsp;instance.<br>
&nbsp;<br>
If&nbsp;a&nbsp;.def&nbsp;format&nbsp;file&nbsp;name&nbsp;is&nbsp;supplied&nbsp;via&nbsp;the&nbsp;optional<br>
'initfile'&nbsp;argument&nbsp;then&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object<br>
will&nbsp;be&nbsp;initialised&nbsp;from&nbsp;that&nbsp;file.</tt></dd></dl>

<dl><dt><a name="array-__setitem__"><strong>__setitem__</strong></a>(self, key, value)</dt><dd><tt>Internal:&nbsp;implements&nbsp;'<a href="#array">array</a>[key]&nbsp;=&nbsp;value'&nbsp;to&nbsp;set&nbsp;value.</tt></dd></dl>

<dl><dt><a name="array-addparameter"><strong>addparameter</strong></a>(self, parameter, index<font color="#909090">=''</font>, type<font color="#909090">=''</font>, value<font color="#909090">=''</font>)</dt><dd><tt>Add&nbsp;a&nbsp;new&nbsp;parameter&nbsp;to&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object.<br>
&nbsp;<br>
This&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;add&nbsp;parameters&nbsp;to&nbsp;the&nbsp;<a href="#array">array</a><br>
object.&nbsp;If&nbsp;the&nbsp;parameter&nbsp;doesn't&nbsp;exist&nbsp;then&nbsp;a&nbsp;new&nbsp;entry<br>
will&nbsp;be&nbsp;created&nbsp;to&nbsp;store&nbsp;the&nbsp;specified&nbsp;'value'.<br>
&nbsp;<br>
If&nbsp;'parameter'&nbsp;is&nbsp;a&nbsp;scalar&nbsp;parameter,&nbsp;or&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;zero<br>
indexed&nbsp;parameter&nbsp;(either&nbsp;explicitly,&nbsp;or&nbsp;when&nbsp;'index'&nbsp;is<br>
set&nbsp;to&nbsp;zero),&nbsp;then&nbsp;it&nbsp;will&nbsp;also&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;list&nbsp;of<br>
parameter&nbsp;prototypes&nbsp;(if&nbsp;the&nbsp;prototype&nbsp;doesn't&nbsp;already<br>
exist).&nbsp;The&nbsp;'type'&nbsp;will&nbsp;be&nbsp;associated&nbsp;with&nbsp;the&nbsp;new<br>
prototype&nbsp;definition.<br>
&nbsp;<br>
NB:&nbsp;indexed&nbsp;parameters&nbsp;that&nbsp;are&nbsp;not&nbsp;already&nbsp;parameter<br>
prototypes&nbsp;will&nbsp;NOT&nbsp;have&nbsp;prototypes&nbsp;added&nbsp;for&nbsp;them&nbsp;-&nbsp;this<br>
may&nbsp;be&nbsp;significant&nbsp;if&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object&nbsp;is&nbsp;saved&nbsp;to&nbsp;file,<br>
since&nbsp;by&nbsp;default&nbsp;parameters&nbsp;with&nbsp;no&nbsp;prototype&nbsp;are&nbsp;not<br>
written&nbsp;out.</tt></dd></dl>

<dl><dt><a name="array-delparameter"><strong>delparameter</strong></a>(self, parameter, *indices)</dt><dd><tt>Delete&nbsp;a&nbsp;parameter&nbsp;from&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object.<br>
&nbsp;<br>
'parameter'&nbsp;supplies&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;scalar&nbsp;parameter,&nbsp;or<br>
the&nbsp;root&nbsp;name&nbsp;of&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;(in&nbsp;which&nbsp;case&nbsp;one<br>
or&nbsp;two&nbsp;indices&nbsp;must&nbsp;be&nbsp;specified&nbsp;as&nbsp;separate&nbsp;arguments),<br>
or&nbsp;a&nbsp;complete&nbsp;indexed&nbsp;parameter&nbsp;name.&nbsp;For&nbsp;example:<br>
&nbsp;<br>
<a href="#array-delparameter">delparameter</a>('PARAM')&nbsp;-&nbsp;scalar<br>
&nbsp;<br>
<a href="#array-delparameter">delparameter</a>('PARAM',1)&nbsp;-&nbsp;indexed,&nbsp;one&nbsp;index<br>
<a href="#array-delparameter">delparameter</a>('PARAM,1')&nbsp;-&nbsp;indexed,&nbsp;index&nbsp;in&nbsp;the&nbsp;name<br>
The&nbsp;previous&nbsp;two&nbsp;are&nbsp;equivalent.<br>
&nbsp;<br>
<a href="#array-delparameter">delparameter</a>('PARAM',1,2)&nbsp;-&nbsp;indexed,&nbsp;two&nbsp;indices<br>
<a href="#array-delparameter">delparameter</a>('PARAM,1_2')&nbsp;-&nbsp;indexed,&nbsp;indices&nbsp;in&nbsp;the&nbsp;name<br>
The&nbsp;previous&nbsp;two&nbsp;are&nbsp;equivalent.<br>
&nbsp;<br>
Note&nbsp;however&nbsp;<a href="#array-delparameter">delparameter</a>('PARAM,1',2)&nbsp;is&nbsp;not&nbsp;valid&nbsp;syntax<br>
for&nbsp;this&nbsp;method.<br>
&nbsp;<br>
If&nbsp;successful,&nbsp;removes&nbsp;the&nbsp;parameter&nbsp;from&nbsp;the&nbsp;<a href="#array">array</a>.&nbsp;Note<br>
however&nbsp;that&nbsp;parameter&nbsp;prototypes&nbsp;are&nbsp;not&nbsp;deleted.</tt></dd></dl>

<dl><dt><a name="array-getequivalent"><strong>getequivalent</strong></a>(self, parameter1, parameter2)</dt><dd><tt>Return&nbsp;an&nbsp;equivalently&nbsp;indexed&nbsp;parameter&nbsp;name.<br>
&nbsp;<br>
Given&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;'parameter1',&nbsp;this&nbsp;method&nbsp;returns<br>
the&nbsp;name&nbsp;of&nbsp;a&nbsp;parameter&nbsp;with&nbsp;the&nbsp;same&nbsp;index&nbsp;but&nbsp;based&nbsp;on<br>
'parameter2'.<br>
&nbsp;<br>
For&nbsp;example:&nbsp;if&nbsp;parameter1&nbsp;=&nbsp;'PARAM,3'&nbsp;and&nbsp;parameter2&nbsp;=<br>
'EQUIV'&nbsp;then&nbsp;'EQUIV,2'&nbsp;will&nbsp;be&nbsp;returned&nbsp;(also&nbsp;if&nbsp;parameter2<br>
is&nbsp;'EQUIV,0'&nbsp;etc).</tt></dd></dl>

<dl><dt><a name="array-getheaderdata"><strong>getheaderdata</strong></a>(self, pattern)</dt><dd><tt>#&nbsp;Methods&nbsp;for&nbsp;extracting&nbsp;data&nbsp;from&nbsp;the&nbsp;header</tt></dd></dl>

<dl><dt><a name="array-getvalue"><strong>getvalue</strong></a>(self, parameter, *indices)</dt><dd><tt>Get&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;parameter&nbsp;stored&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>.<br>
&nbsp;<br>
'parameter'&nbsp;supplies&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;scalar&nbsp;parameter,&nbsp;or<br>
the&nbsp;root&nbsp;name&nbsp;of&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;(in&nbsp;which&nbsp;case&nbsp;one<br>
or&nbsp;two&nbsp;indices&nbsp;must&nbsp;be&nbsp;specified&nbsp;as&nbsp;separate&nbsp;arguments),<br>
or&nbsp;a&nbsp;complete&nbsp;indexed&nbsp;parameter&nbsp;name.&nbsp;For&nbsp;example:<br>
&nbsp;<br>
<a href="#array-getvalue">getvalue</a>('PARAM')&nbsp;-&nbsp;scalar<br>
&nbsp;<br>
<a href="#array-getvalue">getvalue</a>('PARAM',1)&nbsp;-&nbsp;indexed,&nbsp;one&nbsp;index<br>
<a href="#array-getvalue">getvalue</a>('PARAM,1')&nbsp;-&nbsp;indexed,&nbsp;index&nbsp;in&nbsp;the&nbsp;name<br>
The&nbsp;previous&nbsp;two&nbsp;are&nbsp;equivalent.<br>
&nbsp;<br>
<a href="#array-getvalue">getvalue</a>('PARAM',1,2)&nbsp;-&nbsp;indexed,&nbsp;two&nbsp;indices<br>
<a href="#array-getvalue">getvalue</a>('PARAM,1_2')&nbsp;-&nbsp;indexed,&nbsp;indices&nbsp;in&nbsp;the&nbsp;name<br>
The&nbsp;previous&nbsp;two&nbsp;are&nbsp;equivalent.<br>
&nbsp;<br>
Note&nbsp;however&nbsp;<a href="#array-getvalue">getvalue</a>('PARAM,1',2)&nbsp;is&nbsp;not&nbsp;valid&nbsp;syntax<br>
for&nbsp;this&nbsp;method.</tt></dd></dl>

<dl><dt><a name="array-has_parameter"><strong>has_parameter</strong></a>(self, parameter, *indices)</dt><dd><tt>Test&nbsp;for&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;parameter&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>.<br>
&nbsp;<br>
'parameter'&nbsp;supplies&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;scalar&nbsp;parameter,&nbsp;or<br>
the&nbsp;root&nbsp;name&nbsp;of&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;(in&nbsp;which&nbsp;case&nbsp;one<br>
or&nbsp;two&nbsp;indices&nbsp;must&nbsp;be&nbsp;specified&nbsp;as&nbsp;separate&nbsp;arguments),<br>
or&nbsp;a&nbsp;complete&nbsp;indexed&nbsp;parameter&nbsp;name.&nbsp;For&nbsp;example:<br>
&nbsp;<br>
<a href="#array-has_parameter">has_parameter</a>('PARAM')&nbsp;-&nbsp;scalar<br>
&nbsp;<br>
<a href="#array-has_parameter">has_parameter</a>('PARAM',1)&nbsp;-&nbsp;indexed,&nbsp;one&nbsp;index<br>
<a href="#array-has_parameter">has_parameter</a>('PARAM,1')&nbsp;-&nbsp;indexed,&nbsp;index&nbsp;in&nbsp;the&nbsp;name<br>
The&nbsp;previous&nbsp;two&nbsp;are&nbsp;equivalent.<br>
&nbsp;<br>
<a href="#array-has_parameter">has_parameter</a>('PARAM',1,2)&nbsp;-&nbsp;indexed,&nbsp;two&nbsp;indices<br>
<a href="#array-has_parameter">has_parameter</a>('PARAM,1_2')&nbsp;-&nbsp;indexed,&nbsp;indices&nbsp;in&nbsp;the&nbsp;name<br>
The&nbsp;previous&nbsp;two&nbsp;are&nbsp;equivalent.<br>
&nbsp;<br>
Note&nbsp;however&nbsp;that&nbsp;<a href="#array-has_parameter">has_parameter</a>('PARAM,1',2)&nbsp;is&nbsp;not&nbsp;valid<br>
syntax&nbsp;for&nbsp;this&nbsp;method.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;parameter&nbsp;is&nbsp;defined&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>,&nbsp;and<br>
False&nbsp;if&nbsp;not.</tt></dd></dl>

<dl><dt><a name="array-incr"><strong>incr</strong></a>(self, parameter, increment<font color="#909090">=1</font>)</dt><dd><tt>Increment&nbsp;or&nbsp;decrement&nbsp;the&nbsp;stored&nbsp;integer&nbsp;value&nbsp;for&nbsp;a&nbsp;parameter.<br>
&nbsp;<br>
The&nbsp;value&nbsp;stored&nbsp;in&nbsp;'parameter'&nbsp;must&nbsp;be&nbsp;an&nbsp;integer&nbsp;value&nbsp;-<br>
the&nbsp;value&nbsp;will&nbsp;be&nbsp;updated&nbsp;by&nbsp;adding&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;'increment'<br>
(which&nbsp;can&nbsp;be&nbsp;either&nbsp;a&nbsp;positive&nbsp;or&nbsp;negative&nbsp;integer)&nbsp;to&nbsp;its<br>
initial&nbsp;value.&nbsp;If&nbsp;no&nbsp;value&nbsp;is&nbsp;specified&nbsp;for&nbsp;'increment'&nbsp;then<br>
the&nbsp;value&nbsp;is&nbsp;increased&nbsp;by&nbsp;one.</tt></dd></dl>

<dl><dt><a name="array-isparameter"><strong>isparameter</strong></a>(self, parameter)</dt><dd><tt>Check&nbsp;whether&nbsp;the&nbsp;parameter&nbsp;has&nbsp;a&nbsp;prototyped&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;parameter&nbsp;is&nbsp;also&nbsp;represented&nbsp;by&nbsp;an<br>
appropriate&nbsp;parameter&nbsp;prototype&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>.&nbsp;For&nbsp;scalar<br>
parameters&nbsp;this&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;parameter&nbsp;name,&nbsp;while&nbsp;for<br>
indexed&nbsp;parameters&nbsp;this&nbsp;is&nbsp;the&nbsp;zero-th&nbsp;indexed&nbsp;equivalent.<br>
&nbsp;<br>
The&nbsp;'parameter'&nbsp;must&nbsp;include&nbsp;any&nbsp;indices&nbsp;associated&nbsp;with&nbsp;the<br>
parameter&nbsp;name&nbsp;being&nbsp;checked.<br>
&nbsp;<br>
If&nbsp;not&nbsp;prototype&nbsp;exists&nbsp;then&nbsp;returns&nbsp;False.</tt></dd></dl>

<dl><dt><a name="array-listindexed"><strong>listindexed</strong></a>(self, parameter, include_prototype<font color="#909090">=False</font>)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;parameters&nbsp;that&nbsp;share&nbsp;the&nbsp;same&nbsp;prototype.<br>
&nbsp;<br>
Given&nbsp;the&nbsp;name&nbsp;of&nbsp;parameter,&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list&nbsp;of<br>
all&nbsp;the&nbsp;parameters&nbsp;which&nbsp;share&nbsp;the&nbsp;same&nbsp;prototype.&nbsp;The<br>
'parameter'&nbsp;argument&nbsp;must&nbsp;include&nbsp;any&nbsp;indices&nbsp;(for&nbsp;example<br>
'PARAM,1'&nbsp;or&nbsp;'PARAM,1_2').<br>
&nbsp;<br>
By&nbsp;default&nbsp;the&nbsp;list&nbsp;that&nbsp;is&nbsp;returned&nbsp;won't&nbsp;include&nbsp;the<br>
actual&nbsp;parameter&nbsp;prototype&nbsp;-&nbsp;set&nbsp;the&nbsp;'include_prototype'<br>
argument&nbsp;to&nbsp;True&nbsp;to&nbsp;include&nbsp;the&nbsp;prototype&nbsp;parameter&nbsp;in&nbsp;the<br>
list.</tt></dd></dl>

<dl><dt><a name="array-parameter_index"><strong>parameter_index</strong></a>(self, parameter)</dt><dd><tt>Return&nbsp;the&nbsp;index&nbsp;part&nbsp;of&nbsp;a&nbsp;parameter&nbsp;name.<br>
&nbsp;<br>
If&nbsp;'parameter'&nbsp;is&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;then&nbsp;return&nbsp;the<br>
index&nbsp;part,&nbsp;otherwise&nbsp;return&nbsp;an&nbsp;empty&nbsp;string.<br>
&nbsp;<br>
Wraps&nbsp;the&nbsp;internal&nbsp;__parameter_index&nbsp;method.</tt></dd></dl>

<dl><dt><a name="array-parameter_isindexed"><strong>parameter_isindexed</strong></a>(self, parameter)</dt><dd><tt>Determine&nbsp;if&nbsp;a&nbsp;parameter&nbsp;is&nbsp;indexed.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;'parameter'&nbsp;is&nbsp;an&nbsp;indexed&nbsp;parameter,<br>
False&nbsp;if&nbsp;not.<br>
&nbsp;<br>
Wraps&nbsp;the&nbsp;internal&nbsp;__parameter_isindexed&nbsp;method.</tt></dd></dl>

<dl><dt><a name="array-parameter_root"><strong>parameter_root</strong></a>(self, parameter)</dt><dd><tt>Return&nbsp;parameter&nbsp;name&nbsp;stripped&nbsp;of&nbsp;any&nbsp;index.<br>
&nbsp;<br>
If&nbsp;'parameter'&nbsp;is&nbsp;indexed&nbsp;then&nbsp;return&nbsp;the&nbsp;leading&nbsp;part<br>
of&nbsp;the&nbsp;parameter&nbsp;name&nbsp;with&nbsp;the&nbsp;index&nbsp;removed;&nbsp;otherwise<br>
return&nbsp;the&nbsp;parameter&nbsp;name&nbsp;as&nbsp;supplied.<br>
&nbsp;<br>
Wraps&nbsp;the&nbsp;internal&nbsp;__parameter_root&nbsp;method.</tt></dd></dl>

<dl><dt><a name="array-parameters"><strong>parameters</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;parameter&nbsp;prototypes&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>.</tt></dd></dl>

<dl><dt><a name="array-read"><strong>read</strong></a>(self, filename)</dt><dd><tt>Reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;def-format&nbsp;file&nbsp;into&nbsp;the&nbsp;<a href="#array">array</a>.<br>
&nbsp;<br>
The&nbsp;file&nbsp;format&nbsp;can&nbsp;be&nbsp;either&nbsp;key-value&nbsp;pairs,&nbsp;or<br>
key-type-value&nbsp;triplets.&nbsp;If&nbsp;a&nbsp;value&nbsp;in&nbsp;the&nbsp;file&nbsp;is&nbsp;of&nbsp;the<br>
form&nbsp;'\$name'&nbsp;then&nbsp;'name'&nbsp;is&nbsp;assumed&nbsp;to&nbsp;be&nbsp;an&nbsp;environment<br>
variable&nbsp;which&nbsp;is&nbsp;substituted&nbsp;via&nbsp;a&nbsp;call&nbsp;to&nbsp;the&nbsp;GetEnvVar<br>
function.</tt></dd></dl>

<dl><dt><a name="array-replacevalue"><strong>replacevalue</strong></a>(self, parameter, *indices)</dt><dd><tt>Copy&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;to&nbsp;another&nbsp;location.<br>
&nbsp;<br>
This&nbsp;method&nbsp;replaces&nbsp;the&nbsp;value&nbsp;stored&nbsp;at&nbsp;one&nbsp;position&nbsp;in&nbsp;an<br>
indexed&nbsp;parameter&nbsp;by&nbsp;the&nbsp;value&nbsp;stored&nbsp;at&nbsp;another&nbsp;position<br>
of&nbsp;the&nbsp;same&nbsp;parameter,&nbsp;then&nbsp;delete&nbsp;the&nbsp;parameter&nbsp;that&nbsp;was<br>
copied.<br>
&nbsp;<br>
'parameter'&nbsp;is&nbsp;the&nbsp;root&nbsp;name&nbsp;of&nbsp;the&nbsp;parameter&nbsp;in&nbsp;question,<br>
and&nbsp;the&nbsp;remaining&nbsp;arguments&nbsp;are&nbsp;either&nbsp;2&nbsp;or&nbsp;4&nbsp;numbers<br>
indicating&nbsp;the&nbsp;target&nbsp;and&nbsp;source&nbsp;indices.<br>
&nbsp;<br>
For&nbsp;example:<br>
&nbsp;<br>
<a href="#array-replacevalue">replacevalue</a>('PARAM',n,m)&nbsp;copies&nbsp;the&nbsp;value&nbsp;of&nbsp;PARAM,m&nbsp;to<br>
PARAM,n&nbsp;and&nbsp;deletes&nbsp;PARAM,m<br>
&nbsp;<br>
<a href="#array-replacevalue">replacevalue</a>('PARAM',x,y,p,q)&nbsp;copies&nbsp;the&nbsp;value&nbsp;of&nbsp;PARAM,p,q<br>
to&nbsp;PARAM,x,y&nbsp;and&nbsp;deletes&nbsp;PARAM,p,q.<br>
&nbsp;<br>
This&nbsp;is&nbsp;useful&nbsp;when&nbsp;deleting&nbsp;a&nbsp;value&nbsp;from&nbsp;a&nbsp;list&nbsp;and&nbsp;copying<br>
the&nbsp;last&nbsp;item&nbsp;to&nbsp;a&nbsp;new&nbsp;position&nbsp;to&nbsp;replace&nbsp;the&nbsp;deleted<br>
value.</tt></dd></dl>

<dl><dt><a name="array-setvalue"><strong>setvalue</strong></a>(self, parameter, *indices)</dt><dd><tt>Assign&nbsp;a&nbsp;value&nbsp;toGet&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;parameter&nbsp;stored&nbsp;in&nbsp;the&nbsp;<a href="#array">array</a>.<br>
&nbsp;<br>
'parameter'&nbsp;supplies&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;scalar&nbsp;parameter,&nbsp;or<br>
the&nbsp;root&nbsp;name&nbsp;of&nbsp;an&nbsp;indexed&nbsp;parameter&nbsp;(in&nbsp;which&nbsp;case&nbsp;one<br>
or&nbsp;two&nbsp;indices&nbsp;must&nbsp;be&nbsp;specified&nbsp;as&nbsp;separate&nbsp;arguments),<br>
or&nbsp;a&nbsp;complete&nbsp;indexed&nbsp;parameter&nbsp;name.<br>
&nbsp;<br>
The&nbsp;last&nbsp;argument&nbsp;in&nbsp;'indices'&nbsp;must&nbsp;always&nbsp;be&nbsp;the&nbsp;value&nbsp;to<br>
be&nbsp;assigned.&nbsp;For&nbsp;an&nbsp;indexed&nbsp;parameter,&nbsp;if&nbsp;this&nbsp;is&nbsp;'None'&nbsp;then<br>
the&nbsp;default&nbsp;value&nbsp;assigned&nbsp;to&nbsp;the&nbsp;parameter&nbsp;prototype&nbsp;will&nbsp;be<br>
assigned.<br>
&nbsp;<br>
For&nbsp;example:<br>
&nbsp;<br>
<a href="#array-setvalue">setvalue</a>('PARAM','My&nbsp;value')&nbsp;-&nbsp;set&nbsp;scalar&nbsp;to&nbsp;'My&nbsp;value'<br>
&nbsp;<br>
<a href="#array-setvalue">setvalue</a>('PARAM',1,'My&nbsp;value')&nbsp;-&nbsp;set&nbsp;single-indexed&nbsp;to&nbsp;'My&nbsp;value'<br>
<a href="#array-setvalue">setvalue</a>('PARAM,1',.My&nbsp;value')&nbsp;-&nbsp;equivalent&nbsp;to&nbsp;above<br>
&nbsp;<br>
<a href="#array-setvalue">setvalue</a>('PARAM',1,2,'My&nbsp;value')&nbsp;-&nbsp;set&nbsp;double-indexed&nbsp;parameter<br>
<a href="#array-setvalue">setvalue</a>('PARAM,1_2','My&nbsp;value')&nbsp;-&nbsp;equivalent&nbsp;to&nbsp;above<br>
&nbsp;<br>
<a href="#array-setvalue">setvalue</a>('PARAM,1',None)&nbsp;-&nbsp;set&nbsp;parameter&nbsp;to&nbsp;same&nbsp;value&nbsp;as<br>
&nbsp;<br>
Note&nbsp;however&nbsp;<a href="#array-setvalue">setvalue</a>('PARAM,1',2,'My&nbsp;value')&nbsp;is&nbsp;not&nbsp;valid<br>
syntax&nbsp;for&nbsp;this&nbsp;method.<br>
&nbsp;<br>
If&nbsp;the&nbsp;parameter&nbsp;did&nbsp;not&nbsp;already&nbsp;exist&nbsp;then&nbsp;setting&nbsp;its&nbsp;value<br>
using&nbsp;this&nbsp;method&nbsp;automatically&nbsp;creates&nbsp;it.</tt></dd></dl>

<dl><dt><a name="array-typeof"><strong>typeof</strong></a>(self, parameter)</dt><dd><tt>Return&nbsp;the&nbsp;type&nbsp;for&nbsp;a&nbsp;particular&nbsp;parameter.<br>
&nbsp;<br>
The&nbsp;'parameter'&nbsp;must&nbsp;include&nbsp;any&nbsp;indices&nbsp;associated&nbsp;with&nbsp;the<br>
parameter&nbsp;name&nbsp;being&nbsp;checked.<br>
&nbsp;<br>
If&nbsp;there&nbsp;is&nbsp;no&nbsp;type&nbsp;associated&nbsp;with&nbsp;the&nbsp;prototype&nbsp;for&nbsp;the<br>
specified&nbsp;'parameter'&nbsp;argument&nbsp;then&nbsp;an&nbsp;empty&nbsp;string&nbsp;is<br>
returned.</tt></dd></dl>

<dl><dt><a name="array-write"><strong>write</strong></a>(self, filename, application<font color="#909090">=''</font>, version<font color="#909090">=''</font>, defname<font color="#909090">=''</font>, user<font color="#909090">=''</font>, project<font color="#909090">=''</font>, include_types<font color="#909090">=False</font>, include_prototypes<font color="#909090">=False</font>, include_nonprototyped<font color="#909090">=False</font>)</dt><dd><tt>Write&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object&nbsp;to&nbsp;a&nbsp;def&nbsp;file.<br>
&nbsp;<br>
Optionally&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;can&nbsp;be&nbsp;provided&nbsp;which&nbsp;will&nbsp;be<br>
written&nbsp;into&nbsp;the&nbsp;header&nbsp;lines&nbsp;of&nbsp;the&nbsp;def&nbsp;file,&nbsp;specifically:<br>
&nbsp;<br>
'application'&nbsp;and&nbsp;'version'&nbsp;specify&nbsp;a&nbsp;name&nbsp;and&nbsp;version&nbsp;number<br>
for&nbsp;the&nbsp;application&nbsp;writing&nbsp;the&nbsp;file,&nbsp;i.e.:<br>
#CCP4I&nbsp;VERSION&nbsp;&lt;application&gt;&nbsp;&lt;version&gt;<br>
The&nbsp;application&nbsp;name&nbsp;defaults&nbsp;to&nbsp;'CCP4iPy'&nbsp;if&nbsp;none&nbsp;is&nbsp;supplied.<br>
&nbsp;<br>
'defname'&nbsp;specifies&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file,&nbsp;i.e.:<br>
#CCP4I&nbsp;SCRIPT&nbsp;DEF&nbsp;&lt;defname&gt;<br>
If&nbsp;defname&nbsp;is&nbsp;not&nbsp;supplied&nbsp;then&nbsp;it&nbsp;defaults&nbsp;to&nbsp;the&nbsp;basename<br>
of&nbsp;the&nbsp;file&nbsp;being&nbsp;written&nbsp;out.<br>
&nbsp;<br>
'user'&nbsp;is&nbsp;the&nbsp;user&nbsp;name,&nbsp;i.e.:<br>
#CCP4I&nbsp;USER&nbsp;&lt;user&gt;<br>
If&nbsp;this&nbsp;is&nbsp;not&nbsp;supplied&nbsp;then&nbsp;it&nbsp;defaults&nbsp;to&nbsp;the&nbsp;value&nbsp;returned<br>
by&nbsp;the&nbsp;GetUserId&nbsp;function.<br>
&nbsp;<br>
'project'&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;CCP4&nbsp;project,&nbsp;i.e.:<br>
#CCP4I&nbsp;PROJECT&nbsp;&lt;project&gt;<br>
If&nbsp;this&nbsp;is&nbsp;not&nbsp;supplied&nbsp;then&nbsp;this&nbsp;header&nbsp;line&nbsp;will&nbsp;not&nbsp;appear.<br>
&nbsp;<br>
Additionally,&nbsp;writing&nbsp;the&nbsp;actual&nbsp;parameters&nbsp;to&nbsp;the&nbsp;file&nbsp;are<br>
affected&nbsp;by&nbsp;a&nbsp;number&nbsp;of&nbsp;optional&nbsp;'include_...'&nbsp;arguments:<br>
&nbsp;<br>
include_types:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;True&nbsp;then&nbsp;the&nbsp;type&nbsp;information&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;be&nbsp;written&nbsp;to&nbsp;the&nbsp;file;&nbsp;by&nbsp;default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;information&nbsp;is&nbsp;not&nbsp;written.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
include_prototypes:&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;True&nbsp;then&nbsp;the&nbsp;parameter&nbsp;prototypes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;indexed&nbsp;parameters&nbsp;(i.e.&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0th-indexed&nbsp;parameters)&nbsp;will&nbsp;also&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;written;&nbsp;by&nbsp;default&nbsp;the&nbsp;prototypes&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexed&nbsp;parameters&nbsp;are&nbsp;not&nbsp;written.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
include_nonprototyped:&nbsp;if&nbsp;True&nbsp;then&nbsp;all&nbsp;stored&nbsp;parameters&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;written;&nbsp;by&nbsp;default&nbsp;only&nbsp;parameters<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;prototypes&nbsp;are&nbsp;written&nbsp;out.</tt></dd></dl>

<dl><dt><a name="array-writeparameter"><strong>writeparameter</strong></a>(self, parameter, f, include_types<font color="#909090">=False</font>)</dt><dd><tt>Write&nbsp;an&nbsp;<a href="#array">array</a>&nbsp;parameter&nbsp;to&nbsp;a&nbsp;def&nbsp;file.<br>
&nbsp;<br>
The&nbsp;calling&nbsp;function&nbsp;must&nbsp;supply&nbsp;the&nbsp;complete&nbsp;parameter&nbsp;name&nbsp;(i.e.<br>
including&nbsp;index,&nbsp;if&nbsp;appropriate)&nbsp;and&nbsp;an&nbsp;initialised&nbsp;file&nbsp;object&nbsp;f.<br>
If&nbsp;include_types&nbsp;is&nbsp;True&nbsp;then&nbsp;the&nbsp;parameter&nbsp;type&nbsp;is&nbsp;also&nbsp;written.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="database">class <strong>database</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;def&nbsp;file&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;class.<br>
&nbsp;<br>
Creates&nbsp;an&nbsp;instance&nbsp;of&nbsp;a&nbsp;CCP4i&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;associated<br>
with&nbsp;a&nbsp;particular&nbsp;project&nbsp;name&nbsp;and&nbsp;a&nbsp;project&nbsp;directory.&nbsp;If&nbsp;the<br>
project&nbsp;doesn't&nbsp;exist&nbsp;then&nbsp;the&nbsp;create&nbsp;method&nbsp;must&nbsp;be&nbsp;used&nbsp;to&nbsp;make<br>
a&nbsp;new&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file;&nbsp;use&nbsp;the&nbsp;open&nbsp;method&nbsp;to&nbsp;load<br>
data&nbsp;from&nbsp;an&nbsp;existing&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
To&nbsp;ensure&nbsp;that&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;reflects&nbsp;the&nbsp;actual<br>
state&nbsp;of&nbsp;the&nbsp;persistent&nbsp;storage,&nbsp;checks&nbsp;are&nbsp;made&nbsp;before&nbsp;read&nbsp;and<br>
write&nbsp;operations&nbsp;to&nbsp;see&nbsp;whether&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;still&nbsp;holds&nbsp;the<br>
lock&nbsp;on&nbsp;the&nbsp;resource&nbsp;and&nbsp;that&nbsp;it&nbsp;has&nbsp;not&nbsp;been&nbsp;modified&nbsp;by&nbsp;some<br>
other&nbsp;process&nbsp;since&nbsp;the&nbsp;last&nbsp;save.<br>
&nbsp;<br>
Since&nbsp;these&nbsp;checks&nbsp;involve&nbsp;file&nbsp;operations&nbsp;which&nbsp;may&nbsp;be&nbsp;expensive<br>
(in&nbsp;terms&nbsp;of&nbsp;timing),&nbsp;the&nbsp;'interval'&nbsp;parameter&nbsp;can&nbsp;be&nbsp;used&nbsp;to<br>
specify&nbsp;the&nbsp;length&nbsp;of&nbsp;time&nbsp;in&nbsp;seconds&nbsp;for&nbsp;which&nbsp;the&nbsp;results&nbsp;of&nbsp;a<br>
check&nbsp;are&nbsp;held&nbsp;to&nbsp;be&nbsp;valid.&nbsp;An&nbsp;interval&nbsp;of&nbsp;zero&nbsp;means&nbsp;that&nbsp;the&nbsp;checks<br>
are&nbsp;made&nbsp;every&nbsp;time&nbsp;an&nbsp;operation&nbsp;is&nbsp;performed;&nbsp;a&nbsp;longer&nbsp;interval<br>
reduces&nbsp;the&nbsp;number&nbsp;of&nbsp;checks&nbsp;that&nbsp;are&nbsp;made,&nbsp;which&nbsp;should&nbsp;improve<br>
efficiency&nbsp;at&nbsp;the&nbsp;expense&nbsp;of&nbsp;leaving&nbsp;a&nbsp;longer&nbsp;window&nbsp;of&nbsp;opportunity<br>
for&nbsp;the&nbsp;resource&nbsp;to&nbsp;come&nbsp;out&nbsp;of&nbsp;synch&nbsp;with&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="database-__del__"><strong>__del__</strong></a>(self)</dt><dd><tt>del(project)<br>
&nbsp;<br>
Saves&nbsp;data,&nbsp;releases&nbsp;lock&nbsp;and&nbsp;deletes&nbsp;the&nbsp;object.</tt></dd></dl>

<dl><dt><a name="database-__init__"><strong>__init__</strong></a>(self, project, directory, dbdir<font color="#909090">=''</font>, template<font color="#909090">=''</font>, interval<font color="#909090">=0</font>)</dt><dd><tt>Internal:&nbsp;initialise&nbsp;a&nbsp;new&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;object.<br>
&nbsp;<br>
The&nbsp;name&nbsp;of&nbsp;the&nbsp;project&nbsp;and&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;corresponding<br>
project&nbsp;directory&nbsp;must&nbsp;be&nbsp;supplied.<br>
&nbsp;<br>
Optionally&nbsp;a&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;can&nbsp;be&nbsp;specified&nbsp;using&nbsp;the<br>
'dbdir'&nbsp;argument&nbsp;-&nbsp;this&nbsp;specifies&nbsp;where&nbsp;the&nbsp;object&nbsp;will&nbsp;look<br>
for&nbsp;or&nbsp;write&nbsp;the&nbsp;persistent&nbsp;storage.<br>
&nbsp;<br>
By&nbsp;default&nbsp;the&nbsp;data&nbsp;items&nbsp;in&nbsp;the&nbsp;file&nbsp;are&nbsp;taken&nbsp;from&nbsp;the<br>
'template'&nbsp;def&nbsp;file&nbsp;in&nbsp;$CCP4/ccp4i/etc;&nbsp;this&nbsp;can&nbsp;be&nbsp;over-ridden<br>
by&nbsp;specifying&nbsp;a&nbsp;template&nbsp;def&nbsp;file&nbsp;via&nbsp;the&nbsp;optional&nbsp;'template'<br>
argument.<br>
No&nbsp;data&nbsp;is&nbsp;loaded&nbsp;until&nbsp;either&nbsp;the&nbsp;open&nbsp;or&nbsp;create&nbsp;methods<br>
are&nbsp;invoked.</tt></dd></dl>

<dl><dt><a name="database-__len__"><strong>__len__</strong></a>(self)</dt><dd><tt>len(project)<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;jobs&nbsp;stored&nbsp;in&nbsp;the&nbsp;project,&nbsp;or<br>
zero&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="database-__nonzero__"><strong>__nonzero__</strong></a>(self)</dt><dd><tt>Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;loaded,&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="database-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;project&nbsp;name.</tt></dd></dl>

<dl><dt><a name="database-addfile"><strong>addfile</strong></a>(self, job, ftype, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;should&nbsp;be&nbsp;associated&nbsp;as&nbsp;an&nbsp;'input'&nbsp;or<br>
'output'&nbsp;file.<br>
&nbsp;<br>
'filename'&nbsp;specifies&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;to&nbsp;be&nbsp;added<br>
to&nbsp;the&nbsp;can&nbsp;be&nbsp;either&nbsp;a&nbsp;full&nbsp;path&nbsp;or&nbsp;a&nbsp;relative&nbsp;path,<br>
and&nbsp;'alias'&nbsp;specifies&nbsp;a&nbsp;project&nbsp;alias&nbsp;to&nbsp;be&nbsp;associated<br>
with&nbsp;the&nbsp;file.&nbsp;The&nbsp;alias&nbsp;is&nbsp;only&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;in&nbsp;the&nbsp;filename,&nbsp;and&nbsp;is&nbsp;ignored&nbsp;if&nbsp;a<br>
full&nbsp;path&nbsp;is&nbsp;supplied&nbsp;for&nbsp;the&nbsp;file&nbsp;being&nbsp;added.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.&nbsp;Note&nbsp;that&nbsp;if&nbsp;the&nbsp;file&nbsp;name<br>
already&nbsp;appears&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;then&nbsp;this&nbsp;is<br>
not&nbsp;an&nbsp;error.</tt></dd></dl>

<dl><dt><a name="database-addinputfile"><strong>addinputfile</strong></a>(self, job, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;function&nbsp;wraps&nbsp;the&nbsp;addfile&nbsp;method:&nbsp;'job'&nbsp;is&nbsp;a<br>
job&nbsp;number,&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;'filename'<br>
is&nbsp;an&nbsp;absolute&nbsp;or&nbsp;relative&nbsp;path,&nbsp;and&nbsp;'alias'&nbsp;is&nbsp;an<br>
optional&nbsp;project&nbsp;name&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;ignored.<br>
&nbsp;<br>
The&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="database-addoutputfile"><strong>addoutputfile</strong></a>(self, job, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;function&nbsp;wraps&nbsp;the&nbsp;addfile&nbsp;method:&nbsp;'job'&nbsp;is&nbsp;a<br>
job&nbsp;number,&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;'filename'<br>
is&nbsp;an&nbsp;absolute&nbsp;or&nbsp;relative&nbsp;path,&nbsp;and&nbsp;'alias'&nbsp;is&nbsp;an<br>
optional&nbsp;project&nbsp;name&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;ignored.<br>
&nbsp;<br>
The&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="database-auto_refresh"><strong>auto_refresh</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
The&nbsp;'auto_refresh'&nbsp;feature&nbsp;means&nbsp;that&nbsp;read&nbsp;attempts&nbsp;on&nbsp;a<br>
'stale'&nbsp;<a href="#database">database</a>&nbsp;automatically&nbsp;cause&nbsp;the&nbsp;data&nbsp;to&nbsp;be<br>
refreshed&nbsp;from&nbsp;file&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;See&nbsp;the<br>
set_auto_refresh&nbsp;method&nbsp;for&nbsp;more&nbsp;information.</tt></dd></dl>

<dl><dt><a name="database-close"><strong>close</strong></a>(self)</dt><dd><tt>Close&nbsp;an&nbsp;open&nbsp;project.<br>
&nbsp;<br>
This&nbsp;saves&nbsp;any&nbsp;unsaved&nbsp;data&nbsp;to&nbsp;file,&nbsp;releases&nbsp;the&nbsp;lock&nbsp;on&nbsp;the<br>
<a href="#database">database</a>.def&nbsp;file,&nbsp;and&nbsp;clears&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;project&nbsp;object,<br>
returning&nbsp;True&nbsp;on&nbsp;success.<br>
The&nbsp;project&nbsp;must&nbsp;have&nbsp;first&nbsp;been&nbsp;loaded&nbsp;via&nbsp;an&nbsp;open&nbsp;or&nbsp;create<br>
operation,&nbsp;otherwise&nbsp;False&nbsp;is&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="database-create"><strong>create</strong></a>(self)</dt><dd><tt>Make&nbsp;a&nbsp;new&nbsp;project.<br>
&nbsp;<br>
Creating&nbsp;a&nbsp;new&nbsp;project&nbsp;includes&nbsp;creating&nbsp;the&nbsp;project&nbsp;directory<br>
(if&nbsp;it&nbsp;doesn't&nbsp;already&nbsp;exist),&nbsp;and&nbsp;creating&nbsp;the&nbsp;<a href="#database">database</a><br>
subdirectory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file.&nbsp;The&nbsp;project&nbsp;is&nbsp;then&nbsp;opened<br>
and&nbsp;the&nbsp;project&nbsp;object&nbsp;is&nbsp;returned.<br>
The&nbsp;create&nbsp;operation&nbsp;will&nbsp;fail&nbsp;(returning&nbsp;False)&nbsp;if&nbsp;the&nbsp;project<br>
already&nbsp;exists.</tt></dd></dl>

<dl><dt><a name="database-deletejob"><strong>deletejob</strong></a>(self, job)</dt><dd><tt>Remove&nbsp;an&nbsp;existing&nbsp;job&nbsp;record&nbsp;from&nbsp;the&nbsp;project.<br>
&nbsp;<br>
The&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;number&nbsp;will&nbsp;be&nbsp;removed&nbsp;from&nbsp;the<br>
project,&nbsp;also&nbsp;removing&nbsp;all&nbsp;associated&nbsp;data,&nbsp;returning&nbsp;True&nbsp;on<br>
success.&nbsp;The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;is&nbsp;not&nbsp;loaded,<br>
if&nbsp;the&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file,&nbsp;or<br>
if&nbsp;a&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;number&nbsp;is&nbsp;not&nbsp;found.</tt></dd></dl>

<dl><dt><a name="database-describe"><strong>describe</strong></a>(self, joblist, itemlist, formatlist)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;formatted&nbsp;strings&nbsp;populated&nbsp;with&nbsp;job&nbsp;data.<br>
&nbsp;<br>
For&nbsp;each&nbsp;job&nbsp;id&nbsp;number&nbsp;in&nbsp;the&nbsp;joblist,&nbsp;the&nbsp;describe&nbsp;method<br>
retrieves&nbsp;the&nbsp;values&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;in&nbsp;the&nbsp;itemlist<br>
and&nbsp;creates&nbsp;a&nbsp;description&nbsp;string&nbsp;by&nbsp;placing&nbsp;those&nbsp;values&nbsp;into<br>
fields&nbsp;with&nbsp;character&nbsp;widths&nbsp;supplied&nbsp;in&nbsp;the&nbsp;formatlist.<br>
It&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;these&nbsp;strings,&nbsp;with&nbsp;one&nbsp;list&nbsp;item&nbsp;per&nbsp;job.<br>
Allowed&nbsp;data&nbsp;items&nbsp;can&nbsp;be&nbsp;any&nbsp;stored&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a><br>
plus&nbsp;JOB_ID&nbsp;(the&nbsp;id&nbsp;number&nbsp;of&nbsp;the&nbsp;job),&nbsp;which&nbsp;is&nbsp;an&nbsp;implicit<br>
data&nbsp;item.</tt></dd></dl>

<dl><dt><a name="database-describejob"><strong>describejob</strong></a>(self, job, itemlist, formatlist)</dt><dd><tt>Return&nbsp;a&nbsp;formatted&nbsp;string&nbsp;populated&nbsp;with&nbsp;job&nbsp;data.<br>
&nbsp;<br>
For&nbsp;the&nbsp;specified&nbsp;job&nbsp;id&nbsp;number,&nbsp;the&nbsp;describejob&nbsp;method<br>
retrieves&nbsp;the&nbsp;values&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;in&nbsp;the&nbsp;itemlist<br>
and&nbsp;creates&nbsp;a&nbsp;description&nbsp;string&nbsp;by&nbsp;placing&nbsp;those&nbsp;values&nbsp;into<br>
fields&nbsp;with&nbsp;character&nbsp;widths&nbsp;supplied&nbsp;in&nbsp;the&nbsp;formatlist.<br>
Allowed&nbsp;data&nbsp;items&nbsp;can&nbsp;be&nbsp;any&nbsp;stored&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a><br>
plus&nbsp;JOB_ID&nbsp;(the&nbsp;id&nbsp;number&nbsp;of&nbsp;the&nbsp;job),&nbsp;which&nbsp;is&nbsp;an&nbsp;implicit<br>
data&nbsp;item.</tt></dd></dl>

<dl><dt><a name="database-exists"><strong>exists</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;the&nbsp;project&nbsp;exists.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;directory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;both<br>
exist,&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="database-getDbFile"><strong>getDbFile</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;for&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="database-getDbItems"><strong>getDbItems</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;stored&nbsp;for&nbsp;all&nbsp;jobs.</tt></dd></dl>

<dl><dt><a name="database-getDbdir"><strong>getDbdir</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;of&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="database-getProjectname"><strong>getProjectname</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="database-getdata"><strong>getdata</strong></a>(self, job, item)</dt><dd><tt>Retrieve&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;stored&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;If&nbsp;the&nbsp;job&nbsp;doesn't<br>
exist,&nbsp;or&nbsp;if&nbsp;the&nbsp;item&nbsp;is&nbsp;otherwise&nbsp;inaccessible&nbsp;as<br>
indicated&nbsp;by&nbsp;a&nbsp;call&nbsp;to&nbsp;the&nbsp;itemexists&nbsp;method,&nbsp;then&nbsp;the<br>
operation&nbsp;raises&nbsp;an&nbsp;IndexError&nbsp;exception.<br>
&nbsp;<br>
Otherwise,&nbsp;the&nbsp;specific&nbsp;value&nbsp;of&nbsp;the&nbsp;data&nbsp;item&nbsp;for&nbsp;the<br>
specified&nbsp;job&nbsp;id&nbsp;is&nbsp;returned&nbsp;(or&nbsp;the&nbsp;'generic'&nbsp;value,<br>
if&nbsp;a&nbsp;specific&nbsp;value&nbsp;was&nbsp;not&nbsp;found).<br>
&nbsp;<br>
If&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;is&nbsp;not&nbsp;readable&nbsp;then&nbsp;'None'&nbsp;is&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="database-getmessage"><strong>getmessage</strong></a>(self)</dt><dd><tt>Retrieve&nbsp;last&nbsp;internal&nbsp;error&nbsp;message.<br>
&nbsp;<br>
If&nbsp;an&nbsp;operation&nbsp;fails&nbsp;then&nbsp;the&nbsp;client&nbsp;application&nbsp;can<br>
access&nbsp;the&nbsp;last&nbsp;error&nbsp;message&nbsp;using&nbsp;this&nbsp;method.&nbsp;Invoking<br>
getmessage&nbsp;clears&nbsp;the&nbsp;error&nbsp;message.</tt></dd></dl>

<dl><dt><a name="database-hasjob"><strong>hasjob</strong></a>(self, job)</dt><dd><tt>Checks&nbsp;if&nbsp;a&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;exists&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;id,&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;contains&nbsp;a&nbsp;job<br>
with&nbsp;that&nbsp;id&nbsp;and&nbsp;False&nbsp;if&nbsp;not.</tt></dd></dl>

<dl><dt><a name="database-haslock"><strong>haslock</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;is&nbsp;locked&nbsp;by&nbsp;this&nbsp;process.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;has&nbsp;a&nbsp;<a href="#lockfile">lockfile</a><br>
owned&nbsp;by&nbsp;this&nbsp;process,&nbsp;and&nbsp;False&nbsp;otherwise.<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;after&nbsp;a&nbsp;specified&nbsp;time&nbsp;interval,<br>
in&nbsp;between&nbsp;the&nbsp;value&nbsp;is&nbsp;cached.&nbsp;Set&nbsp;the&nbsp;time&nbsp;interval&nbsp;to<br>
0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="database-isloaded"><strong>isloaded</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;data&nbsp;has&nbsp;been&nbsp;loaded.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;populated&nbsp;from<br>
the&nbsp;file&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="database-islocked"><strong>islocked</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;is&nbsp;locked.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;has&nbsp;a&nbsp;<a href="#lockfile">lockfile</a><br>
from&nbsp;any&nbsp;process,&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="database-isreadable"><strong>isreadable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;get&nbsp;data&nbsp;from&nbsp;the&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;loaded,<br>
and&nbsp;has&nbsp;data&nbsp;that&nbsp;is&nbsp;at&nbsp;least&nbsp;as&nbsp;recent&nbsp;as&nbsp;the&nbsp;persistent<br>
storage&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="database-isstale"><strong>isstale</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;is&nbsp;older&nbsp;than&nbsp;on&nbsp;disk.<br>
&nbsp;<br>
Return&nbsp;True&nbsp;if&nbsp;the&nbsp;modification&nbsp;time&nbsp;of&nbsp;the&nbsp;resource<br>
file&nbsp;is&nbsp;more&nbsp;recent&nbsp;than&nbsp;the&nbsp;last&nbsp;save.<br>
If&nbsp;so&nbsp;then&nbsp;this&nbsp;suggests&nbsp;that&nbsp;the&nbsp;data&nbsp;in&nbsp;this&nbsp;object&nbsp;may<br>
not&nbsp;accurately&nbsp;mirror&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;persistent<br>
storage.<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;after&nbsp;a&nbsp;specified&nbsp;time&nbsp;interval,<br>
in&nbsp;between&nbsp;the&nbsp;value&nbsp;is&nbsp;cached.&nbsp;Set&nbsp;the&nbsp;time&nbsp;interval&nbsp;to<br>
0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="database-iswriteable"><strong>iswriteable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;modify&nbsp;and&nbsp;save&nbsp;the&nbsp;data.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;loaded,&nbsp;owns<br>
the&nbsp;lock&nbsp;on&nbsp;the&nbsp;persistent&nbsp;storage&nbsp;on&nbsp;disk,&nbsp;and&nbsp;has&nbsp;data<br>
that&nbsp;is&nbsp;at&nbsp;least&nbsp;as&nbsp;recent&nbsp;as&nbsp;the&nbsp;persistent&nbsp;storage.</tt></dd></dl>

<dl><dt><a name="database-itemexists"><strong>itemexists</strong></a>(self, job, item)</dt><dd><tt>Check&nbsp;for&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;for&nbsp;a&nbsp;particular&nbsp;job.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;data&nbsp;item&nbsp;is&nbsp;found&nbsp;for&nbsp;the&nbsp;specified&nbsp;job<br>
id&nbsp;number.&nbsp;If&nbsp;the&nbsp;item&nbsp;is&nbsp;not&nbsp;found&nbsp;for&nbsp;the&nbsp;specified&nbsp;job&nbsp;id,<br>
but&nbsp;was&nbsp;defined&nbsp;in&nbsp;the&nbsp;template&nbsp;<a href="#database">database</a>.def&nbsp;file,&nbsp;then&nbsp;this<br>
method&nbsp;also&nbsp;returns&nbsp;True.&nbsp;Otherwise,&nbsp;itemexists&nbsp;returns&nbsp;False,<br>
indicating&nbsp;that&nbsp;the&nbsp;item&nbsp;is&nbsp;not&nbsp;accessible&nbsp;for&nbsp;the&nbsp;specified<br>
job.<br>
&nbsp;<br>
itemexists&nbsp;will&nbsp;also&nbsp;return&nbsp;False&nbsp;in&nbsp;the&nbsp;event&nbsp;that&nbsp;the&nbsp;project<br>
is&nbsp;not&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="database-listfiles"><strong>listfiles</strong></a>(self, job, ftype, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;list&nbsp;should&nbsp;be&nbsp;the&nbsp;associated&nbsp;'input'&nbsp;or<br>
'output'&nbsp;files.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="database-listinputfiles"><strong>listinputfiles</strong></a>(self, job, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number,'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="database-listjobs"><strong>listjobs</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;jobs&nbsp;in&nbsp;the&nbsp;project.<br>
&nbsp;<br>
The&nbsp;list&nbsp;is&nbsp;an&nbsp;unsorted&nbsp;list&nbsp;of&nbsp;job&nbsp;id&nbsp;numbers,&nbsp;or&nbsp;an&nbsp;empty&nbsp;list<br>
if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;currently&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="database-listoutputfiles"><strong>listoutputfiles</strong></a>(self, job, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number,'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="database-newjob"><strong>newjob</strong></a>(self, taskname<font color="#909090">=''</font>, status<font color="#909090">='STARTING'</font>, title<font color="#909090">=''</font>)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;job&nbsp;record&nbsp;in&nbsp;the&nbsp;project.<br>
&nbsp;<br>
Creates&nbsp;a&nbsp;new&nbsp;entry&nbsp;in&nbsp;the&nbsp;current&nbsp;project&nbsp;with&nbsp;the&nbsp;current&nbsp;date<br>
and&nbsp;returns&nbsp;the&nbsp;id&nbsp;number&nbsp;for&nbsp;the&nbsp;new&nbsp;job.&nbsp;Optionally&nbsp;the<br>
taskname&nbsp;(TASKNAME&nbsp;data&nbsp;item),&nbsp;the&nbsp;status&nbsp;(STATUS&nbsp;item)&nbsp;and/or<br>
title&nbsp;(TITLE&nbsp;item)&nbsp;may&nbsp;also&nbsp;be&nbsp;set&nbsp;when&nbsp;the&nbsp;job&nbsp;is&nbsp;created.<br>
&nbsp;<br>
If&nbsp;no&nbsp;taskname&nbsp;is&nbsp;specified&nbsp;then&nbsp;it&nbsp;is&nbsp;set&nbsp;to&nbsp;'none',&nbsp;if&nbsp;no&nbsp;status<br>
is&nbsp;specified&nbsp;then&nbsp;it&nbsp;is&nbsp;set&nbsp;to&nbsp;'STARTING'.&nbsp;(Note&nbsp;that&nbsp;blank&nbsp;values<br>
of&nbsp;the&nbsp;taskname&nbsp;can&nbsp;crash&nbsp;CCP4i&nbsp;and&nbsp;cause&nbsp;corruption&nbsp;of&nbsp;the<br>
<a href="#database">database</a>.)<br>
&nbsp;<br>
The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;and&nbsp;return&nbsp;-1&nbsp;if&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded,<br>
or&nbsp;if&nbsp;the&nbsp;current&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def<br>
file.</tt></dd></dl>

<dl><dt><a name="database-njobs"><strong>njobs</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;NJOBS&nbsp;data&nbsp;item.<br>
&nbsp;<br>
For&nbsp;historical&nbsp;reasons,&nbsp;the&nbsp;NJOBS&nbsp;data&nbsp;item&nbsp;records&nbsp;the&nbsp;current<br>
highest&nbsp;job&nbsp;id&nbsp;number&nbsp;used&nbsp;in&nbsp;the&nbsp;project,&nbsp;and&nbsp;is&nbsp;not&nbsp;generally<br>
the&nbsp;actual&nbsp;number&nbsp;of&nbsp;jobs&nbsp;in&nbsp;the&nbsp;project.&nbsp;To&nbsp;get&nbsp;the&nbsp;actual<br>
number&nbsp;of&nbsp;jobs&nbsp;in&nbsp;an&nbsp;object&nbsp;project,&nbsp;do&nbsp;len(project).<br>
Returns&nbsp;-1&nbsp;if&nbsp;the&nbsp;project&nbsp;has&nbsp;not&nbsp;been&nbsp;correctly&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="database-open"><strong>open</strong></a>(self, grablock<font color="#909090">=False</font>, readonly<font color="#909090">=False</font>, strict<font color="#909090">=False</font>)</dt><dd><tt>Open&nbsp;a&nbsp;project.<br>
&nbsp;<br>
Read&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;and&nbsp;return&nbsp;the&nbsp;project<br>
object.<br>
&nbsp;<br>
The&nbsp;open&nbsp;operation&nbsp;will&nbsp;fail&nbsp;(return&nbsp;False)&nbsp;if&nbsp;the&nbsp;project&nbsp;is<br>
locked,&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;already&nbsp;loaded,&nbsp;or&nbsp;if&nbsp;the&nbsp;project<br>
doesn't&nbsp;exist.&nbsp;Set&nbsp;the&nbsp;'grablock'&nbsp;argument&nbsp;to&nbsp;True&nbsp;to&nbsp;override<br>
any&nbsp;existing&nbsp;lock&nbsp;and&nbsp;force&nbsp;loading&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Specifying&nbsp;'readonly'&nbsp;as&nbsp;True&nbsp;populates&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object<br>
from&nbsp;the&nbsp;file&nbsp;on&nbsp;disk&nbsp;without&nbsp;attempting&nbsp;to&nbsp;lock&nbsp;the&nbsp;resource.<br>
However&nbsp;it&nbsp;will&nbsp;clear&nbsp;an&nbsp;existing&nbsp;lock,&nbsp;so&nbsp;the&nbsp;process&nbsp;may<br>
still&nbsp;own&nbsp;the&nbsp;lock&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;in&nbsp;'read-only'&nbsp;mode.<br>
&nbsp;<br>
If&nbsp;the&nbsp;'strict'&nbsp;flag&nbsp;is&nbsp;true&nbsp;then&nbsp;header&nbsp;information&nbsp;about<br>
the&nbsp;project&nbsp;name&nbsp;and&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;are&nbsp;checked&nbsp;against<br>
the&nbsp;internal&nbsp;values,&nbsp;and&nbsp;warnings&nbsp;issued&nbsp;if&nbsp;there&nbsp;is&nbsp;a<br>
discrepancy.</tt></dd></dl>

<dl><dt><a name="database-refresh"><strong>refresh</strong></a>(self, grablock<font color="#909090">=False</font>, readonly<font color="#909090">=True</font>)</dt><dd><tt>Reload&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;file&nbsp;into&nbsp;a&nbsp;<a href="#database">database</a>&nbsp;object.<br>
&nbsp;<br>
Use&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to&nbsp;re-read&nbsp;the&nbsp;data&nbsp;from&nbsp;the<br>
file&nbsp;on&nbsp;disk&nbsp;into&nbsp;an&nbsp;existing&nbsp;(loaded)&nbsp;<a href="#database">database</a>&nbsp;object.<br>
This&nbsp;is&nbsp;necessary&nbsp;for&nbsp;example&nbsp;if&nbsp;the&nbsp;file&nbsp;is&nbsp;updated<br>
by&nbsp;an&nbsp;external&nbsp;process.<br>
&nbsp;<br>
Essentially&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;is&nbsp;closed&nbsp;and&nbsp;then<br>
reopened.&nbsp;By&nbsp;default&nbsp;the&nbsp;data&nbsp;is&nbsp;reloaded&nbsp;in&nbsp;'readonly'<br>
mode.&nbsp;Set&nbsp;the&nbsp;'grablock'&nbsp;argument&nbsp;to&nbsp;True&nbsp;to&nbsp;override<br>
any&nbsp;existing&nbsp;lock&nbsp;and&nbsp;force&nbsp;loading&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;in<br>
write&nbsp;mode&nbsp;-&nbsp;see&nbsp;the&nbsp;'open'&nbsp;method.</tt></dd></dl>

<dl><dt><a name="database-removefile"><strong>removefile</strong></a>(self, job, ftype, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;should&nbsp;be&nbsp;associated&nbsp;as&nbsp;an&nbsp;'input'&nbsp;or<br>
'output'&nbsp;file.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="database-removeinputfile"><strong>removeinputfile</strong></a>(self, job, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="database-removeoutputfile"><strong>removeoutputfile</strong></a>(self, job, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="database-save"><strong>save</strong></a>(self)</dt><dd><tt>Save&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;contents&nbsp;to&nbsp;file.<br>
&nbsp;<br>
The&nbsp;save&nbsp;method&nbsp;writes&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;to&nbsp;persistent<br>
storage&nbsp;(i.e.&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;for&nbsp;the&nbsp;project).<br>
On&nbsp;successful&nbsp;completion&nbsp;True&nbsp;is&nbsp;returned.<br>
The&nbsp;save&nbsp;operation&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded,<br>
or&nbsp;if&nbsp;the&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file;<br>
in&nbsp;both&nbsp;cases&nbsp;False&nbsp;is&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="database-selectjobs"><strong>selectjobs</strong></a>(self, item, pattern)</dt><dd><tt>Retrieve&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;based&nbsp;on&nbsp;some&nbsp;selection&nbsp;criterion.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;for&nbsp;which&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;given&nbsp;data<br>
item&nbsp;matches&nbsp;the&nbsp;supplied&nbsp;regular&nbsp;expression&nbsp;pattern.</tt></dd></dl>

<dl><dt><a name="database-set_auto_refresh"><strong>set_auto_refresh</strong></a>(self, auto_refresh)</dt><dd><tt>Set&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
'auto_refresh'&nbsp;takes&nbsp;a&nbsp;boolean&nbsp;value.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'True'<br>
means&nbsp;that&nbsp;a&nbsp;read&nbsp;attempt&nbsp;on&nbsp;a&nbsp;'stale'&nbsp;<a href="#database">database</a>&nbsp;(i.e.&nbsp;when<br>
the&nbsp;source&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;is&nbsp;newer&nbsp;than&nbsp;the&nbsp;data&nbsp;in&nbsp;the<br>
object)&nbsp;will&nbsp;automatically&nbsp;invoke&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to<br>
load&nbsp;the&nbsp;data&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'False'<br>
means&nbsp;that&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;must&nbsp;be&nbsp;explicitly&nbsp;invoked.</tt></dd></dl>

<dl><dt><a name="database-setdata"><strong>setdata</strong></a>(self, job, item, value)</dt><dd><tt>Set&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;for&nbsp;the&nbsp;specified&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;The&nbsp;operation&nbsp;returns<br>
True&nbsp;if&nbsp;the&nbsp;value&nbsp;was&nbsp;successlly&nbsp;updated&nbsp;and&nbsp;False&nbsp;if&nbsp;the<br>
<a href="#database">database</a>&nbsp;is&nbsp;not&nbsp;writeable,&nbsp;or&nbsp;if&nbsp;the&nbsp;data&nbsp;item&nbsp;is&nbsp;valid&nbsp;but<br>
could&nbsp;not&nbsp;be&nbsp;updated.<br>
&nbsp;<br>
An&nbsp;IndexError&nbsp;exception&nbsp;will&nbsp;be&nbsp;raised&nbsp;if&nbsp;the&nbsp;data&nbsp;item&nbsp;is<br>
invalid,&nbsp;either&nbsp;because&nbsp;the&nbsp;job&nbsp;doesn't&nbsp;exist&nbsp;or&nbsp;because&nbsp;the<br>
data&nbsp;item&nbsp;doesn't&nbsp;exist&nbsp;for&nbsp;the&nbsp;job,&nbsp;as&nbsp;indicated&nbsp;by&nbsp;a&nbsp;call<br>
to&nbsp;the&nbsp;itemexists&nbsp;method.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;validity&nbsp;of&nbsp;the&nbsp;new&nbsp;value&nbsp;is&nbsp;not&nbsp;checked,&nbsp;except<br>
for&nbsp;the&nbsp;TASKNAME&nbsp;data&nbsp;item,&nbsp;which&nbsp;must&nbsp;not&nbsp;be&nbsp;blank.</tt></dd></dl>

<dl><dt><a name="database-updatetime"><strong>updatetime</strong></a>(self, job)</dt><dd><tt>Update&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;job&nbsp;to&nbsp;be&nbsp;the&nbsp;current&nbsp;time.<br>
&nbsp;<br>
This&nbsp;wraps&nbsp;the&nbsp;setdata&nbsp;method&nbsp;to&nbsp;automatically&nbsp;set&nbsp;the&nbsp;DATE<br>
attribute&nbsp;of&nbsp;the&nbsp;job&nbsp;specified&nbsp;by&nbsp;the&nbsp;id&nbsp;number,&nbsp;and&nbsp;returns<br>
the&nbsp;result&nbsp;of&nbsp;the&nbsp;setdata&nbsp;operation.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="dblockfile">class <strong>dblockfile</strong></a>(<a href="ccp4i.html#lockfile">lockfile</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;<a href="#database">database</a>&nbsp;lock&nbsp;file&nbsp;class.<br>
&nbsp;<br>
This&nbsp;class&nbsp;provides&nbsp;methods&nbsp;for&nbsp;creating&nbsp;and&nbsp;manipulating&nbsp;lock<br>
files&nbsp;for&nbsp;CCP4i&nbsp;def&nbsp;file&nbsp;based&nbsp;databases.<br>
&nbsp;<br>
The&nbsp;calling&nbsp;subprogram&nbsp;should&nbsp;specify&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;project<br>
(argument&nbsp;'project')&nbsp;and&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;directory<br>
i.e.&nbsp;the&nbsp;location&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;(argument&nbsp;'dbdir').<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="dblockfile-__init__"><strong>__init__</strong></a>(self, project, dbdir)</dt><dd><tt>Instantiate&nbsp;a&nbsp;new&nbsp;<a href="#dblockfile">dblockfile</a>&nbsp;object.</tt></dd></dl>

<hr>
Methods inherited from <a href="ccp4i.html#lockfile">lockfile</a>:<br>
<dl><dt><a name="dblockfile-filename"><strong>filename</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#lockfile">lockfile</a>&nbsp;name&nbsp;(including&nbsp;the&nbsp;path).</tt></dd></dl>

<dl><dt><a name="dblockfile-haslock"><strong>haslock</strong></a>(self)</dt><dd><tt>Check&nbsp;whether&nbsp;the&nbsp;resource&nbsp;is&nbsp;locked&nbsp;by&nbsp;this&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;provided&nbsp;that&nbsp;the&nbsp;resource&nbsp;is<br>
locked&nbsp;(i.e.&nbsp;a&nbsp;physical&nbsp;lock&nbsp;file&nbsp;exists)&nbsp;and&nbsp;that&nbsp;the<br>
the&nbsp;lock&nbsp;file&nbsp;was&nbsp;created&nbsp;by&nbsp;this&nbsp;instance&nbsp;of&nbsp;the&nbsp;<a href="#lockfile">lockfile</a><br>
class.&nbsp;If&nbsp;either&nbsp;condition&nbsp;is&nbsp;not&nbsp;satisfied&nbsp;then&nbsp;the<br>
method&nbsp;returns&nbsp;False.</tt></dd></dl>

<dl><dt><a name="dblockfile-islocked"><strong>islocked</strong></a>(self)</dt><dd><tt>Check&nbsp;whether&nbsp;the&nbsp;resource&nbsp;is&nbsp;locked.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;resource&nbsp;file&nbsp;that&nbsp;the<br>
<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;is&nbsp;associated&nbsp;with&nbsp;is&nbsp;'locked'&nbsp;(that&nbsp;is,<br>
a&nbsp;physical&nbsp;lock&nbsp;file&nbsp;exists),&nbsp;and&nbsp;False&nbsp;if&nbsp;it&nbsp;is&nbsp;not<br>
locked.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;it&nbsp;is&nbsp;possible&nbsp;for&nbsp;the&nbsp;resource&nbsp;to&nbsp;be&nbsp;locked<br>
but&nbsp;for&nbsp;the&nbsp;lock&nbsp;to&nbsp;be&nbsp;owned&nbsp;by&nbsp;a&nbsp;different&nbsp;<a href="#lockfile">lockfile</a><br>
instance&nbsp;-&nbsp;in&nbsp;this&nbsp;case,&nbsp;'islocked'&nbsp;will&nbsp;still&nbsp;indicate<br>
that&nbsp;the&nbsp;resource&nbsp;is&nbsp;locked.&nbsp;Use&nbsp;the&nbsp;'haslock'&nbsp;method&nbsp;to<br>
check&nbsp;if&nbsp;the&nbsp;resource&nbsp;is&nbsp;actually&nbsp;locked&nbsp;by&nbsp;this<br>
instance&nbsp;of&nbsp;the&nbsp;<a href="#lockfile">lockfile</a>&nbsp;class.</tt></dd></dl>

<dl><dt><a name="dblockfile-lock"><strong>lock</strong></a>(self)</dt><dd><tt>Lock&nbsp;the&nbsp;file&nbsp;resource.<br>
&nbsp;<br>
Attempts&nbsp;to&nbsp;create&nbsp;the&nbsp;physical&nbsp;lock&nbsp;file&nbsp;associated&nbsp;with<br>
the&nbsp;resource.&nbsp;This&nbsp;will&nbsp;fail&nbsp;is&nbsp;the&nbsp;resource&nbsp;is&nbsp;already<br>
locked&nbsp;(by&nbsp;any&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object,&nbsp;not&nbsp;necessarily&nbsp;only&nbsp;this<br>
one).&nbsp;Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;lock&nbsp;is&nbsp;successfully&nbsp;created,<br>
False&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;failure.</tt></dd></dl>

<dl><dt><a name="dblockfile-resource"><strong>resource</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;resource&nbsp;(i.e.&nbsp;file)&nbsp;being&nbsp;locked.</tt></dd></dl>

<dl><dt><a name="dblockfile-unlock"><strong>unlock</strong></a>(self, force<font color="#909090">=False</font>)</dt><dd><tt>Unlock&nbsp;a&nbsp;file&nbsp;resource.<br>
&nbsp;<br>
This&nbsp;method&nbsp;attempts&nbsp;to&nbsp;unlock&nbsp;a&nbsp;file&nbsp;resource&nbsp;that&nbsp;was<br>
previously&nbsp;locked,&nbsp;by&nbsp;removing&nbsp;the&nbsp;physical&nbsp;lock&nbsp;file.<br>
&nbsp;<br>
The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;resource&nbsp;is&nbsp;not&nbsp;currently<br>
locked,&nbsp;or&nbsp;if&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;resource&nbsp;belongs&nbsp;to&nbsp;a<br>
different&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;-&nbsp;in&nbsp;this&nbsp;second&nbsp;case,&nbsp;the<br>
setting&nbsp;the&nbsp;'force'&nbsp;to&nbsp;True&nbsp;forces&nbsp;the&nbsp;removal&nbsp;of&nbsp;the<br>
lock&nbsp;file&nbsp;regardless&nbsp;of&nbsp;ownership.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;successful&nbsp;removal&nbsp;of&nbsp;the<br>
lock&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="directories">class <strong>directories</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;project&nbsp;<a href="#directories">directories</a>&nbsp;class.<br>
&nbsp;<br>
This&nbsp;class&nbsp;provides&nbsp;methods&nbsp;for&nbsp;reading&nbsp;and&nbsp;writing&nbsp;the&nbsp;project<br>
directory&nbsp;information&nbsp;in&nbsp;<a href="#directories">directories</a>.def&nbsp;for&nbsp;CCP4i-based<br>
applications.<br>
&nbsp;<br>
The&nbsp;principle&nbsp;data&nbsp;stored&nbsp;in&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;and&nbsp;the<br>
underlying&nbsp;file&nbsp;are&nbsp;'aliases'&nbsp;associated&nbsp;with&nbsp;<a href="#directories">directories</a>&nbsp;on&nbsp;the<br>
file&nbsp;system.&nbsp;These&nbsp;are&nbsp;divided&nbsp;into&nbsp;two&nbsp;types:&nbsp;'project&nbsp;<a href="#directories">directories</a>'<br>
and&nbsp;'default&nbsp;<a href="#directories">directories</a>'&nbsp;(also&nbsp;referred&nbsp;to&nbsp;as&nbsp;'data&nbsp;<a href="#directories">directories</a>').<br>
The&nbsp;two&nbsp;types&nbsp;are&nbsp;kept&nbsp;separate&nbsp;within&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;class,&nbsp;and<br>
have&nbsp;separate&nbsp;methods&nbsp;to&nbsp;access&nbsp;and&nbsp;manipulate&nbsp;them.<br>
&nbsp;<br>
(In&nbsp;addition&nbsp;there&nbsp;are&nbsp;some&nbsp;other&nbsp;data&nbsp;items&nbsp;that&nbsp;are&nbsp;maintained<br>
for&nbsp;backwards&nbsp;compatibility&nbsp;with&nbsp;the&nbsp;Tcl&nbsp;CCP4i&nbsp;code.)<br>
&nbsp;<br>
By&nbsp;default&nbsp;when&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;instantiated&nbsp;it&nbsp;tries&nbsp;to&nbsp;take<br>
the&nbsp;user&nbsp;name&nbsp;from&nbsp;the&nbsp;current&nbsp;environment,&nbsp;and&nbsp;assumes&nbsp;that&nbsp;the<br>
'source'&nbsp;data&nbsp;file&nbsp;(the&nbsp;persistent&nbsp;storage)&nbsp;is&nbsp;the&nbsp;'<a href="#directories">directories</a>.def'<br>
file&nbsp;in&nbsp;the&nbsp;user's&nbsp;.CCP4&nbsp;directory&nbsp;or&nbsp;folder.&nbsp;These&nbsp;are&nbsp;determined<br>
automatically&nbsp;unless&nbsp;overriden&nbsp;by&nbsp;one&nbsp;or&nbsp;both&nbsp;of&nbsp;the&nbsp;'user'&nbsp;and<br>
'source'&nbsp;arguments&nbsp;on&nbsp;instantiation.<br>
&nbsp;<br>
To&nbsp;ensure&nbsp;that&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;reflects&nbsp;the&nbsp;actual<br>
state&nbsp;of&nbsp;the&nbsp;persistent&nbsp;storage,&nbsp;checks&nbsp;are&nbsp;made&nbsp;before&nbsp;read&nbsp;and<br>
write&nbsp;operations&nbsp;to&nbsp;see&nbsp;whether&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;still&nbsp;holds&nbsp;the<br>
lock&nbsp;on&nbsp;the&nbsp;resource&nbsp;and&nbsp;that&nbsp;it&nbsp;has&nbsp;not&nbsp;been&nbsp;modified&nbsp;by&nbsp;some<br>
other&nbsp;process&nbsp;since&nbsp;the&nbsp;last&nbsp;save.<br>
&nbsp;<br>
Since&nbsp;these&nbsp;checks&nbsp;involve&nbsp;file&nbsp;operations&nbsp;which&nbsp;may&nbsp;be&nbsp;expensive<br>
(in&nbsp;terms&nbsp;of&nbsp;timing),&nbsp;the&nbsp;'interval'&nbsp;parameter&nbsp;can&nbsp;be&nbsp;used&nbsp;to<br>
specify&nbsp;the&nbsp;length&nbsp;of&nbsp;time&nbsp;in&nbsp;seconds&nbsp;for&nbsp;which&nbsp;the&nbsp;results&nbsp;of&nbsp;a<br>
check&nbsp;are&nbsp;held&nbsp;to&nbsp;be&nbsp;valid.&nbsp;An&nbsp;interval&nbsp;of&nbsp;zero&nbsp;means&nbsp;that&nbsp;the&nbsp;checks<br>
are&nbsp;made&nbsp;every&nbsp;time&nbsp;an&nbsp;operation&nbsp;is&nbsp;performed;&nbsp;a&nbsp;longer&nbsp;interval<br>
reduces&nbsp;the&nbsp;number&nbsp;of&nbsp;checks&nbsp;that&nbsp;are&nbsp;made,&nbsp;which&nbsp;should&nbsp;improve<br>
efficiency&nbsp;at&nbsp;the&nbsp;expense&nbsp;of&nbsp;leaving&nbsp;a&nbsp;longer&nbsp;window&nbsp;of&nbsp;opportunity<br>
for&nbsp;the&nbsp;resource&nbsp;to&nbsp;come&nbsp;out&nbsp;of&nbsp;synch&nbsp;with&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
The&nbsp;<a href="#directories">directories</a>&nbsp;class&nbsp;also&nbsp;supports&nbsp;an&nbsp;'auto-refresh'&nbsp;mechanism,<br>
which&nbsp;is&nbsp;turned&nbsp;off&nbsp;by&nbsp;default&nbsp;but&nbsp;which&nbsp;can&nbsp;be&nbsp;toggled&nbsp;on&nbsp;or<br>
off&nbsp;using&nbsp;the&nbsp;'set_auto_refresh'&nbsp;method.&nbsp;When&nbsp;auto-refresh&nbsp;is<br>
active&nbsp;then&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;is&nbsp;automatically&nbsp;reloaded&nbsp;from&nbsp;the<br>
file&nbsp;if&nbsp;the&nbsp;source&nbsp;data&nbsp;file&nbsp;is&nbsp;modified&nbsp;by&nbsp;an&nbsp;other&nbsp;process.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="directories-__del__"><strong>__del__</strong></a>(self)</dt><dd><tt>Perform&nbsp;cleanup&nbsp;when&nbsp;the&nbsp;object&nbsp;is&nbsp;deleted.<br>
&nbsp;<br>
This&nbsp;implementation&nbsp;ensures&nbsp;that&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;data&nbsp;is<br>
cleanly&nbsp;released&nbsp;on&nbsp;deletion.</tt></dd></dl>

<dl><dt><a name="directories-__init__"><strong>__init__</strong></a>(self, user<font color="#909090">=''</font>, source<font color="#909090">=''</font>, interval<font color="#909090">=0</font>)</dt><dd><tt>Instantiate&nbsp;a&nbsp;new&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Optionally,&nbsp;specify&nbsp;a&nbsp;username&nbsp;'user'&nbsp;(otherwise&nbsp;this&nbsp;defaults<br>
to&nbsp;the&nbsp;current&nbsp;user),&nbsp;a&nbsp;'source'&nbsp;file&nbsp;(which&nbsp;defaults&nbsp;to&nbsp;the<br>
platform-specific&nbsp;<a href="#directories">directories</a>.def&nbsp;file&nbsp;in&nbsp;the&nbsp;user's&nbsp;.CCP4<br>
area),&nbsp;and&nbsp;an&nbsp;'interval'&nbsp;(in&nbsp;seconds)&nbsp;specifying&nbsp;the&nbsp;maximum<br>
time&nbsp;that&nbsp;filesystem&nbsp;checks&nbsp;are&nbsp;taken&nbsp;to&nbsp;be&nbsp;current.</tt></dd></dl>

<dl><dt><a name="directories-__nonzero__"><strong>__nonzero__</strong></a>(self)</dt><dd><tt>Returns&nbsp;True&nbsp;if&nbsp;data&nbsp;is&nbsp;loaded,&nbsp;False&nbsp;if&nbsp;not.<br>
&nbsp;<br>
This&nbsp;is&nbsp;a&nbsp;wrapper&nbsp;for&nbsp;the&nbsp;__loaded&nbsp;method&nbsp;of&nbsp;this&nbsp;class.</tt></dd></dl>

<dl><dt><a name="directories-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object,&nbsp;suitable&nbsp;for<br>
display&nbsp;to&nbsp;the&nbsp;programmer.</tt></dd></dl>

<dl><dt><a name="directories-adddefdirref"><strong>adddefdirref</strong></a>(self, def_dir, path)</dt><dd><tt>Add&nbsp;a&nbsp;new&nbsp;default&nbsp;directory&nbsp;reference.<br>
&nbsp;<br>
Associate&nbsp;a&nbsp;default&nbsp;dir&nbsp;name&nbsp;'def_dir'&nbsp;with&nbsp;the&nbsp;directory<br>
specified&nbsp;by&nbsp;'path'.&nbsp;Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;reference&nbsp;is<br>
successfully`added&nbsp;and&nbsp;False&nbsp;on&nbsp;failure,&nbsp;for&nbsp;example&nbsp;if&nbsp;the<br>
data&nbsp;is&nbsp;not&nbsp;write&nbsp;accessible&nbsp;or&nbsp;if&nbsp;the&nbsp;default&nbsp;dir&nbsp;name&nbsp;is<br>
already&nbsp;being&nbsp;used.</tt></dd></dl>

<dl><dt><a name="directories-addprojectref"><strong>addprojectref</strong></a>(self, alias, path, db_dir<font color="#909090">=''</font>)</dt><dd><tt>Add&nbsp;a&nbsp;new&nbsp;project&nbsp;reference.<br>
&nbsp;<br>
Associate&nbsp;a&nbsp;project&nbsp;name&nbsp;'alias'&nbsp;with&nbsp;the&nbsp;directory<br>
specified&nbsp;by&nbsp;'path'.&nbsp;Optionally&nbsp;also&nbsp;specify&nbsp;the<br>
path&nbsp;to&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;via&nbsp;the&nbsp;'db_dir'<br>
argument,&nbsp;however&nbsp;it&nbsp;is&nbsp;recommended&nbsp;not&nbsp;to&nbsp;set&nbsp;this<br>
as&nbsp;it&nbsp;normally&nbsp;assigned&nbsp;automatically.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;reference&nbsp;is&nbsp;successfully<br>
added&nbsp;and&nbsp;False&nbsp;on&nbsp;failure,&nbsp;for&nbsp;example&nbsp;if&nbsp;the&nbsp;data<br>
is&nbsp;not&nbsp;write&nbsp;accessible&nbsp;or&nbsp;if&nbsp;the&nbsp;project&nbsp;alias&nbsp;is<br>
already&nbsp;being&nbsp;used.</tt></dd></dl>

<dl><dt><a name="directories-array"><strong>array</strong></a>(self)</dt><dd><tt>Diagnostic&nbsp;method:&nbsp;return&nbsp;the&nbsp;underlying&nbsp;<a href="#array">array</a>&nbsp;object.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;CCP4i&nbsp;'<a href="#array">array</a>'&nbsp;object<br>
that&nbsp;holds&nbsp;the&nbsp;actual&nbsp;data.&nbsp;It&nbsp;should&nbsp;not&nbsp;be&nbsp;necessary<br>
to&nbsp;access&nbsp;the&nbsp;<a href="#array">array</a>&nbsp;object&nbsp;directly&nbsp;under&nbsp;normal<br>
circumstances&nbsp;and&nbsp;the&nbsp;use&nbsp;of&nbsp;this&nbsp;method&nbsp;is&nbsp;not<br>
recommended.</tt></dd></dl>

<dl><dt><a name="directories-auto_refresh"><strong>auto_refresh</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
The&nbsp;'auto_refresh'&nbsp;feature&nbsp;means&nbsp;that&nbsp;read&nbsp;attempts&nbsp;on&nbsp;a<br>
'stale'&nbsp;<a href="#database">database</a>&nbsp;automatically&nbsp;cause&nbsp;the&nbsp;data&nbsp;to&nbsp;be<br>
refreshed&nbsp;from&nbsp;file&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;See&nbsp;the<br>
set_auto_refresh&nbsp;method&nbsp;for&nbsp;more&nbsp;information.</tt></dd></dl>

<dl><dt><a name="directories-create"><strong>create</strong></a>(self)</dt><dd><tt>Make&nbsp;a&nbsp;new&nbsp;<a href="#directories">directories</a>&nbsp;file.<br>
&nbsp;<br>
This&nbsp;creates&nbsp;a&nbsp;new&nbsp;source&nbsp;file&nbsp;if&nbsp;one&nbsp;does&nbsp;not&nbsp;already<br>
exist.&nbsp;The&nbsp;object&nbsp;is&nbsp;automatically&nbsp;loaded&nbsp;once&nbsp;the<br>
file&nbsp;has&nbsp;been&nbsp;created.</tt></dd></dl>

<dl><dt><a name="directories-defdir"><strong>defdir</strong></a>(self, def_dir)</dt><dd><tt>Return&nbsp;the&nbsp;directory&nbsp;corresponding&nbsp;to&nbsp;a&nbsp;def&nbsp;dir&nbsp;name.<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;full&nbsp;path&nbsp;of&nbsp;the&nbsp;directory&nbsp;or&nbsp;folder<br>
corresponding&nbsp;to&nbsp;the&nbsp;specified&nbsp;default&nbsp;directory&nbsp;name,&nbsp;or<br>
an&nbsp;empty&nbsp;string&nbsp;if&nbsp;the&nbsp;default&nbsp;dir&nbsp;name&nbsp;is&nbsp;not&nbsp;one&nbsp;of&nbsp;those<br>
currently&nbsp;stored&nbsp;in&nbsp;the&nbsp;object.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not<br>
have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-deletedefdirref"><strong>deletedefdirref</strong></a>(self, def_dir)</dt><dd><tt>Remove&nbsp;a&nbsp;default&nbsp;directory&nbsp;reference.<br>
&nbsp;<br>
This&nbsp;removes&nbsp;the&nbsp;default&nbsp;directory&nbsp;name&nbsp;'def_dir',&nbsp;plus<br>
all&nbsp;associated&nbsp;data,&nbsp;returning&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False<br>
on&nbsp;failure.<br>
&nbsp;<br>
The&nbsp;operation&nbsp;can&nbsp;fail&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;not&nbsp;write<br>
accessible&nbsp;or&nbsp;if&nbsp;the&nbsp;named&nbsp;default&nbsp;dir&nbsp;is&nbsp;not&nbsp;found&nbsp;in&nbsp;the<br>
<a href="#directories">directories</a>&nbsp;object.</tt></dd></dl>

<dl><dt><a name="directories-deleteprojectref"><strong>deleteprojectref</strong></a>(self, alias)</dt><dd><tt>Remove&nbsp;a&nbsp;project&nbsp;reference.<br>
&nbsp;<br>
This&nbsp;removes&nbsp;the&nbsp;project&nbsp;name&nbsp;'alias'&nbsp;plus&nbsp;all<br>
associated&nbsp;data,&nbsp;returning&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False<br>
on&nbsp;failure.<br>
&nbsp;<br>
The&nbsp;operation&nbsp;can&nbsp;fail&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;not&nbsp;write<br>
accessible&nbsp;or&nbsp;if&nbsp;the&nbsp;named&nbsp;project&nbsp;is&nbsp;not&nbsp;found&nbsp;in&nbsp;the<br>
<a href="#directories">directories</a>&nbsp;object.</tt></dd></dl>

<dl><dt><a name="directories-filenamecomponents"><strong>filenamecomponents</strong></a>(self, filename)</dt><dd><tt>Break&nbsp;a&nbsp;file/directory&nbsp;name&nbsp;into&nbsp;a&nbsp;filename&nbsp;and&nbsp;alias.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;name,&nbsp;this&nbsp;method&nbsp;returns&nbsp;the<br>
the&nbsp;appropriate&nbsp;file&nbsp;and&nbsp;project/defdir&nbsp;names&nbsp;as&nbsp;a&nbsp;tuple<br>
with&nbsp;two&nbsp;elements&nbsp;i.e.:<br>
&nbsp;<br>
(filen,project)<br>
&nbsp;<br>
'project'&nbsp;will&nbsp;be&nbsp;the&nbsp;alias&nbsp;of&nbsp;a&nbsp;project&nbsp;or&nbsp;default<br>
directory&nbsp;(or&nbsp;'FULL_PATH'&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;match).&nbsp;'filen'<br>
will&nbsp;be&nbsp;the&nbsp;filename&nbsp;relative&nbsp;to&nbsp;the&nbsp;project&nbsp;or&nbsp;default<br>
directory,&nbsp;''&nbsp;if&nbsp;the&nbsp;supplied&nbsp;file&nbsp;is&nbsp;actually&nbsp;a&nbsp;directory,<br>
or&nbsp;the&nbsp;input&nbsp;filename&nbsp;if&nbsp;the&nbsp;alias&nbsp;is&nbsp;returned&nbsp;as&nbsp;'FULL_PATH'.<br>
&nbsp;<br>
This&nbsp;result&nbsp;is&nbsp;also&nbsp;returned&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;not&nbsp;currently<br>
loaded.</tt></dd></dl>

<dl><dt><a name="directories-fullfilename"><strong>fullfilename</strong></a>(self, filen, project)</dt><dd><tt>Construct&nbsp;a&nbsp;full&nbsp;path&nbsp;from&nbsp;filename&nbsp;and&nbsp;project&nbsp;or&nbsp;def&nbsp;dir&nbsp;name<br>
&nbsp;<br>
Given&nbsp;a&nbsp;filename&nbsp;'filen'&nbsp;and&nbsp;an&nbsp;alias&nbsp;'project'&nbsp;(which&nbsp;can<br>
be&nbsp;either&nbsp;a&nbsp;project&nbsp;alias,&nbsp;a&nbsp;default&nbsp;dir&nbsp;alias,&nbsp;the&nbsp;string<br>
'FULL_PATH',&nbsp;or&nbsp;a&nbsp;blank&nbsp;string),&nbsp;this&nbsp;method&nbsp;attempts&nbsp;to<br>
construct&nbsp;a&nbsp;full&nbsp;filename&nbsp;based&nbsp;on&nbsp;the&nbsp;information&nbsp;stored&nbsp;in<br>
the&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
The&nbsp;rules&nbsp;are:<br>
&nbsp;<br>
If&nbsp;the&nbsp;alias&nbsp;is&nbsp;FULL_PATH&nbsp;or&nbsp;blank,&nbsp;or&nbsp;if&nbsp;it&nbsp;is&nbsp;neither&nbsp;a<br>
project&nbsp;or&nbsp;default&nbsp;directory&nbsp;alias,&nbsp;then&nbsp;return&nbsp;the&nbsp;input<br>
filename&nbsp;as&nbsp;is.&nbsp;Otherwise&nbsp;append&nbsp;the&nbsp;filename&nbsp;to&nbsp;the<br>
directory&nbsp;path&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;alias&nbsp;with&nbsp;the<br>
appropriate&nbsp;path&nbsp;separator.<br>
&nbsp;<br>
If&nbsp;the&nbsp;data&nbsp;has&nbsp;not&nbsp;been&nbsp;loaded&nbsp;into&nbsp;the&nbsp;object&nbsp;then&nbsp;an<br>
empty&nbsp;string&nbsp;is&nbsp;returned&nbsp;regardless&nbsp;of&nbsp;the&nbsp;inputs.</tt></dd></dl>

<dl><dt><a name="directories-getmessage"><strong>getmessage</strong></a>(self)</dt><dd><tt>Access&nbsp;the&nbsp;last&nbsp;internal&nbsp;error&nbsp;message.<br>
&nbsp;<br>
Provides&nbsp;a&nbsp;way&nbsp;for&nbsp;the&nbsp;calling&nbsp;application&nbsp;to&nbsp;access&nbsp;the<br>
last&nbsp;error&nbsp;message&nbsp;set&nbsp;internally.<br>
&nbsp;<br>
Once&nbsp;the&nbsp;message&nbsp;has&nbsp;been&nbsp;accessed&nbsp;it&nbsp;is&nbsp;deleted.</tt></dd></dl>

<dl><dt><a name="directories-haslock"><strong>haslock</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;owns&nbsp;the&nbsp;lock.<br>
&nbsp;<br>
This&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;process&nbsp;owns&nbsp;the&nbsp;lock&nbsp;file<br>
associated&nbsp;with&nbsp;the&nbsp;source&nbsp;file,&nbsp;and&nbsp;False&nbsp;if&nbsp;not&nbsp;(or<br>
if&nbsp;no&nbsp;lock&nbsp;exists).<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;explicitly&nbsp;after&nbsp;a&nbsp;specified<br>
time&nbsp;interval&nbsp;-&nbsp;in&nbsp;between,&nbsp;the&nbsp;outcome&nbsp;of&nbsp;the&nbsp;check&nbsp;is<br>
cached&nbsp;and&nbsp;it&nbsp;is&nbsp;this&nbsp;cached&nbsp;value&nbsp;that&nbsp;is&nbsp;returned.&nbsp;The<br>
time&nbsp;interval&nbsp;is&nbsp;specified&nbsp;when&nbsp;the&nbsp;object&nbsp;is&nbsp;first<br>
created,&nbsp;and&nbsp;should&nbsp;be&nbsp;set&nbsp;to&nbsp;0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value<br>
is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="directories-isdefdir"><strong>isdefdir</strong></a>(self, def_dir)</dt><dd><tt>Determine&nbsp;if&nbsp;a&nbsp;name&nbsp;is&nbsp;a&nbsp;default&nbsp;directory&nbsp;name.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;specified&nbsp;name&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;a<br>
project&nbsp;stored&nbsp;in&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;and&nbsp;False&nbsp;if<br>
it&nbsp;is&nbsp;not&nbsp;(or&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;not&nbsp;read&nbsp;accessible).</tt></dd></dl>

<dl><dt><a name="directories-isdefdirdir"><strong>isdefdirdir</strong></a>(self, dir)</dt><dd><tt>Determine&nbsp;if&nbsp;a&nbsp;directory&nbsp;path&nbsp;is&nbsp;a&nbsp;default&nbsp;directory.<br>
&nbsp;<br>
If&nbsp;the&nbsp;the&nbsp;specified&nbsp;directory&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;default<br>
directory&nbsp;then&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;default&nbsp;dir;<br>
otherwise&nbsp;returns&nbsp;an&nbsp;empty&nbsp;string.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not<br>
have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-isloaded"><strong>isloaded</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;the&nbsp;data&nbsp;has&nbsp;been&nbsp;loaded&nbsp;from&nbsp;the&nbsp;file.<br>
&nbsp;<br>
The&nbsp;object&nbsp;is&nbsp;loaded&nbsp;with&nbsp;data&nbsp;from&nbsp;the&nbsp;source&nbsp;file&nbsp;by<br>
successfully&nbsp;executing&nbsp;the&nbsp;'load'&nbsp;method.</tt></dd></dl>

<dl><dt><a name="directories-islocked"><strong>islocked</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;file&nbsp;is&nbsp;currently&nbsp;locked.<br>
&nbsp;<br>
This&nbsp;returns&nbsp;True&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;lock&nbsp;file&nbsp;created&nbsp;by<br>
a&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;associated&nbsp;with&nbsp;the&nbsp;source&nbsp;file,&nbsp;and<br>
False&nbsp;otherwise.<br>
&nbsp;<br>
This&nbsp;method&nbsp;only&nbsp;reports&nbsp;the&nbsp;existence&nbsp;of&nbsp;the&nbsp;lock&nbsp;file;<br>
it&nbsp;doesn't&nbsp;check&nbsp;the&nbsp;ownership&nbsp;of&nbsp;the&nbsp;lock&nbsp;-&nbsp;for&nbsp;that,<br>
use&nbsp;the&nbsp;'haslock'&nbsp;method.</tt></dd></dl>

<dl><dt><a name="directories-islockedbyccp4i"><strong>islockedbyccp4i</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;resource&nbsp;file&nbsp;is&nbsp;locked&nbsp;by&nbsp;a&nbsp;CCP4i&nbsp;process.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;resource&nbsp;file<br>
is&nbsp;also&nbsp;locked&nbsp;by&nbsp;CCP4i,&nbsp;i.e.&nbsp;a&nbsp;CCP4i-style&nbsp;lock&nbsp;file&nbsp;is<br>
present&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;or&nbsp;folder&nbsp;as&nbsp;the&nbsp;resource<br>
file.&nbsp;If&nbsp;no&nbsp;such&nbsp;file&nbsp;is&nbsp;found&nbsp;then&nbsp;False&nbsp;is&nbsp;returned.<br>
&nbsp;<br>
CCP4i's&nbsp;lock&nbsp;files&nbsp;are&nbsp;called&nbsp;&lt;filen&gt;.LOCK.&nbsp;CCP4i&nbsp;itself<br>
does&nbsp;not&nbsp;recognise&nbsp;lock&nbsp;files&nbsp;created&nbsp;on&nbsp;behalf&nbsp;of&nbsp;this<br>
class,&nbsp;and&nbsp;may&nbsp;alter&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;resource&nbsp;file&nbsp;at&nbsp;will.<br>
&nbsp;<br>
It&nbsp;is&nbsp;worth&nbsp;noting&nbsp;that&nbsp;CCP4i's&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#directories">directories</a>.def<br>
file&nbsp;seems&nbsp;a&nbsp;little&nbsp;unpredictable&nbsp;in&nbsp;CCP4i&nbsp;version&nbsp;1.4.4.1.<br>
The&nbsp;CCP4i&nbsp;lock&nbsp;is&nbsp;only&nbsp;created&nbsp;when&nbsp;CCP4i&nbsp;is&nbsp;performing<br>
certain&nbsp;operations.&nbsp;So&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;False&nbsp;from&nbsp;this<br>
method&nbsp;doesn't&nbsp;necessarily&nbsp;indicate&nbsp;that&nbsp;CCP4i&nbsp;is&nbsp;not&nbsp;still<br>
running.</tt></dd></dl>

<dl><dt><a name="directories-isproject"><strong>isproject</strong></a>(self, project)</dt><dd><tt>Determine&nbsp;if&nbsp;a&nbsp;name&nbsp;is&nbsp;a&nbsp;project&nbsp;alias.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;specified&nbsp;name&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;a<br>
project&nbsp;stored&nbsp;in&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;and&nbsp;False&nbsp;if<br>
it&nbsp;is&nbsp;not.</tt></dd></dl>

<dl><dt><a name="directories-isprojectdir"><strong>isprojectdir</strong></a>(self, dir)</dt><dd><tt>Determine&nbsp;if&nbsp;a&nbsp;directory&nbsp;path&nbsp;is&nbsp;a&nbsp;project&nbsp;directory.<br>
&nbsp;<br>
If&nbsp;the&nbsp;the&nbsp;specified&nbsp;directory&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;project<br>
directory&nbsp;then&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;project;&nbsp;otherwise<br>
returns&nbsp;an&nbsp;empty&nbsp;string.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not<br>
have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-isreadable"><strong>isreadable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;get&nbsp;data&nbsp;from&nbsp;the&nbsp;object.<br>
&nbsp;<br>
The&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;is&nbsp;considered&nbsp;to&nbsp;be&nbsp;'readable'<br>
provided&nbsp;that&nbsp;it&nbsp;is&nbsp;loaded&nbsp;with&nbsp;up-to-date&nbsp;data&nbsp;from&nbsp;the<br>
source&nbsp;file.<br>
&nbsp;<br>
If&nbsp;the&nbsp;source&nbsp;file&nbsp;is&nbsp;newer&nbsp;than&nbsp;the&nbsp;last&nbsp;time&nbsp;the&nbsp;data<br>
was&nbsp;loaded&nbsp;(and&nbsp;the&nbsp;'auto&nbsp;refresh'&nbsp;mechanism&nbsp;is&nbsp;not<br>
enabled)&nbsp;then&nbsp;the&nbsp;data&nbsp;is&nbsp;not&nbsp;considered&nbsp;readable.</tt></dd></dl>

<dl><dt><a name="directories-isstale"><strong>isstale</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;resource&nbsp;file&nbsp;is&nbsp;newer&nbsp;than&nbsp;the&nbsp;stored&nbsp;data.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;modification&nbsp;time&nbsp;of&nbsp;the<br>
resource&nbsp;file&nbsp;is&nbsp;more&nbsp;recent&nbsp;than&nbsp;the&nbsp;last&nbsp;save&nbsp;(or&nbsp;load)<br>
time.&nbsp;In&nbsp;this&nbsp;case,&nbsp;the&nbsp;data&nbsp;stored&nbsp;in&nbsp;the&nbsp;object&nbsp;may<br>
not&nbsp;be&nbsp;an&nbsp;accurate&nbsp;copy&nbsp;of&nbsp;the&nbsp;data&nbsp;in&nbsp;persistent&nbsp;storage.<br>
Otherwise&nbsp;it&nbsp;returns&nbsp;False&nbsp;(the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;is&nbsp;not<br>
'stale').<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;explicitly&nbsp;after&nbsp;a&nbsp;specified<br>
time&nbsp;interval&nbsp;-&nbsp;in&nbsp;between,&nbsp;the&nbsp;outcome&nbsp;of&nbsp;the&nbsp;check&nbsp;is<br>
cached&nbsp;and&nbsp;it&nbsp;is&nbsp;this&nbsp;cached&nbsp;value&nbsp;that&nbsp;is&nbsp;returned.&nbsp;The<br>
time&nbsp;interval&nbsp;is&nbsp;specified&nbsp;when&nbsp;the&nbsp;object&nbsp;is&nbsp;first<br>
created,&nbsp;and&nbsp;should&nbsp;be&nbsp;set&nbsp;to&nbsp;0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value<br>
is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="directories-iswriteable"><strong>iswriteable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;modify&nbsp;data&nbsp;and&nbsp;save&nbsp;to&nbsp;file.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;can&nbsp;be&nbsp;modified&nbsp;(e.g.<br>
adding&nbsp;or&nbsp;deleting&nbsp;project&nbsp;directory&nbsp;references)&nbsp;and&nbsp;if&nbsp;the<br>
data&nbsp;can&nbsp;be&nbsp;saved&nbsp;to&nbsp;persistent&nbsp;storage&nbsp;(i.e.&nbsp;to&nbsp;the&nbsp;source<br>
data&nbsp;file).&nbsp;False&nbsp;is&nbsp;returned&nbsp;if&nbsp;this&nbsp;is&nbsp;not&nbsp;possible.<br>
&nbsp;<br>
Provided&nbsp;that&nbsp;the&nbsp;data&nbsp;has&nbsp;been&nbsp;loaded&nbsp;in&nbsp;the&nbsp;first&nbsp;place,<br>
and&nbsp;that&nbsp;this&nbsp;object&nbsp;owns&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;source&nbsp;file,<br>
modify-and-save&nbsp;should&nbsp;be&nbsp;possible.&nbsp;However&nbsp;if&nbsp;the&nbsp;source<br>
file&nbsp;is&nbsp;locked&nbsp;by&nbsp;CCP4i&nbsp;(which&nbsp;doesn't&nbsp;recognise&nbsp;the&nbsp;ccp4i<br>
module's&nbsp;lock&nbsp;files)&nbsp;or&nbsp;if&nbsp;the&nbsp;source&nbsp;file&nbsp;has&nbsp;been<br>
modified&nbsp;by&nbsp;some&nbsp;external&nbsp;process&nbsp;more&nbsp;recently&nbsp;than&nbsp;the<br>
last&nbsp;save&nbsp;from&nbsp;this&nbsp;object,&nbsp;then&nbsp;modify-and-save&nbsp;is&nbsp;not<br>
allowed.</tt></dd></dl>

<dl><dt><a name="directories-listdefdirs"><strong>listdefdirs</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;default&nbsp;directory&nbsp;names.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;default&nbsp;directory&nbsp;names&nbsp;i.e.&nbsp;the<br>
aliases&nbsp;currently&nbsp;loaded&nbsp;into&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;or<br>
raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does<br>
not&nbsp;have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-listprojects"><strong>listprojects</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;project&nbsp;names.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;project&nbsp;names&nbsp;i.e.&nbsp;the&nbsp;aliases<br>
currently&nbsp;loaded&nbsp;into&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;or<br>
raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does<br>
not&nbsp;have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-load"><strong>load</strong></a>(self, force<font color="#909090">=False</font>, readonly<font color="#909090">=False</font>)</dt><dd><tt>Load&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;resource&nbsp;file&nbsp;into&nbsp;the&nbsp;object.<br>
&nbsp;<br>
Invoking&nbsp;the&nbsp;'load'&nbsp;method&nbsp;causes&nbsp;the&nbsp;data&nbsp;to&nbsp;be&nbsp;read<br>
from&nbsp;the&nbsp;resource&nbsp;file&nbsp;into&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;so<br>
that&nbsp;it&nbsp;can&nbsp;be&nbsp;accessed&nbsp;and&nbsp;manipulated&nbsp;using&nbsp;the<br>
methods&nbsp;in&nbsp;this&nbsp;class.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;successful&nbsp;load,&nbsp;and&nbsp;False<br>
on&nbsp;failure.&nbsp;Situations&nbsp;where&nbsp;the&nbsp;load&nbsp;operation&nbsp;will<br>
fail&nbsp;include:&nbsp;the&nbsp;resource&nbsp;file&nbsp;doesn't&nbsp;exist;&nbsp;the<br>
data&nbsp;has&nbsp;already&nbsp;been&nbsp;loaded&nbsp;successfully;&nbsp;the&nbsp;resource<br>
file&nbsp;is&nbsp;locked&nbsp;by&nbsp;another&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
In&nbsp;the&nbsp;event&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;lock&nbsp;on&nbsp;the&nbsp;resource&nbsp;file,<br>
setting&nbsp;the&nbsp;'force'&nbsp;argument&nbsp;to&nbsp;True&nbsp;over-rides&nbsp;the<br>
existing&nbsp;lock&nbsp;essentially&nbsp;grabbing&nbsp;it&nbsp;for&nbsp;the&nbsp;current<br>
<a href="#directories">directories</a>&nbsp;instance.&nbsp;Alternatively,&nbsp;setting&nbsp;the<br>
'readonly'&nbsp;argument&nbsp;to&nbsp;True&nbsp;loads&nbsp;the&nbsp;data&nbsp;even&nbsp;if<br>
there&nbsp;is&nbsp;a&nbsp;lock&nbsp;from&nbsp;another&nbsp;process,&nbsp;but&nbsp;does&nbsp;not&nbsp;grab<br>
the&nbsp;lock&nbsp;-&nbsp;so&nbsp;the&nbsp;data&nbsp;can&nbsp;be&nbsp;read&nbsp;but&nbsp;not&nbsp;modified.</tt></dd></dl>

<dl><dt><a name="directories-logdir"><strong>logdir</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;LOG_DIRECTORY&nbsp;data&nbsp;item.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;has<br>
not&nbsp;yet&nbsp;been&nbsp;loaded&nbsp;into&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object.</tt></dd></dl>

<dl><dt><a name="directories-n_defdirs"><strong>n_defdirs</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;number&nbsp;of&nbsp;default&nbsp;<a href="#directories">directories</a>.<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;default&nbsp;<a href="#directories">directories</a>,&nbsp;stored&nbsp;in&nbsp;the<br>
N_DEF_DIRS&nbsp;data&nbsp;item,&nbsp;or&nbsp;raises&nbsp;an&nbsp;AttributeError<br>
exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not&nbsp;have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-n_projects"><strong>n_projects</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;number&nbsp;of&nbsp;projects.<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;projects,&nbsp;stored&nbsp;in&nbsp;the<br>
N_PROJECTS&nbsp;data&nbsp;item,&nbsp;or&nbsp;raises&nbsp;an&nbsp;AttributeError<br>
exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not&nbsp;have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-project_menu"><strong>project_menu</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;PROJECT_MENU&nbsp;data&nbsp;item.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;has<br>
not&nbsp;yet&nbsp;been&nbsp;loaded&nbsp;into&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object.</tt></dd></dl>

<dl><dt><a name="directories-projectdb"><strong>projectdb</strong></a>(self, project)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;for&nbsp;a&nbsp;specific&nbsp;project.<br>
&nbsp;<br>
The&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;is&nbsp;a&nbsp;subdirectory&nbsp;of&nbsp;the<br>
project&nbsp;directory&nbsp;where&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;is&nbsp;stored.<br>
Typically&nbsp;this&nbsp;directory&nbsp;is&nbsp;called&nbsp;CCP4_DATABASE.<br>
&nbsp;<br>
An&nbsp;empty&nbsp;string&nbsp;is&nbsp;returned&nbsp;if&nbsp;the&nbsp;project&nbsp;name&nbsp;is&nbsp;not<br>
one&nbsp;of&nbsp;those&nbsp;currently&nbsp;stored&nbsp;in&nbsp;the&nbsp;object,&nbsp;and&nbsp;an<br>
AttributeError&nbsp;exception&nbsp;is&nbsp;raised&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not<br>
have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-projectdir"><strong>projectdir</strong></a>(self, project)</dt><dd><tt>Return&nbsp;the&nbsp;project&nbsp;directory&nbsp;for&nbsp;a&nbsp;specific&nbsp;project.<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;full&nbsp;path&nbsp;of&nbsp;the&nbsp;directory&nbsp;or&nbsp;folder<br>
corresponding&nbsp;to&nbsp;the&nbsp;specified&nbsp;project&nbsp;name,&nbsp;or&nbsp;an<br>
empty&nbsp;string&nbsp;if&nbsp;the&nbsp;project&nbsp;name&nbsp;is&nbsp;not&nbsp;one&nbsp;of&nbsp;those<br>
currently&nbsp;stored&nbsp;in&nbsp;the&nbsp;object.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;AttributeError&nbsp;exception&nbsp;if&nbsp;the&nbsp;data&nbsp;does&nbsp;not<br>
have&nbsp;read&nbsp;access.</tt></dd></dl>

<dl><dt><a name="directories-refresh"><strong>refresh</strong></a>(self, readonly<font color="#909090">=True</font>)</dt><dd><tt>Reload&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;source&nbsp;<a href="#directories">directories</a>.def&nbsp;file.<br>
&nbsp;<br>
Invoking&nbsp;this&nbsp;method&nbsp;forces&nbsp;the&nbsp;current&nbsp;data&nbsp;in&nbsp;the&nbsp;object<br>
to&nbsp;be&nbsp;overwritten&nbsp;by&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;source&nbsp;<a href="#directories">directories</a><br>
file&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="directories-release"><strong>release</strong></a>(self)</dt><dd><tt>Close&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;and&nbsp;release&nbsp;the&nbsp;source&nbsp;file.<br>
&nbsp;<br>
Invoking&nbsp;this&nbsp;method&nbsp;saves&nbsp;any&nbsp;data&nbsp;to&nbsp;the&nbsp;persistent&nbsp;storage<br>
(the&nbsp;source&nbsp;file)&nbsp;and&nbsp;releases&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;source&nbsp;file.<br>
After&nbsp;doing&nbsp;this&nbsp;the&nbsp;object&nbsp;is&nbsp;no&nbsp;longer&nbsp;loaded&nbsp;and&nbsp;cannot<br>
operate&nbsp;on&nbsp;the&nbsp;data&nbsp;without&nbsp;the&nbsp;'load'&nbsp;method&nbsp;being<br>
re-invoked.<br>
&nbsp;<br>
The&nbsp;object&nbsp;must&nbsp;have&nbsp;write&nbsp;access&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;in<br>
order&nbsp;for&nbsp;the&nbsp;save&nbsp;to&nbsp;take&nbsp;effect,&nbsp;and&nbsp;must&nbsp;own&nbsp;the&nbsp;lock<br>
in&nbsp;order&nbsp;for&nbsp;it&nbsp;surrender&nbsp;the&nbsp;lock.<br>
&nbsp;<br>
'release'&nbsp;always&nbsp;works&nbsp;and&nbsp;always&nbsp;returns&nbsp;True,&nbsp;regardless<br>
of&nbsp;whether&nbsp;the&nbsp;save&nbsp;or&nbsp;unlocking&nbsp;operations&nbsp;were&nbsp;successful.</tt></dd></dl>

<dl><dt><a name="directories-save"><strong>save</strong></a>(self, filen<font color="#909090">=''</font>)</dt><dd><tt>Save&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;to&nbsp;file.<br>
&nbsp;<br>
Invoking&nbsp;this&nbsp;method&nbsp;causes&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;to&nbsp;be<br>
written&nbsp;out&nbsp;to&nbsp;the&nbsp;associated&nbsp;<a href="#directories">directories</a>.def&nbsp;file.&nbsp;Returns<br>
True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;if&nbsp;the&nbsp;operation&nbsp;fails.<br>
&nbsp;<br>
Reasons&nbsp;for&nbsp;failure&nbsp;include:&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;data&nbsp;is&nbsp;not<br>
currently&nbsp;loaded;&nbsp;the&nbsp;data&nbsp;hasn't&nbsp;been&nbsp;updated&nbsp;since&nbsp;the<br>
last&nbsp;save;&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;doesn't&nbsp;own&nbsp;the&nbsp;lock&nbsp;on<br>
the&nbsp;source&nbsp;file.<br>
&nbsp;<br>
Optionally,&nbsp;the&nbsp;data&nbsp;can&nbsp;be&nbsp;written&nbsp;out&nbsp;to&nbsp;a&nbsp;different<br>
file&nbsp;than&nbsp;the&nbsp;associated&nbsp;source&nbsp;file,&nbsp;by&nbsp;specifying&nbsp;a<br>
non-blank&nbsp;filename&nbsp;as&nbsp;the&nbsp;'filen'&nbsp;argument.</tt></dd></dl>

<dl><dt><a name="directories-set_auto_refresh"><strong>set_auto_refresh</strong></a>(self, auto_refresh)</dt><dd><tt>Set&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
'auto_refresh'&nbsp;takes&nbsp;a&nbsp;boolean&nbsp;value.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'True'<br>
means&nbsp;that&nbsp;a&nbsp;read&nbsp;attempt&nbsp;on&nbsp;a&nbsp;'stale'&nbsp;<a href="#database">database</a>&nbsp;(i.e.&nbsp;when<br>
the&nbsp;source&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;is&nbsp;newer&nbsp;than&nbsp;the&nbsp;data&nbsp;in&nbsp;the<br>
object)&nbsp;will&nbsp;automatically&nbsp;invoke&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to<br>
load&nbsp;the&nbsp;data&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'False'<br>
means&nbsp;that&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;must&nbsp;be&nbsp;explicitly&nbsp;invoked.</tt></dd></dl>

<dl><dt><a name="directories-setlogdir"><strong>setlogdir</strong></a>(self, log_dir)</dt><dd><tt>Set&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;LOG_DIRECTORY&nbsp;data&nbsp;item.<br>
&nbsp;<br>
The&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;must&nbsp;have&nbsp;write&nbsp;access.<br>
Warning:&nbsp;this&nbsp;method&nbsp;fails&nbsp;silently.</tt></dd></dl>

<dl><dt><a name="directories-source"><strong>source</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;source&nbsp;filename&nbsp;associated&nbsp;with&nbsp;the&nbsp;object.<br>
&nbsp;<br>
This&nbsp;is&nbsp;the&nbsp;full&nbsp;path&nbsp;and&nbsp;name&nbsp;of&nbsp;the&nbsp;.def&nbsp;file&nbsp;holding&nbsp;the<br>
<a href="#directories">directories</a>&nbsp;data&nbsp;that&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;is&nbsp;associated<br>
with.</tt></dd></dl>

<dl><dt><a name="directories-user"><strong>user</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;username&nbsp;associated&nbsp;with&nbsp;the&nbsp;object.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="extendedhistory">class <strong>extendedhistory</strong></a>(<a href="ccp4i.html#history">history</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Extended&nbsp;<a href="#history">history</a>&nbsp;class&nbsp;for&nbsp;use&nbsp;with&nbsp;<a href="#projectDB">projectDB</a>&nbsp;class.<br>
&nbsp;<br>
The&nbsp;<a href="#extendedhistory">extendedhistory</a>&nbsp;class&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;with&nbsp;the<br>
<a href="#projectDB">projectDB</a>&nbsp;class&nbsp;and&nbsp;adds&nbsp;support&nbsp;for&nbsp;querying&nbsp;the&nbsp;<a href="#history">history</a><br>
for&nbsp;subjobs&nbsp;as&nbsp;well&nbsp;as&nbsp;'top-level'&nbsp;jobs.&nbsp;The&nbsp;same<br>
methods&nbsp;are&nbsp;available&nbsp;as&nbsp;for&nbsp;the&nbsp;base&nbsp;'<a href="#history">history</a>'&nbsp;class<br>
however&nbsp;they&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;subjobs&nbsp;by&nbsp;specifying<br>
the&nbsp;subjob&nbsp;id&nbsp;using&nbsp;the&nbsp;x.y&nbsp;notation,&nbsp;e.g.<br>
&nbsp;<br>
<a href="#history">history</a>.<a href="#extendedhistory-parentsof">parentsof</a>(9)<br>
&nbsp;<br>
will&nbsp;return&nbsp;top-level&nbsp;jobs&nbsp;that&nbsp;are&nbsp;'parents'&nbsp;of&nbsp;job&nbsp;9,<br>
while<br>
&nbsp;<br>
<a href="#history">history</a>.<a href="#extendedhistory-parentsof">parentsof</a>(9.5)<br>
&nbsp;<br>
will&nbsp;return&nbsp;subjobs&nbsp;of&nbsp;job&nbsp;9&nbsp;that&nbsp;are&nbsp;'parents'&nbsp;of&nbsp;job<br>
9.5.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;top-level&nbsp;jobs&nbsp;will&nbsp;not&nbsp;be&nbsp;returned&nbsp;as&nbsp;being<br>
linked&nbsp;to&nbsp;subjobs&nbsp;(or&nbsp;vice&nbsp;versa);&nbsp;neither&nbsp;will&nbsp;subjobs<br>
that&nbsp;belong&nbsp;to&nbsp;different&nbsp;top-level&nbsp;jobs.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="extendedhistory-__init__"><strong>__init__</strong></a>(self, database, directories)</dt><dd><tt>Override&nbsp;initialisation&nbsp;of&nbsp;base&nbsp;class.<br>
&nbsp;<br>
This&nbsp;additionally&nbsp;sets&nbsp;up&nbsp;a&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;histories<br>
of&nbsp;each&nbsp;of&nbsp;the&nbsp;subjob&nbsp;databases.</tt></dd></dl>

<dl><dt><a name="extendedhistory-arelinked"><strong>arelinked</strong></a>(self, job_id1, job_id2)</dt><dd><tt>Override&nbsp;the&nbsp;test&nbsp;to&nbsp;see&nbsp;if&nbsp;two&nbsp;jobs&nbsp;are&nbsp;linked.</tt></dd></dl>

<dl><dt><a name="extendedhistory-childrenof"><strong>childrenof</strong></a>(self, job_id)</dt><dd><tt>Override&nbsp;the&nbsp;listing&nbsp;of&nbsp;child&nbsp;ids&nbsp;for&nbsp;the&nbsp;current&nbsp;job.</tt></dd></dl>

<dl><dt><a name="extendedhistory-construct"><strong>construct</strong></a>(self)</dt><dd><tt>Override&nbsp;the&nbsp;construction&nbsp;of&nbsp;the&nbsp;<a href="#history">history</a>.<br>
&nbsp;<br>
This&nbsp;additionally&nbsp;constructs&nbsp;histories&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
subjob&nbsp;databases.</tt></dd></dl>

<dl><dt><a name="extendedhistory-parentsof"><strong>parentsof</strong></a>(self, job_id)</dt><dd><tt>Override&nbsp;the&nbsp;listing&nbsp;of&nbsp;parent&nbsp;ids&nbsp;for&nbsp;the&nbsp;current&nbsp;job.</tt></dd></dl>

<hr>
Methods inherited from <a href="ccp4i.html#history">history</a>:<br>
<dl><dt><a name="extendedhistory-addlink"><strong>addlink</strong></a>(self, parent_job, child_job)</dt><dd><tt>Record&nbsp;a&nbsp;link&nbsp;between&nbsp;two&nbsp;jobs.<br>
&nbsp;<br>
This&nbsp;method&nbsp;is&nbsp;used&nbsp;when&nbsp;populating&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object;<br>
it&nbsp;creates&nbsp;a&nbsp;parent-child&nbsp;link&nbsp;between&nbsp;the&nbsp;supplied&nbsp;job&nbsp;ids<br>
'parent_job'&nbsp;and&nbsp;'child_job'.</tt></dd></dl>

<dl><dt><a name="extendedhistory-allchildrenof"><strong>allchildrenof</strong></a>(self, job_id, result_ids<font color="#909090">=[]</font>)</dt><dd><tt>Return&nbsp;list&nbsp;all&nbsp;child&nbsp;jobs&nbsp;descended&nbsp;from&nbsp;a&nbsp;specific&nbsp;job<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id'&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list&nbsp;of<br>
all&nbsp;'descendent'&nbsp;jobs,&nbsp;i.e.&nbsp;jobs&nbsp;that&nbsp;are&nbsp;immediate&nbsp;children<br>
of&nbsp;the&nbsp;specified&nbsp;job,&nbsp;plus&nbsp;jobs&nbsp;that&nbsp;are&nbsp;children&nbsp;of&nbsp;those<br>
children&nbsp;and&nbsp;so&nbsp;on.&nbsp;Essentially&nbsp;this&nbsp;returns&nbsp;the&nbsp;set&nbsp;of<br>
jobs&nbsp;descended&nbsp;from&nbsp;the&nbsp;specified&nbsp;job.<br>
&nbsp;<br>
The&nbsp;'result_ids'&nbsp;argument&nbsp;is&nbsp;used&nbsp;internally&nbsp;when&nbsp;the<br>
method&nbsp;calls&nbsp;itself&nbsp;recursively&nbsp;-&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;pass&nbsp;along<br>
and&nbsp;accumulate&nbsp;the&nbsp;results&nbsp;of&nbsp;earlier&nbsp;calls.</tt></dd></dl>

<dl><dt><a name="extendedhistory-allparentsof"><strong>allparentsof</strong></a>(self, job_id, result_ids<font color="#909090">=[]</font>)</dt><dd><tt>Return&nbsp;list&nbsp;all&nbsp;parent&nbsp;jobs&nbsp;descended&nbsp;from&nbsp;a&nbsp;specific&nbsp;job<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id'&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list&nbsp;of<br>
all&nbsp;'antecedent'&nbsp;jobs,&nbsp;i.e.&nbsp;jobs&nbsp;that&nbsp;are&nbsp;immediate&nbsp;parents<br>
of&nbsp;the&nbsp;specified&nbsp;job,&nbsp;plus&nbsp;jobs&nbsp;that&nbsp;are&nbsp;parents&nbsp;of&nbsp;those<br>
parents&nbsp;and&nbsp;so&nbsp;on.&nbsp;Essentially&nbsp;this&nbsp;returns&nbsp;the&nbsp;set&nbsp;of<br>
jobs&nbsp;that&nbsp;anteceded&nbsp;the&nbsp;specified&nbsp;job.<br>
&nbsp;<br>
The&nbsp;'result_ids'&nbsp;argument&nbsp;is&nbsp;used&nbsp;internally&nbsp;when&nbsp;the<br>
method&nbsp;calls&nbsp;itself&nbsp;recursively&nbsp;-&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;pass&nbsp;along<br>
and&nbsp;accumulate&nbsp;the&nbsp;results&nbsp;of&nbsp;earlier&nbsp;calls.</tt></dd></dl>

<dl><dt><a name="extendedhistory-infiles"><strong>infiles</strong></a>(self, job_id)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;input&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;job.<br>
&nbsp;<br>
Supplied&nbsp;with&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id',&nbsp;this&nbsp;method&nbsp;returns<br>
a&nbsp;list&nbsp;of&nbsp;the&nbsp;full&nbsp;path&nbsp;names&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;files.</tt></dd></dl>

<dl><dt><a name="extendedhistory-outfiles"><strong>outfiles</strong></a>(self, job_id)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;output&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;job.<br>
&nbsp;<br>
Supplied&nbsp;with&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id',&nbsp;this&nbsp;method&nbsp;returns<br>
a&nbsp;list&nbsp;of&nbsp;the&nbsp;full&nbsp;path&nbsp;names&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;files.</tt></dd></dl>

<dl><dt><a name="extendedhistory-update"><strong>update</strong></a>(self)</dt><dd><tt>Update&nbsp;the&nbsp;relationship&nbsp;data&nbsp;between&nbsp;jobs&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
This&nbsp;method&nbsp;updates&nbsp;descriptions&nbsp;of&nbsp;the&nbsp;relationships<br>
between&nbsp;jobs&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.&nbsp;It&nbsp;differs&nbsp;from&nbsp;the&nbsp;construct<br>
method&nbsp;in&nbsp;that&nbsp;it&nbsp;does&nbsp;not&nbsp;clear&nbsp;any&nbsp;existing&nbsp;data&nbsp;before<br>
updating.&nbsp;It&nbsp;is&nbsp;possible&nbsp;therefore&nbsp;that&nbsp;'phantom'&nbsp;links&nbsp;or<br>
jobs&nbsp;may&nbsp;persist&nbsp;between&nbsp;updates&nbsp;using&nbsp;this&nbsp;method.</tt></dd></dl>

<dl><dt><a name="extendedhistory-updatelinks"><strong>updatelinks</strong></a>(self, job_id)</dt><dd><tt>Not&nbsp;implemented.<br>
&nbsp;<br>
This&nbsp;method&nbsp;was&nbsp;intended&nbsp;to&nbsp;(re)generate&nbsp;the&nbsp;links&nbsp;associated<br>
with&nbsp;the&nbsp;specified&nbsp;job&nbsp;'job_id',&nbsp;but&nbsp;has&nbsp;not&nbsp;been&nbsp;implemented.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="history">class <strong>history</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;<a href="#database">database</a>&nbsp;<a href="#history">history</a>&nbsp;object.<br>
&nbsp;<br>
This&nbsp;class&nbsp;infers&nbsp;links&nbsp;between&nbsp;jobs&nbsp;in&nbsp;a&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;based<br>
on&nbsp;the&nbsp;names&nbsp;of&nbsp;input&nbsp;and&nbsp;output&nbsp;files,&nbsp;thereby&nbsp;generating&nbsp;a<br>
'<a href="#history">history</a>'&nbsp;for&nbsp;the&nbsp;project&nbsp;based&nbsp;on&nbsp;job&nbsp;linkage.<br>
&nbsp;<br>
Supplied&nbsp;with&nbsp;a&nbsp;loaded&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;and&nbsp;a&nbsp;loaded&nbsp;<a href="#directories">directories</a><br>
object,&nbsp;use&nbsp;the&nbsp;construct&nbsp;method&nbsp;to&nbsp;populate&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object.<br>
Use&nbsp;the&nbsp;parentsof&nbsp;and&nbsp;childrenof&nbsp;methods&nbsp;to&nbsp;return&nbsp;a&nbsp;list&nbsp;of<br>
parent/child&nbsp;job&nbsp;id&nbsp;numbers&nbsp;for&nbsp;each&nbsp;job.&nbsp;Use&nbsp;the&nbsp;update&nbsp;method<br>
to&nbsp;find&nbsp;and&nbsp;add&nbsp;new&nbsp;relationships&nbsp;for&nbsp;an&nbsp;existing&nbsp;<a href="#history">history</a>.<br>
Use&nbsp;the&nbsp;arelinked&nbsp;method&nbsp;to&nbsp;find&nbsp;out&nbsp;if&nbsp;two&nbsp;job&nbsp;ids&nbsp;are&nbsp;linked.<br>
&nbsp;<br>
A&nbsp;'parent'&nbsp;job&nbsp;is&nbsp;a&nbsp;job&nbsp;that&nbsp;has&nbsp;one&nbsp;or&nbsp;more&nbsp;output&nbsp;files&nbsp;that<br>
are&nbsp;used&nbsp;as&nbsp;input&nbsp;to&nbsp;a&nbsp;'child'&nbsp;job.&nbsp;Jobs&nbsp;are&nbsp;referenced&nbsp;using<br>
their&nbsp;job&nbsp;ids.&nbsp;Relationships&nbsp;cannot&nbsp;span&nbsp;projects&nbsp;in&nbsp;this<br>
implementation.&nbsp;This&nbsp;implementation&nbsp;also&nbsp;doesn't&nbsp;accommodate<br>
links&nbsp;between&nbsp;jobs&nbsp;that&nbsp;are&nbsp;not&nbsp;due&nbsp;to&nbsp;data&nbsp;flow&nbsp;-&nbsp;however&nbsp;in<br>
principle&nbsp;it&nbsp;would&nbsp;be&nbsp;possible&nbsp;to&nbsp;add&nbsp;arbitrary&nbsp;links&nbsp;using&nbsp;the<br>
addlink&nbsp;method.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;<a href="#history">history</a>&nbsp;object&nbsp;reflects&nbsp;the&nbsp;state<br>
of&nbsp;the&nbsp;project&nbsp;at&nbsp;the&nbsp;time&nbsp;that&nbsp;the&nbsp;construct&nbsp;method&nbsp;was<br>
invoked.&nbsp;Subsequent&nbsp;updates&nbsp;to&nbsp;the&nbsp;project&nbsp;data&nbsp;(addition&nbsp;or<br>
deletion&nbsp;of&nbsp;jobs,&nbsp;addition&nbsp;or&nbsp;removal&nbsp;of&nbsp;file&nbsp;references&nbsp;etc)<br>
will&nbsp;not&nbsp;be&nbsp;reflected&nbsp;in&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object.&nbsp;To&nbsp;circumvent<br>
this,&nbsp;either&nbsp;re-invoke&nbsp;the&nbsp;construct&nbsp;or&nbsp;update&nbsp;methods&nbsp;as<br>
required&nbsp;to&nbsp;rebuild&nbsp;the&nbsp;object&nbsp;contents.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="history-__init__"><strong>__init__</strong></a>(self, database, directories)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;<a href="#history">history</a>&nbsp;instance.<br>
&nbsp;<br>
The&nbsp;<a href="#history">history</a>&nbsp;class&nbsp;requires&nbsp;an&nbsp;open&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;(or<br>
a&nbsp;subclass)&nbsp;supplied&nbsp;via&nbsp;the&nbsp;'<a href="#database">database</a>'&nbsp;argument,&nbsp;and&nbsp;a<br>
loaded&nbsp;<a href="#directories">directories</a>&nbsp;object&nbsp;supplied&nbsp;via&nbsp;the&nbsp;'<a href="#directories">directories</a>'<br>
argument.</tt></dd></dl>

<dl><dt><a name="history-addlink"><strong>addlink</strong></a>(self, parent_job, child_job)</dt><dd><tt>Record&nbsp;a&nbsp;link&nbsp;between&nbsp;two&nbsp;jobs.<br>
&nbsp;<br>
This&nbsp;method&nbsp;is&nbsp;used&nbsp;when&nbsp;populating&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object;<br>
it&nbsp;creates&nbsp;a&nbsp;parent-child&nbsp;link&nbsp;between&nbsp;the&nbsp;supplied&nbsp;job&nbsp;ids<br>
'parent_job'&nbsp;and&nbsp;'child_job'.</tt></dd></dl>

<dl><dt><a name="history-allchildrenof"><strong>allchildrenof</strong></a>(self, job_id, result_ids<font color="#909090">=[]</font>)</dt><dd><tt>Return&nbsp;list&nbsp;all&nbsp;child&nbsp;jobs&nbsp;descended&nbsp;from&nbsp;a&nbsp;specific&nbsp;job<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id'&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list&nbsp;of<br>
all&nbsp;'descendent'&nbsp;jobs,&nbsp;i.e.&nbsp;jobs&nbsp;that&nbsp;are&nbsp;immediate&nbsp;children<br>
of&nbsp;the&nbsp;specified&nbsp;job,&nbsp;plus&nbsp;jobs&nbsp;that&nbsp;are&nbsp;children&nbsp;of&nbsp;those<br>
children&nbsp;and&nbsp;so&nbsp;on.&nbsp;Essentially&nbsp;this&nbsp;returns&nbsp;the&nbsp;set&nbsp;of<br>
jobs&nbsp;descended&nbsp;from&nbsp;the&nbsp;specified&nbsp;job.<br>
&nbsp;<br>
The&nbsp;'result_ids'&nbsp;argument&nbsp;is&nbsp;used&nbsp;internally&nbsp;when&nbsp;the<br>
method&nbsp;calls&nbsp;itself&nbsp;recursively&nbsp;-&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;pass&nbsp;along<br>
and&nbsp;accumulate&nbsp;the&nbsp;results&nbsp;of&nbsp;earlier&nbsp;calls.</tt></dd></dl>

<dl><dt><a name="history-allparentsof"><strong>allparentsof</strong></a>(self, job_id, result_ids<font color="#909090">=[]</font>)</dt><dd><tt>Return&nbsp;list&nbsp;all&nbsp;parent&nbsp;jobs&nbsp;descended&nbsp;from&nbsp;a&nbsp;specific&nbsp;job<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id'&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list&nbsp;of<br>
all&nbsp;'antecedent'&nbsp;jobs,&nbsp;i.e.&nbsp;jobs&nbsp;that&nbsp;are&nbsp;immediate&nbsp;parents<br>
of&nbsp;the&nbsp;specified&nbsp;job,&nbsp;plus&nbsp;jobs&nbsp;that&nbsp;are&nbsp;parents&nbsp;of&nbsp;those<br>
parents&nbsp;and&nbsp;so&nbsp;on.&nbsp;Essentially&nbsp;this&nbsp;returns&nbsp;the&nbsp;set&nbsp;of<br>
jobs&nbsp;that&nbsp;anteceded&nbsp;the&nbsp;specified&nbsp;job.<br>
&nbsp;<br>
The&nbsp;'result_ids'&nbsp;argument&nbsp;is&nbsp;used&nbsp;internally&nbsp;when&nbsp;the<br>
method&nbsp;calls&nbsp;itself&nbsp;recursively&nbsp;-&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;pass&nbsp;along<br>
and&nbsp;accumulate&nbsp;the&nbsp;results&nbsp;of&nbsp;earlier&nbsp;calls.</tt></dd></dl>

<dl><dt><a name="history-arelinked"><strong>arelinked</strong></a>(self, job_id1, job_id2)</dt><dd><tt>Check&nbsp;whether&nbsp;two&nbsp;jobs&nbsp;are&nbsp;linked.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;two&nbsp;jobs&nbsp;'job_id1'&nbsp;and<br>
'job_id2'&nbsp;are&nbsp;linked&nbsp;by&nbsp;a&nbsp;parent-child&nbsp;relationship&nbsp;within<br>
the&nbsp;<a href="#history">history</a>&nbsp;object,&nbsp;and&nbsp;False&nbsp;if&nbsp;not.<br>
&nbsp;<br>
The&nbsp;order&nbsp;that&nbsp;the&nbsp;job&nbsp;ids&nbsp;are&nbsp;supplied&nbsp;in&nbsp;is&nbsp;not&nbsp;important.</tt></dd></dl>

<dl><dt><a name="history-childrenof"><strong>childrenof</strong></a>(self, job_id)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;child&nbsp;jobs&nbsp;for&nbsp;a&nbsp;specific&nbsp;job.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id',&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list<br>
of&nbsp;the&nbsp;child&nbsp;job&nbsp;ids&nbsp;linked&nbsp;within&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;IndexError&nbsp;if&nbsp;the&nbsp;job&nbsp;is&nbsp;not&nbsp;found.</tt></dd></dl>

<dl><dt><a name="history-construct"><strong>construct</strong></a>(self)</dt><dd><tt>Initialise&nbsp;the&nbsp;relationship&nbsp;data&nbsp;between&nbsp;jobs&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
This&nbsp;method&nbsp;constructs&nbsp;descriptions&nbsp;of&nbsp;the&nbsp;relationships<br>
between&nbsp;jobs&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.&nbsp;It&nbsp;must&nbsp;be&nbsp;invoked&nbsp;before<br>
querying&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object.<br>
&nbsp;<br>
The&nbsp;construct&nbsp;method&nbsp;erases&nbsp;any&nbsp;existing&nbsp;data&nbsp;before&nbsp;building<br>
the&nbsp;relationships&nbsp;from&nbsp;scratch.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object&nbsp;only&nbsp;reflects&nbsp;the&nbsp;state&nbsp;of&nbsp;the<br>
project&nbsp;at&nbsp;the&nbsp;time&nbsp;that&nbsp;the&nbsp;construct&nbsp;method&nbsp;was&nbsp;last<br>
invoked.&nbsp;It&nbsp;is&nbsp;therefore&nbsp;necessary&nbsp;to&nbsp;either&nbsp;the&nbsp;reinvoke&nbsp;the<br>
construct&nbsp;method&nbsp;to&nbsp;rebuild&nbsp;the&nbsp;relationship&nbsp;data&nbsp;from&nbsp;scratch<br>
or&nbsp;to&nbsp;invoke&nbsp;the&nbsp;update&nbsp;method,&nbsp;if&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;project<br>
<a href="#database">database</a>&nbsp;(and&nbsp;possibly&nbsp;the&nbsp;<a href="#directories">directories</a>&nbsp;object)&nbsp;are&nbsp;updated.<br>
&nbsp;<br>
In&nbsp;the&nbsp;current&nbsp;implementation&nbsp;there&nbsp;is&nbsp;little&nbsp;practical<br>
difference&nbsp;between&nbsp;the&nbsp;construct&nbsp;and&nbsp;update&nbsp;methods.</tt></dd></dl>

<dl><dt><a name="history-infiles"><strong>infiles</strong></a>(self, job_id)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;input&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;job.<br>
&nbsp;<br>
Supplied&nbsp;with&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id',&nbsp;this&nbsp;method&nbsp;returns<br>
a&nbsp;list&nbsp;of&nbsp;the&nbsp;full&nbsp;path&nbsp;names&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;files.</tt></dd></dl>

<dl><dt><a name="history-outfiles"><strong>outfiles</strong></a>(self, job_id)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;output&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;job.<br>
&nbsp;<br>
Supplied&nbsp;with&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id',&nbsp;this&nbsp;method&nbsp;returns<br>
a&nbsp;list&nbsp;of&nbsp;the&nbsp;full&nbsp;path&nbsp;names&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;files.</tt></dd></dl>

<dl><dt><a name="history-parentsof"><strong>parentsof</strong></a>(self, job_id)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;parent&nbsp;jobs&nbsp;for&nbsp;a&nbsp;specific&nbsp;job.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;number&nbsp;'job_id',&nbsp;this&nbsp;method&nbsp;returns&nbsp;a&nbsp;list<br>
of&nbsp;the&nbsp;parent&nbsp;job&nbsp;ids&nbsp;linked&nbsp;within&nbsp;the&nbsp;<a href="#history">history</a>&nbsp;object.<br>
&nbsp;<br>
Raises&nbsp;an&nbsp;IndexError&nbsp;if&nbsp;the&nbsp;job&nbsp;is&nbsp;not&nbsp;found.</tt></dd></dl>

<dl><dt><a name="history-update"><strong>update</strong></a>(self)</dt><dd><tt>Update&nbsp;the&nbsp;relationship&nbsp;data&nbsp;between&nbsp;jobs&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
This&nbsp;method&nbsp;updates&nbsp;descriptions&nbsp;of&nbsp;the&nbsp;relationships<br>
between&nbsp;jobs&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.&nbsp;It&nbsp;differs&nbsp;from&nbsp;the&nbsp;construct<br>
method&nbsp;in&nbsp;that&nbsp;it&nbsp;does&nbsp;not&nbsp;clear&nbsp;any&nbsp;existing&nbsp;data&nbsp;before<br>
updating.&nbsp;It&nbsp;is&nbsp;possible&nbsp;therefore&nbsp;that&nbsp;'phantom'&nbsp;links&nbsp;or<br>
jobs&nbsp;may&nbsp;persist&nbsp;between&nbsp;updates&nbsp;using&nbsp;this&nbsp;method.</tt></dd></dl>

<dl><dt><a name="history-updatelinks"><strong>updatelinks</strong></a>(self, job_id)</dt><dd><tt>Not&nbsp;implemented.<br>
&nbsp;<br>
This&nbsp;method&nbsp;was&nbsp;intended&nbsp;to&nbsp;(re)generate&nbsp;the&nbsp;links&nbsp;associated<br>
with&nbsp;the&nbsp;specified&nbsp;job&nbsp;'job_id',&nbsp;but&nbsp;has&nbsp;not&nbsp;been&nbsp;implemented.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="lockfile">class <strong>lockfile</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;lock&nbsp;file&nbsp;class.<br>
&nbsp;<br>
This&nbsp;class&nbsp;provides&nbsp;methods&nbsp;for&nbsp;creating&nbsp;and&nbsp;manipulating&nbsp;lock<br>
files&nbsp;associated&nbsp;with&nbsp;arbitrary&nbsp;files&nbsp;within&nbsp;CCP4i.<br>
&nbsp;<br>
The&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;manages&nbsp;a&nbsp;lock&nbsp;file&nbsp;associated&nbsp;with&nbsp;the<br>
the&nbsp;resource&nbsp;file&nbsp;that&nbsp;is&nbsp;specified&nbsp;on&nbsp;instantiation.&nbsp;The<br>
<a href="#lockfile">lockfile</a>&nbsp;name&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;that&nbsp;of&nbsp;the&nbsp;resource&nbsp;file,&nbsp;with<br>
the&nbsp;extension&nbsp;'.LOCK'&nbsp;appended&nbsp;to&nbsp;it.&nbsp;The&nbsp;class&nbsp;provides<br>
methods&nbsp;to&nbsp;set&nbsp;up,&nbsp;check&nbsp;and&nbsp;remove&nbsp;the&nbsp;associated&nbsp;lock&nbsp;file.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="lockfile-__init__"><strong>__init__</strong></a>(self, filen, resource_desc<font color="#909090">=''</font>)</dt><dd><tt>Instantiate&nbsp;a&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object.<br>
&nbsp;<br>
A&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;is&nbsp;associated&nbsp;with&nbsp;the&nbsp;file&nbsp;supplied<br>
by&nbsp;the&nbsp;'filen'&nbsp;argument&nbsp;-&nbsp;the&nbsp;resource.&nbsp;By&nbsp;default&nbsp;the<br>
'resource&nbsp;description'&nbsp;is&nbsp;taken&nbsp;as&nbsp;the&nbsp;filename&nbsp;with<br>
any&nbsp;leading&nbsp;path&nbsp;stripped&nbsp;off,&nbsp;but&nbsp;this&nbsp;can&nbsp;be&nbsp;overriden<br>
by&nbsp;supplying&nbsp;a&nbsp;description&nbsp;string&nbsp;via&nbsp;the&nbsp;'resource_desc'<br>
argument.</tt></dd></dl>

<dl><dt><a name="lockfile-filename"><strong>filename</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#lockfile">lockfile</a>&nbsp;name&nbsp;(including&nbsp;the&nbsp;path).</tt></dd></dl>

<dl><dt><a name="lockfile-haslock"><strong>haslock</strong></a>(self)</dt><dd><tt>Check&nbsp;whether&nbsp;the&nbsp;resource&nbsp;is&nbsp;locked&nbsp;by&nbsp;this&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;provided&nbsp;that&nbsp;the&nbsp;resource&nbsp;is<br>
locked&nbsp;(i.e.&nbsp;a&nbsp;physical&nbsp;lock&nbsp;file&nbsp;exists)&nbsp;and&nbsp;that&nbsp;the<br>
the&nbsp;lock&nbsp;file&nbsp;was&nbsp;created&nbsp;by&nbsp;this&nbsp;instance&nbsp;of&nbsp;the&nbsp;<a href="#lockfile">lockfile</a><br>
class.&nbsp;If&nbsp;either&nbsp;condition&nbsp;is&nbsp;not&nbsp;satisfied&nbsp;then&nbsp;the<br>
method&nbsp;returns&nbsp;False.</tt></dd></dl>

<dl><dt><a name="lockfile-islocked"><strong>islocked</strong></a>(self)</dt><dd><tt>Check&nbsp;whether&nbsp;the&nbsp;resource&nbsp;is&nbsp;locked.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;resource&nbsp;file&nbsp;that&nbsp;the<br>
<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;is&nbsp;associated&nbsp;with&nbsp;is&nbsp;'locked'&nbsp;(that&nbsp;is,<br>
a&nbsp;physical&nbsp;lock&nbsp;file&nbsp;exists),&nbsp;and&nbsp;False&nbsp;if&nbsp;it&nbsp;is&nbsp;not<br>
locked.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;it&nbsp;is&nbsp;possible&nbsp;for&nbsp;the&nbsp;resource&nbsp;to&nbsp;be&nbsp;locked<br>
but&nbsp;for&nbsp;the&nbsp;lock&nbsp;to&nbsp;be&nbsp;owned&nbsp;by&nbsp;a&nbsp;different&nbsp;<a href="#lockfile">lockfile</a><br>
instance&nbsp;-&nbsp;in&nbsp;this&nbsp;case,&nbsp;'islocked'&nbsp;will&nbsp;still&nbsp;indicate<br>
that&nbsp;the&nbsp;resource&nbsp;is&nbsp;locked.&nbsp;Use&nbsp;the&nbsp;'haslock'&nbsp;method&nbsp;to<br>
check&nbsp;if&nbsp;the&nbsp;resource&nbsp;is&nbsp;actually&nbsp;locked&nbsp;by&nbsp;this<br>
instance&nbsp;of&nbsp;the&nbsp;<a href="#lockfile">lockfile</a>&nbsp;class.</tt></dd></dl>

<dl><dt><a name="lockfile-lock"><strong>lock</strong></a>(self)</dt><dd><tt>Lock&nbsp;the&nbsp;file&nbsp;resource.<br>
&nbsp;<br>
Attempts&nbsp;to&nbsp;create&nbsp;the&nbsp;physical&nbsp;lock&nbsp;file&nbsp;associated&nbsp;with<br>
the&nbsp;resource.&nbsp;This&nbsp;will&nbsp;fail&nbsp;is&nbsp;the&nbsp;resource&nbsp;is&nbsp;already<br>
locked&nbsp;(by&nbsp;any&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object,&nbsp;not&nbsp;necessarily&nbsp;only&nbsp;this<br>
one).&nbsp;Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;lock&nbsp;is&nbsp;successfully&nbsp;created,<br>
False&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;failure.</tt></dd></dl>

<dl><dt><a name="lockfile-resource"><strong>resource</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;resource&nbsp;(i.e.&nbsp;file)&nbsp;being&nbsp;locked.</tt></dd></dl>

<dl><dt><a name="lockfile-unlock"><strong>unlock</strong></a>(self, force<font color="#909090">=False</font>)</dt><dd><tt>Unlock&nbsp;a&nbsp;file&nbsp;resource.<br>
&nbsp;<br>
This&nbsp;method&nbsp;attempts&nbsp;to&nbsp;unlock&nbsp;a&nbsp;file&nbsp;resource&nbsp;that&nbsp;was<br>
previously&nbsp;locked,&nbsp;by&nbsp;removing&nbsp;the&nbsp;physical&nbsp;lock&nbsp;file.<br>
&nbsp;<br>
The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;resource&nbsp;is&nbsp;not&nbsp;currently<br>
locked,&nbsp;or&nbsp;if&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;resource&nbsp;belongs&nbsp;to&nbsp;a<br>
different&nbsp;<a href="#lockfile">lockfile</a>&nbsp;object&nbsp;-&nbsp;in&nbsp;this&nbsp;second&nbsp;case,&nbsp;the<br>
setting&nbsp;the&nbsp;'force'&nbsp;to&nbsp;True&nbsp;forces&nbsp;the&nbsp;removal&nbsp;of&nbsp;the<br>
lock&nbsp;file&nbsp;regardless&nbsp;of&nbsp;ownership.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;successful&nbsp;removal&nbsp;of&nbsp;the<br>
lock&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="projectDB">class <strong>projectDB</strong></a>(<a href="ccp4i.html#database">database</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;class.<br>
&nbsp;<br>
This&nbsp;extends&nbsp;the&nbsp;base&nbsp;'<a href="#database">database</a>'&nbsp;class&nbsp;to&nbsp;allow&nbsp;subjobs&nbsp;to<br>
be&nbsp;defined&nbsp;and&nbsp;manipulated.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;same&nbsp;arguments<br>
on&nbsp;instantiation&nbsp;as&nbsp;the&nbsp;parent&nbsp;class.<br>
&nbsp;<br>
Subjob&nbsp;databases&nbsp;are&nbsp;opened&nbsp;in&nbsp;a&nbsp;'lazy'&nbsp;fashion&nbsp;i.e.&nbsp;only<br>
when&nbsp;they&nbsp;are&nbsp;needed.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="projectDB-__init__"><strong>__init__</strong></a>(self, project, directory, interval<font color="#909090">=0</font>)</dt><dd><tt>Initialise&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.</tt></dd></dl>

<dl><dt><a name="projectDB-addfile"><strong>addfile</strong></a>(self, jobid, ftype, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
Over-ride&nbsp;the&nbsp;'addfile'&nbsp;method&nbsp;of&nbsp;the&nbsp;parent&nbsp;class<br>
in&nbsp;order&nbsp;to&nbsp;also&nbsp;deal&nbsp;with&nbsp;subjobs.</tt></dd></dl>

<dl><dt><a name="projectDB-addsubjob"><strong>addsubjob</strong></a>(self, job, taskname, title, status<font color="#909090">='STARTING'</font>)</dt><dd><tt>Add&nbsp;a&nbsp;subjob&nbsp;to&nbsp;a&nbsp;job&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
If&nbsp;this&nbsp;is&nbsp;the&nbsp;first&nbsp;subjob&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;job,<br>
then&nbsp;a&nbsp;new&nbsp;subjob&nbsp;<a href="#database">database</a>&nbsp;will&nbsp;be&nbsp;created&nbsp;first.<br>
The&nbsp;id&nbsp;number&nbsp;of&nbsp;the&nbsp;subjob&nbsp;will&nbsp;be&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="projectDB-buildjobid"><strong>buildjobid</strong></a>(self, job, subjob<font color="#909090">=None</font>)</dt><dd><tt>Build&nbsp;a&nbsp;single&nbsp;job&nbsp;id&nbsp;given&nbsp;the&nbsp;job&nbsp;and&nbsp;subjob&nbsp;components.<br>
&nbsp;<br>
This&nbsp;is&nbsp;a&nbsp;wrapper&nbsp;for&nbsp;the&nbsp;'MakeJobid'&nbsp;function.</tt></dd></dl>

<dl><dt><a name="projectDB-close"><strong>close</strong></a>(self)</dt><dd><tt>Close&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
This&nbsp;extends&nbsp;the&nbsp;'close'&nbsp;method&nbsp;of&nbsp;the&nbsp;base&nbsp;class,<br>
by&nbsp;also&nbsp;closing&nbsp;all&nbsp;the&nbsp;opened&nbsp;subjob&nbsp;databases.</tt></dd></dl>

<dl><dt><a name="projectDB-deletejob"><strong>deletejob</strong></a>(self, jobid)</dt><dd><tt>Delete&nbsp;a&nbsp;subjob&nbsp;from&nbsp;a&nbsp;job&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Over-ride&nbsp;the&nbsp;'deletejob'&nbsp;method&nbsp;of&nbsp;the&nbsp;parent&nbsp;class.<br>
'jobid'&nbsp;can&nbsp;be&nbsp;a&nbsp;job&nbsp;or&nbsp;subjob&nbsp;identifier.</tt></dd></dl>

<dl><dt><a name="projectDB-describejob"><strong>describejob</strong></a>(self, jobid, itemlist, formatlist)</dt><dd><tt>Return&nbsp;a&nbsp;formatted&nbsp;string&nbsp;populated&nbsp;with&nbsp;job&nbsp;data.<br>
&nbsp;<br>
This&nbsp;over-rides&nbsp;the&nbsp;method&nbsp;in&nbsp;the&nbsp;base&nbsp;class&nbsp;in&nbsp;order<br>
to&nbsp;be&nbsp;able&nbsp;to&nbsp;also&nbsp;deal&nbsp;with&nbsp;subjobs.</tt></dd></dl>

<dl><dt><a name="projectDB-getdata"><strong>getdata</strong></a>(self, jobid, item)</dt><dd><tt>Retrieve&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;stored&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;over-rides&nbsp;the&nbsp;'getdata'&nbsp;method&nbsp;in&nbsp;the&nbsp;parent&nbsp;class.<br>
'job'&nbsp;can&nbsp;be&nbsp;either&nbsp;an&nbsp;id&nbsp;for&nbsp;a&nbsp;job&nbsp;in&nbsp;the&nbsp;main&nbsp;<a href="#database">database</a>,<br>
or&nbsp;for&nbsp;a&nbsp;subjob.</tt></dd></dl>

<dl><dt><a name="projectDB-getsubjobdb"><strong>getsubjobdb</strong></a>(self, job)</dt><dd><tt>Return&nbsp;an&nbsp;existing&nbsp;<a href="#subjobDB">subjobDB</a>&nbsp;object&nbsp;associated&nbsp;with&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;returns&nbsp;a&nbsp;<a href="#subjobDB">subjobDB</a>&nbsp;object&nbsp;associated&nbsp;with&nbsp;a&nbsp;job<br>
id,&nbsp;or&nbsp;'False'&nbsp;if&nbsp;a&nbsp;subjob&nbsp;<a href="#database">database</a>&nbsp;doesn't&nbsp;already<br>
exist&nbsp;for&nbsp;the&nbsp;specified&nbsp;job.</tt></dd></dl>

<dl><dt><a name="projectDB-has_subjobs"><strong>has_subjobs</strong></a>(self, job)</dt><dd><tt>Check&nbsp;if&nbsp;a&nbsp;job&nbsp;currently&nbsp;has&nbsp;subjobs&nbsp;defined.</tt></dd></dl>

<dl><dt><a name="projectDB-hasjob"><strong>hasjob</strong></a>(self, jobid)</dt><dd><tt>Checks&nbsp;if&nbsp;a&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;exists&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;id,&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;contains&nbsp;a&nbsp;job<br>
with&nbsp;that&nbsp;id&nbsp;and&nbsp;False&nbsp;if&nbsp;not.<br>
&nbsp;<br>
Overrides&nbsp;the&nbsp;version&nbsp;in&nbsp;the&nbsp;parent&nbsp;class.</tt></dd></dl>

<dl><dt><a name="projectDB-itemexists"><strong>itemexists</strong></a>(self, jobid, item)</dt><dd><tt>Check&nbsp;for&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;for&nbsp;a&nbsp;particular&nbsp;job.<br>
&nbsp;<br>
This&nbsp;over-rides&nbsp;the&nbsp;'itemexists'&nbsp;method&nbsp;in&nbsp;the&nbsp;parent&nbsp;class.<br>
'jobid'&nbsp;can&nbsp;be&nbsp;either&nbsp;an&nbsp;id&nbsp;for&nbsp;a&nbsp;job&nbsp;in&nbsp;the&nbsp;main&nbsp;<a href="#database">database</a>,<br>
or&nbsp;for&nbsp;a&nbsp;subjob.</tt></dd></dl>

<dl><dt><a name="projectDB-listjobs"><strong>listjobs</strong></a>(self, jobid<font color="#909090">=None</font>)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;or&nbsp;subjobs.<br>
&nbsp;<br>
Over-ride&nbsp;the&nbsp;'listjob'&nbsp;method&nbsp;of&nbsp;the&nbsp;parent&nbsp;class.<br>
If&nbsp;no&nbsp;jobid&nbsp;is&nbsp;supplied&nbsp;then&nbsp;return&nbsp;the&nbsp;list&nbsp;of&nbsp;top-level<br>
jobs&nbsp;in&nbsp;the&nbsp;project;&nbsp;if&nbsp;a&nbsp;jobid&nbsp;is&nbsp;supplied&nbsp;for&nbsp;a&nbsp;top-level<br>
job&nbsp;then&nbsp;return&nbsp;the&nbsp;list&nbsp;of&nbsp;associated&nbsp;subjobs.</tt></dd></dl>

<dl><dt><a name="projectDB-listjobs_withsubjobs"><strong>listjobs_withsubjobs</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;jobs&nbsp;which&nbsp;also&nbsp;have&nbsp;subjobs.<br>
&nbsp;<br>
This&nbsp;could&nbsp;be&nbsp;quite&nbsp;slow&nbsp;for&nbsp;large&nbsp;projects&nbsp;since&nbsp;it<br>
attempts&nbsp;to&nbsp;open&nbsp;subjob&nbsp;databases&nbsp;for&nbsp;every&nbsp;job,&nbsp;to<br>
test&nbsp;for&nbsp;their&nbsp;existence.<br>
Possibly&nbsp;the&nbsp;<a href="#projectDB">projectDB</a>&nbsp;object&nbsp;could&nbsp;keep&nbsp;track&nbsp;of&nbsp;the<br>
subjob&nbsp;data&nbsp;internally&nbsp;to&nbsp;speed&nbsp;this&nbsp;up&nbsp;in&nbsp;future.</tt></dd></dl>

<dl><dt><a name="projectDB-opensubjobdb"><strong>opensubjobdb</strong></a>(self, job, create<font color="#909090">=True</font>)</dt><dd><tt>Open&nbsp;a&nbsp;subjob&nbsp;<a href="#database">database</a>&nbsp;for&nbsp;the&nbsp;specified&nbsp;job&nbsp;id.<br>
&nbsp;<br>
Returns&nbsp;an&nbsp;open&nbsp;<a href="#subjobDB">subjobDB</a>&nbsp;object,&nbsp;or&nbsp;'False'&nbsp;if&nbsp;no<br>
subjob&nbsp;could&nbsp;be&nbsp;opened.<br>
&nbsp;<br>
If&nbsp;the&nbsp;'create'&nbsp;argument&nbsp;is&nbsp;True&nbsp;then&nbsp;if&nbsp;the&nbsp;subjob<br>
<a href="#database">database</a>&nbsp;does&nbsp;exist&nbsp;in&nbsp;the&nbsp;file&nbsp;system&nbsp;then&nbsp;a&nbsp;new<br>
subjob&nbsp;<a href="#database">database</a>&nbsp;will&nbsp;be&nbsp;created&nbsp;(this&nbsp;is&nbsp;the&nbsp;default).<br>
To&nbsp;avoid&nbsp;this&nbsp;set&nbsp;the&nbsp;'create'&nbsp;argument&nbsp;to&nbsp;False.</tt></dd></dl>

<dl><dt><a name="projectDB-removefile"><strong>removefile</strong></a>(self, jobid, ftype, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job&nbsp;or&nbsp;subjob.<br>
&nbsp;<br>
Over-ride&nbsp;the&nbsp;'addfile'&nbsp;method&nbsp;of&nbsp;the&nbsp;parent&nbsp;class<br>
in&nbsp;order&nbsp;to&nbsp;also&nbsp;deal&nbsp;with&nbsp;subjobs.</tt></dd></dl>

<dl><dt><a name="projectDB-save"><strong>save</strong></a>(self)</dt><dd><tt>Save&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;to&nbsp;file.<br>
&nbsp;<br>
This&nbsp;extends&nbsp;the&nbsp;'save'&nbsp;method&nbsp;of&nbsp;the&nbsp;base&nbsp;class,&nbsp;by<br>
also&nbsp;performing&nbsp;save&nbsp;operations&nbsp;on&nbsp;all&nbsp;of&nbsp;the&nbsp;opened<br>
subjob&nbsp;databases.</tt></dd></dl>

<dl><dt><a name="projectDB-selectsubjobs"><strong>selectsubjobs</strong></a>(self, job, item, pattern)</dt><dd><tt>Retrieve&nbsp;a&nbsp;list&nbsp;of&nbsp;subjobs&nbsp;based&nbsp;on&nbsp;some&nbsp;selection&nbsp;criterion.</tt></dd></dl>

<dl><dt><a name="projectDB-setdata"><strong>setdata</strong></a>(self, jobid, item, value)</dt><dd><tt>Set&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;for&nbsp;the&nbsp;specified&nbsp;job&nbsp;or&nbsp;subjob.<br>
&nbsp;<br>
This&nbsp;over-rides&nbsp;the&nbsp;'setdata'&nbsp;method&nbsp;in&nbsp;the&nbsp;parent&nbsp;class.<br>
'jobid'&nbsp;can&nbsp;be&nbsp;either&nbsp;an&nbsp;id&nbsp;for&nbsp;a&nbsp;job&nbsp;in&nbsp;the&nbsp;main&nbsp;<a href="#database">database</a>,<br>
or&nbsp;for&nbsp;a&nbsp;subjob.</tt></dd></dl>

<dl><dt><a name="projectDB-splitjobid"><strong>splitjobid</strong></a>(self, jobid)</dt><dd><tt>Split&nbsp;a&nbsp;job&nbsp;id&nbsp;into&nbsp;job&nbsp;and&nbsp;subjob&nbsp;components.<br>
&nbsp;<br>
This&nbsp;is&nbsp;a&nbsp;wrapper&nbsp;for&nbsp;the&nbsp;'SplitJobid'&nbsp;function.</tt></dd></dl>

<hr>
Methods inherited from <a href="ccp4i.html#database">database</a>:<br>
<dl><dt><a name="projectDB-__del__"><strong>__del__</strong></a>(self)</dt><dd><tt>del(project)<br>
&nbsp;<br>
Saves&nbsp;data,&nbsp;releases&nbsp;lock&nbsp;and&nbsp;deletes&nbsp;the&nbsp;object.</tt></dd></dl>

<dl><dt><a name="projectDB-__len__"><strong>__len__</strong></a>(self)</dt><dd><tt>len(project)<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;jobs&nbsp;stored&nbsp;in&nbsp;the&nbsp;project,&nbsp;or<br>
zero&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="projectDB-__nonzero__"><strong>__nonzero__</strong></a>(self)</dt><dd><tt>Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;loaded,&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="projectDB-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;project&nbsp;name.</tt></dd></dl>

<dl><dt><a name="projectDB-addinputfile"><strong>addinputfile</strong></a>(self, job, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;function&nbsp;wraps&nbsp;the&nbsp;addfile&nbsp;method:&nbsp;'job'&nbsp;is&nbsp;a<br>
job&nbsp;number,&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;'filename'<br>
is&nbsp;an&nbsp;absolute&nbsp;or&nbsp;relative&nbsp;path,&nbsp;and&nbsp;'alias'&nbsp;is&nbsp;an<br>
optional&nbsp;project&nbsp;name&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;ignored.<br>
&nbsp;<br>
The&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="projectDB-addoutputfile"><strong>addoutputfile</strong></a>(self, job, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;function&nbsp;wraps&nbsp;the&nbsp;addfile&nbsp;method:&nbsp;'job'&nbsp;is&nbsp;a<br>
job&nbsp;number,&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;'filename'<br>
is&nbsp;an&nbsp;absolute&nbsp;or&nbsp;relative&nbsp;path,&nbsp;and&nbsp;'alias'&nbsp;is&nbsp;an<br>
optional&nbsp;project&nbsp;name&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;ignored.<br>
&nbsp;<br>
The&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="projectDB-auto_refresh"><strong>auto_refresh</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
The&nbsp;'auto_refresh'&nbsp;feature&nbsp;means&nbsp;that&nbsp;read&nbsp;attempts&nbsp;on&nbsp;a<br>
'stale'&nbsp;<a href="#database">database</a>&nbsp;automatically&nbsp;cause&nbsp;the&nbsp;data&nbsp;to&nbsp;be<br>
refreshed&nbsp;from&nbsp;file&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;See&nbsp;the<br>
set_auto_refresh&nbsp;method&nbsp;for&nbsp;more&nbsp;information.</tt></dd></dl>

<dl><dt><a name="projectDB-create"><strong>create</strong></a>(self)</dt><dd><tt>Make&nbsp;a&nbsp;new&nbsp;project.<br>
&nbsp;<br>
Creating&nbsp;a&nbsp;new&nbsp;project&nbsp;includes&nbsp;creating&nbsp;the&nbsp;project&nbsp;directory<br>
(if&nbsp;it&nbsp;doesn't&nbsp;already&nbsp;exist),&nbsp;and&nbsp;creating&nbsp;the&nbsp;<a href="#database">database</a><br>
subdirectory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file.&nbsp;The&nbsp;project&nbsp;is&nbsp;then&nbsp;opened<br>
and&nbsp;the&nbsp;project&nbsp;object&nbsp;is&nbsp;returned.<br>
The&nbsp;create&nbsp;operation&nbsp;will&nbsp;fail&nbsp;(returning&nbsp;False)&nbsp;if&nbsp;the&nbsp;project<br>
already&nbsp;exists.</tt></dd></dl>

<dl><dt><a name="projectDB-describe"><strong>describe</strong></a>(self, joblist, itemlist, formatlist)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;formatted&nbsp;strings&nbsp;populated&nbsp;with&nbsp;job&nbsp;data.<br>
&nbsp;<br>
For&nbsp;each&nbsp;job&nbsp;id&nbsp;number&nbsp;in&nbsp;the&nbsp;joblist,&nbsp;the&nbsp;describe&nbsp;method<br>
retrieves&nbsp;the&nbsp;values&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;in&nbsp;the&nbsp;itemlist<br>
and&nbsp;creates&nbsp;a&nbsp;description&nbsp;string&nbsp;by&nbsp;placing&nbsp;those&nbsp;values&nbsp;into<br>
fields&nbsp;with&nbsp;character&nbsp;widths&nbsp;supplied&nbsp;in&nbsp;the&nbsp;formatlist.<br>
It&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;these&nbsp;strings,&nbsp;with&nbsp;one&nbsp;list&nbsp;item&nbsp;per&nbsp;job.<br>
Allowed&nbsp;data&nbsp;items&nbsp;can&nbsp;be&nbsp;any&nbsp;stored&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a><br>
plus&nbsp;JOB_ID&nbsp;(the&nbsp;id&nbsp;number&nbsp;of&nbsp;the&nbsp;job),&nbsp;which&nbsp;is&nbsp;an&nbsp;implicit<br>
data&nbsp;item.</tt></dd></dl>

<dl><dt><a name="projectDB-exists"><strong>exists</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;the&nbsp;project&nbsp;exists.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;directory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;both<br>
exist,&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="projectDB-getDbFile"><strong>getDbFile</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;for&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="projectDB-getDbItems"><strong>getDbItems</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;stored&nbsp;for&nbsp;all&nbsp;jobs.</tt></dd></dl>

<dl><dt><a name="projectDB-getDbdir"><strong>getDbdir</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;of&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="projectDB-getProjectname"><strong>getProjectname</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="projectDB-getmessage"><strong>getmessage</strong></a>(self)</dt><dd><tt>Retrieve&nbsp;last&nbsp;internal&nbsp;error&nbsp;message.<br>
&nbsp;<br>
If&nbsp;an&nbsp;operation&nbsp;fails&nbsp;then&nbsp;the&nbsp;client&nbsp;application&nbsp;can<br>
access&nbsp;the&nbsp;last&nbsp;error&nbsp;message&nbsp;using&nbsp;this&nbsp;method.&nbsp;Invoking<br>
getmessage&nbsp;clears&nbsp;the&nbsp;error&nbsp;message.</tt></dd></dl>

<dl><dt><a name="projectDB-haslock"><strong>haslock</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;is&nbsp;locked&nbsp;by&nbsp;this&nbsp;process.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;has&nbsp;a&nbsp;<a href="#lockfile">lockfile</a><br>
owned&nbsp;by&nbsp;this&nbsp;process,&nbsp;and&nbsp;False&nbsp;otherwise.<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;after&nbsp;a&nbsp;specified&nbsp;time&nbsp;interval,<br>
in&nbsp;between&nbsp;the&nbsp;value&nbsp;is&nbsp;cached.&nbsp;Set&nbsp;the&nbsp;time&nbsp;interval&nbsp;to<br>
0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="projectDB-isloaded"><strong>isloaded</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;data&nbsp;has&nbsp;been&nbsp;loaded.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;populated&nbsp;from<br>
the&nbsp;file&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="projectDB-islocked"><strong>islocked</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;is&nbsp;locked.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;has&nbsp;a&nbsp;<a href="#lockfile">lockfile</a><br>
from&nbsp;any&nbsp;process,&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="projectDB-isreadable"><strong>isreadable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;get&nbsp;data&nbsp;from&nbsp;the&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;loaded,<br>
and&nbsp;has&nbsp;data&nbsp;that&nbsp;is&nbsp;at&nbsp;least&nbsp;as&nbsp;recent&nbsp;as&nbsp;the&nbsp;persistent<br>
storage&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="projectDB-isstale"><strong>isstale</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;is&nbsp;older&nbsp;than&nbsp;on&nbsp;disk.<br>
&nbsp;<br>
Return&nbsp;True&nbsp;if&nbsp;the&nbsp;modification&nbsp;time&nbsp;of&nbsp;the&nbsp;resource<br>
file&nbsp;is&nbsp;more&nbsp;recent&nbsp;than&nbsp;the&nbsp;last&nbsp;save.<br>
If&nbsp;so&nbsp;then&nbsp;this&nbsp;suggests&nbsp;that&nbsp;the&nbsp;data&nbsp;in&nbsp;this&nbsp;object&nbsp;may<br>
not&nbsp;accurately&nbsp;mirror&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;persistent<br>
storage.<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;after&nbsp;a&nbsp;specified&nbsp;time&nbsp;interval,<br>
in&nbsp;between&nbsp;the&nbsp;value&nbsp;is&nbsp;cached.&nbsp;Set&nbsp;the&nbsp;time&nbsp;interval&nbsp;to<br>
0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="projectDB-iswriteable"><strong>iswriteable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;modify&nbsp;and&nbsp;save&nbsp;the&nbsp;data.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;loaded,&nbsp;owns<br>
the&nbsp;lock&nbsp;on&nbsp;the&nbsp;persistent&nbsp;storage&nbsp;on&nbsp;disk,&nbsp;and&nbsp;has&nbsp;data<br>
that&nbsp;is&nbsp;at&nbsp;least&nbsp;as&nbsp;recent&nbsp;as&nbsp;the&nbsp;persistent&nbsp;storage.</tt></dd></dl>

<dl><dt><a name="projectDB-listfiles"><strong>listfiles</strong></a>(self, job, ftype, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;list&nbsp;should&nbsp;be&nbsp;the&nbsp;associated&nbsp;'input'&nbsp;or<br>
'output'&nbsp;files.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="projectDB-listinputfiles"><strong>listinputfiles</strong></a>(self, job, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number,'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="projectDB-listoutputfiles"><strong>listoutputfiles</strong></a>(self, job, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number,'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="projectDB-newjob"><strong>newjob</strong></a>(self, taskname<font color="#909090">=''</font>, status<font color="#909090">='STARTING'</font>, title<font color="#909090">=''</font>)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;job&nbsp;record&nbsp;in&nbsp;the&nbsp;project.<br>
&nbsp;<br>
Creates&nbsp;a&nbsp;new&nbsp;entry&nbsp;in&nbsp;the&nbsp;current&nbsp;project&nbsp;with&nbsp;the&nbsp;current&nbsp;date<br>
and&nbsp;returns&nbsp;the&nbsp;id&nbsp;number&nbsp;for&nbsp;the&nbsp;new&nbsp;job.&nbsp;Optionally&nbsp;the<br>
taskname&nbsp;(TASKNAME&nbsp;data&nbsp;item),&nbsp;the&nbsp;status&nbsp;(STATUS&nbsp;item)&nbsp;and/or<br>
title&nbsp;(TITLE&nbsp;item)&nbsp;may&nbsp;also&nbsp;be&nbsp;set&nbsp;when&nbsp;the&nbsp;job&nbsp;is&nbsp;created.<br>
&nbsp;<br>
If&nbsp;no&nbsp;taskname&nbsp;is&nbsp;specified&nbsp;then&nbsp;it&nbsp;is&nbsp;set&nbsp;to&nbsp;'none',&nbsp;if&nbsp;no&nbsp;status<br>
is&nbsp;specified&nbsp;then&nbsp;it&nbsp;is&nbsp;set&nbsp;to&nbsp;'STARTING'.&nbsp;(Note&nbsp;that&nbsp;blank&nbsp;values<br>
of&nbsp;the&nbsp;taskname&nbsp;can&nbsp;crash&nbsp;CCP4i&nbsp;and&nbsp;cause&nbsp;corruption&nbsp;of&nbsp;the<br>
<a href="#database">database</a>.)<br>
&nbsp;<br>
The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;and&nbsp;return&nbsp;-1&nbsp;if&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded,<br>
or&nbsp;if&nbsp;the&nbsp;current&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def<br>
file.</tt></dd></dl>

<dl><dt><a name="projectDB-njobs"><strong>njobs</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;NJOBS&nbsp;data&nbsp;item.<br>
&nbsp;<br>
For&nbsp;historical&nbsp;reasons,&nbsp;the&nbsp;NJOBS&nbsp;data&nbsp;item&nbsp;records&nbsp;the&nbsp;current<br>
highest&nbsp;job&nbsp;id&nbsp;number&nbsp;used&nbsp;in&nbsp;the&nbsp;project,&nbsp;and&nbsp;is&nbsp;not&nbsp;generally<br>
the&nbsp;actual&nbsp;number&nbsp;of&nbsp;jobs&nbsp;in&nbsp;the&nbsp;project.&nbsp;To&nbsp;get&nbsp;the&nbsp;actual<br>
number&nbsp;of&nbsp;jobs&nbsp;in&nbsp;an&nbsp;object&nbsp;project,&nbsp;do&nbsp;len(project).<br>
Returns&nbsp;-1&nbsp;if&nbsp;the&nbsp;project&nbsp;has&nbsp;not&nbsp;been&nbsp;correctly&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="projectDB-open"><strong>open</strong></a>(self, grablock<font color="#909090">=False</font>, readonly<font color="#909090">=False</font>, strict<font color="#909090">=False</font>)</dt><dd><tt>Open&nbsp;a&nbsp;project.<br>
&nbsp;<br>
Read&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;and&nbsp;return&nbsp;the&nbsp;project<br>
object.<br>
&nbsp;<br>
The&nbsp;open&nbsp;operation&nbsp;will&nbsp;fail&nbsp;(return&nbsp;False)&nbsp;if&nbsp;the&nbsp;project&nbsp;is<br>
locked,&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;already&nbsp;loaded,&nbsp;or&nbsp;if&nbsp;the&nbsp;project<br>
doesn't&nbsp;exist.&nbsp;Set&nbsp;the&nbsp;'grablock'&nbsp;argument&nbsp;to&nbsp;True&nbsp;to&nbsp;override<br>
any&nbsp;existing&nbsp;lock&nbsp;and&nbsp;force&nbsp;loading&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Specifying&nbsp;'readonly'&nbsp;as&nbsp;True&nbsp;populates&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object<br>
from&nbsp;the&nbsp;file&nbsp;on&nbsp;disk&nbsp;without&nbsp;attempting&nbsp;to&nbsp;lock&nbsp;the&nbsp;resource.<br>
However&nbsp;it&nbsp;will&nbsp;clear&nbsp;an&nbsp;existing&nbsp;lock,&nbsp;so&nbsp;the&nbsp;process&nbsp;may<br>
still&nbsp;own&nbsp;the&nbsp;lock&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;in&nbsp;'read-only'&nbsp;mode.<br>
&nbsp;<br>
If&nbsp;the&nbsp;'strict'&nbsp;flag&nbsp;is&nbsp;true&nbsp;then&nbsp;header&nbsp;information&nbsp;about<br>
the&nbsp;project&nbsp;name&nbsp;and&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;are&nbsp;checked&nbsp;against<br>
the&nbsp;internal&nbsp;values,&nbsp;and&nbsp;warnings&nbsp;issued&nbsp;if&nbsp;there&nbsp;is&nbsp;a<br>
discrepancy.</tt></dd></dl>

<dl><dt><a name="projectDB-refresh"><strong>refresh</strong></a>(self, grablock<font color="#909090">=False</font>, readonly<font color="#909090">=True</font>)</dt><dd><tt>Reload&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;file&nbsp;into&nbsp;a&nbsp;<a href="#database">database</a>&nbsp;object.<br>
&nbsp;<br>
Use&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to&nbsp;re-read&nbsp;the&nbsp;data&nbsp;from&nbsp;the<br>
file&nbsp;on&nbsp;disk&nbsp;into&nbsp;an&nbsp;existing&nbsp;(loaded)&nbsp;<a href="#database">database</a>&nbsp;object.<br>
This&nbsp;is&nbsp;necessary&nbsp;for&nbsp;example&nbsp;if&nbsp;the&nbsp;file&nbsp;is&nbsp;updated<br>
by&nbsp;an&nbsp;external&nbsp;process.<br>
&nbsp;<br>
Essentially&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;is&nbsp;closed&nbsp;and&nbsp;then<br>
reopened.&nbsp;By&nbsp;default&nbsp;the&nbsp;data&nbsp;is&nbsp;reloaded&nbsp;in&nbsp;'readonly'<br>
mode.&nbsp;Set&nbsp;the&nbsp;'grablock'&nbsp;argument&nbsp;to&nbsp;True&nbsp;to&nbsp;override<br>
any&nbsp;existing&nbsp;lock&nbsp;and&nbsp;force&nbsp;loading&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;in<br>
write&nbsp;mode&nbsp;-&nbsp;see&nbsp;the&nbsp;'open'&nbsp;method.</tt></dd></dl>

<dl><dt><a name="projectDB-removeinputfile"><strong>removeinputfile</strong></a>(self, job, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="projectDB-removeoutputfile"><strong>removeoutputfile</strong></a>(self, job, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="projectDB-selectjobs"><strong>selectjobs</strong></a>(self, item, pattern)</dt><dd><tt>Retrieve&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;based&nbsp;on&nbsp;some&nbsp;selection&nbsp;criterion.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;for&nbsp;which&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;given&nbsp;data<br>
item&nbsp;matches&nbsp;the&nbsp;supplied&nbsp;regular&nbsp;expression&nbsp;pattern.</tt></dd></dl>

<dl><dt><a name="projectDB-set_auto_refresh"><strong>set_auto_refresh</strong></a>(self, auto_refresh)</dt><dd><tt>Set&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
'auto_refresh'&nbsp;takes&nbsp;a&nbsp;boolean&nbsp;value.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'True'<br>
means&nbsp;that&nbsp;a&nbsp;read&nbsp;attempt&nbsp;on&nbsp;a&nbsp;'stale'&nbsp;<a href="#database">database</a>&nbsp;(i.e.&nbsp;when<br>
the&nbsp;source&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;is&nbsp;newer&nbsp;than&nbsp;the&nbsp;data&nbsp;in&nbsp;the<br>
object)&nbsp;will&nbsp;automatically&nbsp;invoke&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to<br>
load&nbsp;the&nbsp;data&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'False'<br>
means&nbsp;that&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;must&nbsp;be&nbsp;explicitly&nbsp;invoked.</tt></dd></dl>

<dl><dt><a name="projectDB-updatetime"><strong>updatetime</strong></a>(self, job)</dt><dd><tt>Update&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;job&nbsp;to&nbsp;be&nbsp;the&nbsp;current&nbsp;time.<br>
&nbsp;<br>
This&nbsp;wraps&nbsp;the&nbsp;setdata&nbsp;method&nbsp;to&nbsp;automatically&nbsp;set&nbsp;the&nbsp;DATE<br>
attribute&nbsp;of&nbsp;the&nbsp;job&nbsp;specified&nbsp;by&nbsp;the&nbsp;id&nbsp;number,&nbsp;and&nbsp;returns<br>
the&nbsp;result&nbsp;of&nbsp;the&nbsp;setdata&nbsp;operation.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="subjobDB">class <strong>subjobDB</strong></a>(<a href="ccp4i.html#database">database</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>CCP4i&nbsp;subjob&nbsp;<a href="#database">database</a>&nbsp;class.<br>
&nbsp;<br>
This&nbsp;stores&nbsp;the&nbsp;job&nbsp;data&nbsp;for&nbsp;substeps&nbsp;defined&nbsp;for&nbsp;a&nbsp;job&nbsp;in<br>
the&nbsp;main&nbsp;project&nbsp;directory.<br>
&nbsp;<br>
The&nbsp;subjob&nbsp;data&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;subdirectory&nbsp;of&nbsp;the&nbsp;project<br>
<a href="#database">database</a>&nbsp;directory,&nbsp;called&nbsp;'&lt;jobid&gt;_database.&nbsp;The&nbsp;name&nbsp;of<br>
the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;must&nbsp;be&nbsp;given&nbsp;explicitly&nbsp;as<br>
the&nbsp;'dbdir'&nbsp;argument.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;subjob&nbsp;databases&nbsp;differ&nbsp;from&nbsp;the&nbsp;base&nbsp;class<br>
databases,&nbsp;in&nbsp;that&nbsp;when&nbsp;a&nbsp;subjob&nbsp;db&nbsp;is&nbsp;closed&nbsp;it&nbsp;will<br>
automatically&nbsp;delete&nbsp;the&nbsp;persistent&nbsp;storage&nbsp;(i.e.&nbsp;the<br>
subdirectory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file)&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;subjobs<br>
stored&nbsp;at&nbsp;this&nbsp;point.<br>
&nbsp;<br>
The&nbsp;<a href="#subjobDB">subjobDB</a>&nbsp;class&nbsp;accepts&nbsp;an&nbsp;'interval'&nbsp;argument&nbsp;on<br>
instantiation&nbsp;which&nbsp;performs&nbsp;the&nbsp;same&nbsp;function&nbsp;as&nbsp;in&nbsp;the<br>
base&nbsp;class.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="subjobDB-__init__"><strong>__init__</strong></a>(self, job, taskname, dbdir, interval<font color="#909090">=0</font>)</dt><dd><tt>Initialise&nbsp;the&nbsp;subjob&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
The&nbsp;calling&nbsp;process&nbsp;should&nbsp;include&nbsp;the&nbsp;taskname&nbsp;and&nbsp;job&nbsp;id<br>
number&nbsp;of&nbsp;the&nbsp;main&nbsp;job&nbsp;to&nbsp;which&nbsp;the&nbsp;subjobs&nbsp;belong.</tt></dd></dl>

<dl><dt><a name="subjobDB-close"><strong>close</strong></a>(self)</dt><dd><tt>Close&nbsp;the&nbsp;subjob&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
This&nbsp;extends&nbsp;the&nbsp;'close'&nbsp;method&nbsp;of&nbsp;the&nbsp;base&nbsp;class.<br>
If&nbsp;there&nbsp;are&nbsp;no&nbsp;subjobs&nbsp;defined&nbsp;at&nbsp;the&nbsp;point&nbsp;of&nbsp;closure<br>
then&nbsp;the&nbsp;subjob&nbsp;<a href="#database">database</a>&nbsp;is&nbsp;removed.</tt></dd></dl>

<dl><dt><a name="subjobDB-getId"><strong>getId</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;identifier&nbsp;for&nbsp;the&nbsp;subjob&nbsp;<a href="#database">database</a>.</tt></dd></dl>

<hr>
Methods inherited from <a href="ccp4i.html#database">database</a>:<br>
<dl><dt><a name="subjobDB-__del__"><strong>__del__</strong></a>(self)</dt><dd><tt>del(project)<br>
&nbsp;<br>
Saves&nbsp;data,&nbsp;releases&nbsp;lock&nbsp;and&nbsp;deletes&nbsp;the&nbsp;object.</tt></dd></dl>

<dl><dt><a name="subjobDB-__len__"><strong>__len__</strong></a>(self)</dt><dd><tt>len(project)<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;jobs&nbsp;stored&nbsp;in&nbsp;the&nbsp;project,&nbsp;or<br>
zero&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="subjobDB-__nonzero__"><strong>__nonzero__</strong></a>(self)</dt><dd><tt>Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;loaded,&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="subjobDB-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;project&nbsp;name.</tt></dd></dl>

<dl><dt><a name="subjobDB-addfile"><strong>addfile</strong></a>(self, job, ftype, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;should&nbsp;be&nbsp;associated&nbsp;as&nbsp;an&nbsp;'input'&nbsp;or<br>
'output'&nbsp;file.<br>
&nbsp;<br>
'filename'&nbsp;specifies&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;to&nbsp;be&nbsp;added<br>
to&nbsp;the&nbsp;can&nbsp;be&nbsp;either&nbsp;a&nbsp;full&nbsp;path&nbsp;or&nbsp;a&nbsp;relative&nbsp;path,<br>
and&nbsp;'alias'&nbsp;specifies&nbsp;a&nbsp;project&nbsp;alias&nbsp;to&nbsp;be&nbsp;associated<br>
with&nbsp;the&nbsp;file.&nbsp;The&nbsp;alias&nbsp;is&nbsp;only&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;in&nbsp;the&nbsp;filename,&nbsp;and&nbsp;is&nbsp;ignored&nbsp;if&nbsp;a<br>
full&nbsp;path&nbsp;is&nbsp;supplied&nbsp;for&nbsp;the&nbsp;file&nbsp;being&nbsp;added.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.&nbsp;Note&nbsp;that&nbsp;if&nbsp;the&nbsp;file&nbsp;name<br>
already&nbsp;appears&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;then&nbsp;this&nbsp;is<br>
not&nbsp;an&nbsp;error.</tt></dd></dl>

<dl><dt><a name="subjobDB-addinputfile"><strong>addinputfile</strong></a>(self, job, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;function&nbsp;wraps&nbsp;the&nbsp;addfile&nbsp;method:&nbsp;'job'&nbsp;is&nbsp;a<br>
job&nbsp;number,&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;'filename'<br>
is&nbsp;an&nbsp;absolute&nbsp;or&nbsp;relative&nbsp;path,&nbsp;and&nbsp;'alias'&nbsp;is&nbsp;an<br>
optional&nbsp;project&nbsp;name&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;ignored.<br>
&nbsp;<br>
The&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="subjobDB-addoutputfile"><strong>addoutputfile</strong></a>(self, job, dirs, filename, alias)</dt><dd><tt>Add&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
This&nbsp;function&nbsp;wraps&nbsp;the&nbsp;addfile&nbsp;method:&nbsp;'job'&nbsp;is&nbsp;a<br>
job&nbsp;number,&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;<a href="#directories">directories</a>&nbsp;object,&nbsp;'filename'<br>
is&nbsp;an&nbsp;absolute&nbsp;or&nbsp;relative&nbsp;path,&nbsp;and&nbsp;'alias'&nbsp;is&nbsp;an<br>
optional&nbsp;project&nbsp;name&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve<br>
relative&nbsp;paths&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;ignored.<br>
&nbsp;<br>
The&nbsp;method&nbsp;returns&nbsp;True&nbsp;on&nbsp;success&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="subjobDB-auto_refresh"><strong>auto_refresh</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
The&nbsp;'auto_refresh'&nbsp;feature&nbsp;means&nbsp;that&nbsp;read&nbsp;attempts&nbsp;on&nbsp;a<br>
'stale'&nbsp;<a href="#database">database</a>&nbsp;automatically&nbsp;cause&nbsp;the&nbsp;data&nbsp;to&nbsp;be<br>
refreshed&nbsp;from&nbsp;file&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;See&nbsp;the<br>
set_auto_refresh&nbsp;method&nbsp;for&nbsp;more&nbsp;information.</tt></dd></dl>

<dl><dt><a name="subjobDB-create"><strong>create</strong></a>(self)</dt><dd><tt>Make&nbsp;a&nbsp;new&nbsp;project.<br>
&nbsp;<br>
Creating&nbsp;a&nbsp;new&nbsp;project&nbsp;includes&nbsp;creating&nbsp;the&nbsp;project&nbsp;directory<br>
(if&nbsp;it&nbsp;doesn't&nbsp;already&nbsp;exist),&nbsp;and&nbsp;creating&nbsp;the&nbsp;<a href="#database">database</a><br>
subdirectory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file.&nbsp;The&nbsp;project&nbsp;is&nbsp;then&nbsp;opened<br>
and&nbsp;the&nbsp;project&nbsp;object&nbsp;is&nbsp;returned.<br>
The&nbsp;create&nbsp;operation&nbsp;will&nbsp;fail&nbsp;(returning&nbsp;False)&nbsp;if&nbsp;the&nbsp;project<br>
already&nbsp;exists.</tt></dd></dl>

<dl><dt><a name="subjobDB-deletejob"><strong>deletejob</strong></a>(self, job)</dt><dd><tt>Remove&nbsp;an&nbsp;existing&nbsp;job&nbsp;record&nbsp;from&nbsp;the&nbsp;project.<br>
&nbsp;<br>
The&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;number&nbsp;will&nbsp;be&nbsp;removed&nbsp;from&nbsp;the<br>
project,&nbsp;also&nbsp;removing&nbsp;all&nbsp;associated&nbsp;data,&nbsp;returning&nbsp;True&nbsp;on<br>
success.&nbsp;The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;is&nbsp;not&nbsp;loaded,<br>
if&nbsp;the&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file,&nbsp;or<br>
if&nbsp;a&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;number&nbsp;is&nbsp;not&nbsp;found.</tt></dd></dl>

<dl><dt><a name="subjobDB-describe"><strong>describe</strong></a>(self, joblist, itemlist, formatlist)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;formatted&nbsp;strings&nbsp;populated&nbsp;with&nbsp;job&nbsp;data.<br>
&nbsp;<br>
For&nbsp;each&nbsp;job&nbsp;id&nbsp;number&nbsp;in&nbsp;the&nbsp;joblist,&nbsp;the&nbsp;describe&nbsp;method<br>
retrieves&nbsp;the&nbsp;values&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;in&nbsp;the&nbsp;itemlist<br>
and&nbsp;creates&nbsp;a&nbsp;description&nbsp;string&nbsp;by&nbsp;placing&nbsp;those&nbsp;values&nbsp;into<br>
fields&nbsp;with&nbsp;character&nbsp;widths&nbsp;supplied&nbsp;in&nbsp;the&nbsp;formatlist.<br>
It&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;these&nbsp;strings,&nbsp;with&nbsp;one&nbsp;list&nbsp;item&nbsp;per&nbsp;job.<br>
Allowed&nbsp;data&nbsp;items&nbsp;can&nbsp;be&nbsp;any&nbsp;stored&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a><br>
plus&nbsp;JOB_ID&nbsp;(the&nbsp;id&nbsp;number&nbsp;of&nbsp;the&nbsp;job),&nbsp;which&nbsp;is&nbsp;an&nbsp;implicit<br>
data&nbsp;item.</tt></dd></dl>

<dl><dt><a name="subjobDB-describejob"><strong>describejob</strong></a>(self, job, itemlist, formatlist)</dt><dd><tt>Return&nbsp;a&nbsp;formatted&nbsp;string&nbsp;populated&nbsp;with&nbsp;job&nbsp;data.<br>
&nbsp;<br>
For&nbsp;the&nbsp;specified&nbsp;job&nbsp;id&nbsp;number,&nbsp;the&nbsp;describejob&nbsp;method<br>
retrieves&nbsp;the&nbsp;values&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;in&nbsp;the&nbsp;itemlist<br>
and&nbsp;creates&nbsp;a&nbsp;description&nbsp;string&nbsp;by&nbsp;placing&nbsp;those&nbsp;values&nbsp;into<br>
fields&nbsp;with&nbsp;character&nbsp;widths&nbsp;supplied&nbsp;in&nbsp;the&nbsp;formatlist.<br>
Allowed&nbsp;data&nbsp;items&nbsp;can&nbsp;be&nbsp;any&nbsp;stored&nbsp;in&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a><br>
plus&nbsp;JOB_ID&nbsp;(the&nbsp;id&nbsp;number&nbsp;of&nbsp;the&nbsp;job),&nbsp;which&nbsp;is&nbsp;an&nbsp;implicit<br>
data&nbsp;item.</tt></dd></dl>

<dl><dt><a name="subjobDB-exists"><strong>exists</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;the&nbsp;project&nbsp;exists.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;directory&nbsp;and&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;both<br>
exist,&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="subjobDB-getDbFile"><strong>getDbFile</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;for&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="subjobDB-getDbItems"><strong>getDbItems</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;data&nbsp;items&nbsp;stored&nbsp;for&nbsp;all&nbsp;jobs.</tt></dd></dl>

<dl><dt><a name="subjobDB-getDbdir"><strong>getDbdir</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;of&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="subjobDB-getProjectname"><strong>getProjectname</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;project.</tt></dd></dl>

<dl><dt><a name="subjobDB-getdata"><strong>getdata</strong></a>(self, job, item)</dt><dd><tt>Retrieve&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;stored&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;If&nbsp;the&nbsp;job&nbsp;doesn't<br>
exist,&nbsp;or&nbsp;if&nbsp;the&nbsp;item&nbsp;is&nbsp;otherwise&nbsp;inaccessible&nbsp;as<br>
indicated&nbsp;by&nbsp;a&nbsp;call&nbsp;to&nbsp;the&nbsp;itemexists&nbsp;method,&nbsp;then&nbsp;the<br>
operation&nbsp;raises&nbsp;an&nbsp;IndexError&nbsp;exception.<br>
&nbsp;<br>
Otherwise,&nbsp;the&nbsp;specific&nbsp;value&nbsp;of&nbsp;the&nbsp;data&nbsp;item&nbsp;for&nbsp;the<br>
specified&nbsp;job&nbsp;id&nbsp;is&nbsp;returned&nbsp;(or&nbsp;the&nbsp;'generic'&nbsp;value,<br>
if&nbsp;a&nbsp;specific&nbsp;value&nbsp;was&nbsp;not&nbsp;found).<br>
&nbsp;<br>
If&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;is&nbsp;not&nbsp;readable&nbsp;then&nbsp;'None'&nbsp;is&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="subjobDB-getmessage"><strong>getmessage</strong></a>(self)</dt><dd><tt>Retrieve&nbsp;last&nbsp;internal&nbsp;error&nbsp;message.<br>
&nbsp;<br>
If&nbsp;an&nbsp;operation&nbsp;fails&nbsp;then&nbsp;the&nbsp;client&nbsp;application&nbsp;can<br>
access&nbsp;the&nbsp;last&nbsp;error&nbsp;message&nbsp;using&nbsp;this&nbsp;method.&nbsp;Invoking<br>
getmessage&nbsp;clears&nbsp;the&nbsp;error&nbsp;message.</tt></dd></dl>

<dl><dt><a name="subjobDB-hasjob"><strong>hasjob</strong></a>(self, job)</dt><dd><tt>Checks&nbsp;if&nbsp;a&nbsp;job&nbsp;with&nbsp;the&nbsp;specified&nbsp;id&nbsp;exists&nbsp;in&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;id,&nbsp;returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;contains&nbsp;a&nbsp;job<br>
with&nbsp;that&nbsp;id&nbsp;and&nbsp;False&nbsp;if&nbsp;not.</tt></dd></dl>

<dl><dt><a name="subjobDB-haslock"><strong>haslock</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;is&nbsp;locked&nbsp;by&nbsp;this&nbsp;process.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;has&nbsp;a&nbsp;<a href="#lockfile">lockfile</a><br>
owned&nbsp;by&nbsp;this&nbsp;process,&nbsp;and&nbsp;False&nbsp;otherwise.<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;after&nbsp;a&nbsp;specified&nbsp;time&nbsp;interval,<br>
in&nbsp;between&nbsp;the&nbsp;value&nbsp;is&nbsp;cached.&nbsp;Set&nbsp;the&nbsp;time&nbsp;interval&nbsp;to<br>
0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="subjobDB-isloaded"><strong>isloaded</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;data&nbsp;has&nbsp;been&nbsp;loaded.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;populated&nbsp;from<br>
the&nbsp;file&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="subjobDB-islocked"><strong>islocked</strong></a>(self)</dt><dd><tt>Test&nbsp;whether&nbsp;the&nbsp;project&nbsp;is&nbsp;locked.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;has&nbsp;a&nbsp;<a href="#lockfile">lockfile</a><br>
from&nbsp;any&nbsp;process,&nbsp;and&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="subjobDB-isreadable"><strong>isreadable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;get&nbsp;data&nbsp;from&nbsp;the&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;loaded,<br>
and&nbsp;has&nbsp;data&nbsp;that&nbsp;is&nbsp;at&nbsp;least&nbsp;as&nbsp;recent&nbsp;as&nbsp;the&nbsp;persistent<br>
storage&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="subjobDB-isstale"><strong>isstale</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;is&nbsp;older&nbsp;than&nbsp;on&nbsp;disk.<br>
&nbsp;<br>
Return&nbsp;True&nbsp;if&nbsp;the&nbsp;modification&nbsp;time&nbsp;of&nbsp;the&nbsp;resource<br>
file&nbsp;is&nbsp;more&nbsp;recent&nbsp;than&nbsp;the&nbsp;last&nbsp;save.<br>
If&nbsp;so&nbsp;then&nbsp;this&nbsp;suggests&nbsp;that&nbsp;the&nbsp;data&nbsp;in&nbsp;this&nbsp;object&nbsp;may<br>
not&nbsp;accurately&nbsp;mirror&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;persistent<br>
storage.<br>
&nbsp;<br>
The&nbsp;check&nbsp;is&nbsp;only&nbsp;performed&nbsp;after&nbsp;a&nbsp;specified&nbsp;time&nbsp;interval,<br>
in&nbsp;between&nbsp;the&nbsp;value&nbsp;is&nbsp;cached.&nbsp;Set&nbsp;the&nbsp;time&nbsp;interval&nbsp;to<br>
0&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;never&nbsp;cached.</tt></dd></dl>

<dl><dt><a name="subjobDB-iswriteable"><strong>iswriteable</strong></a>(self)</dt><dd><tt>Test&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;modify&nbsp;and&nbsp;save&nbsp;the&nbsp;data.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;has&nbsp;been&nbsp;loaded,&nbsp;owns<br>
the&nbsp;lock&nbsp;on&nbsp;the&nbsp;persistent&nbsp;storage&nbsp;on&nbsp;disk,&nbsp;and&nbsp;has&nbsp;data<br>
that&nbsp;is&nbsp;at&nbsp;least&nbsp;as&nbsp;recent&nbsp;as&nbsp;the&nbsp;persistent&nbsp;storage.</tt></dd></dl>

<dl><dt><a name="subjobDB-itemexists"><strong>itemexists</strong></a>(self, job, item)</dt><dd><tt>Check&nbsp;for&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;for&nbsp;a&nbsp;particular&nbsp;job.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;data&nbsp;item&nbsp;is&nbsp;found&nbsp;for&nbsp;the&nbsp;specified&nbsp;job<br>
id&nbsp;number.&nbsp;If&nbsp;the&nbsp;item&nbsp;is&nbsp;not&nbsp;found&nbsp;for&nbsp;the&nbsp;specified&nbsp;job&nbsp;id,<br>
but&nbsp;was&nbsp;defined&nbsp;in&nbsp;the&nbsp;template&nbsp;<a href="#database">database</a>.def&nbsp;file,&nbsp;then&nbsp;this<br>
method&nbsp;also&nbsp;returns&nbsp;True.&nbsp;Otherwise,&nbsp;itemexists&nbsp;returns&nbsp;False,<br>
indicating&nbsp;that&nbsp;the&nbsp;item&nbsp;is&nbsp;not&nbsp;accessible&nbsp;for&nbsp;the&nbsp;specified<br>
job.<br>
&nbsp;<br>
itemexists&nbsp;will&nbsp;also&nbsp;return&nbsp;False&nbsp;in&nbsp;the&nbsp;event&nbsp;that&nbsp;the&nbsp;project<br>
is&nbsp;not&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="subjobDB-listfiles"><strong>listfiles</strong></a>(self, job, ftype, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;list&nbsp;should&nbsp;be&nbsp;the&nbsp;associated&nbsp;'input'&nbsp;or<br>
'output'&nbsp;files.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="subjobDB-listinputfiles"><strong>listinputfiles</strong></a>(self, job, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number,'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="subjobDB-listjobs"><strong>listjobs</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;jobs&nbsp;in&nbsp;the&nbsp;project.<br>
&nbsp;<br>
The&nbsp;list&nbsp;is&nbsp;an&nbsp;unsorted&nbsp;list&nbsp;of&nbsp;job&nbsp;id&nbsp;numbers,&nbsp;or&nbsp;an&nbsp;empty&nbsp;list<br>
if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;currently&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="subjobDB-listoutputfiles"><strong>listoutputfiles</strong></a>(self, job, dirs)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number,'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;with&nbsp;the&nbsp;full&nbsp;filenames&nbsp;for&nbsp;each&nbsp;of&nbsp;the<br>
files&nbsp;associated&nbsp;with&nbsp;the&nbsp;job,&nbsp;or&nbsp;a&nbsp;blank&nbsp;list&nbsp;if&nbsp;there<br>
are&nbsp;no&nbsp;files.</tt></dd></dl>

<dl><dt><a name="subjobDB-newjob"><strong>newjob</strong></a>(self, taskname<font color="#909090">=''</font>, status<font color="#909090">='STARTING'</font>, title<font color="#909090">=''</font>)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;job&nbsp;record&nbsp;in&nbsp;the&nbsp;project.<br>
&nbsp;<br>
Creates&nbsp;a&nbsp;new&nbsp;entry&nbsp;in&nbsp;the&nbsp;current&nbsp;project&nbsp;with&nbsp;the&nbsp;current&nbsp;date<br>
and&nbsp;returns&nbsp;the&nbsp;id&nbsp;number&nbsp;for&nbsp;the&nbsp;new&nbsp;job.&nbsp;Optionally&nbsp;the<br>
taskname&nbsp;(TASKNAME&nbsp;data&nbsp;item),&nbsp;the&nbsp;status&nbsp;(STATUS&nbsp;item)&nbsp;and/or<br>
title&nbsp;(TITLE&nbsp;item)&nbsp;may&nbsp;also&nbsp;be&nbsp;set&nbsp;when&nbsp;the&nbsp;job&nbsp;is&nbsp;created.<br>
&nbsp;<br>
If&nbsp;no&nbsp;taskname&nbsp;is&nbsp;specified&nbsp;then&nbsp;it&nbsp;is&nbsp;set&nbsp;to&nbsp;'none',&nbsp;if&nbsp;no&nbsp;status<br>
is&nbsp;specified&nbsp;then&nbsp;it&nbsp;is&nbsp;set&nbsp;to&nbsp;'STARTING'.&nbsp;(Note&nbsp;that&nbsp;blank&nbsp;values<br>
of&nbsp;the&nbsp;taskname&nbsp;can&nbsp;crash&nbsp;CCP4i&nbsp;and&nbsp;cause&nbsp;corruption&nbsp;of&nbsp;the<br>
<a href="#database">database</a>.)<br>
&nbsp;<br>
The&nbsp;operation&nbsp;will&nbsp;fail&nbsp;and&nbsp;return&nbsp;-1&nbsp;if&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded,<br>
or&nbsp;if&nbsp;the&nbsp;current&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def<br>
file.</tt></dd></dl>

<dl><dt><a name="subjobDB-njobs"><strong>njobs</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;NJOBS&nbsp;data&nbsp;item.<br>
&nbsp;<br>
For&nbsp;historical&nbsp;reasons,&nbsp;the&nbsp;NJOBS&nbsp;data&nbsp;item&nbsp;records&nbsp;the&nbsp;current<br>
highest&nbsp;job&nbsp;id&nbsp;number&nbsp;used&nbsp;in&nbsp;the&nbsp;project,&nbsp;and&nbsp;is&nbsp;not&nbsp;generally<br>
the&nbsp;actual&nbsp;number&nbsp;of&nbsp;jobs&nbsp;in&nbsp;the&nbsp;project.&nbsp;To&nbsp;get&nbsp;the&nbsp;actual<br>
number&nbsp;of&nbsp;jobs&nbsp;in&nbsp;an&nbsp;object&nbsp;project,&nbsp;do&nbsp;len(project).<br>
Returns&nbsp;-1&nbsp;if&nbsp;the&nbsp;project&nbsp;has&nbsp;not&nbsp;been&nbsp;correctly&nbsp;loaded.</tt></dd></dl>

<dl><dt><a name="subjobDB-open"><strong>open</strong></a>(self, grablock<font color="#909090">=False</font>, readonly<font color="#909090">=False</font>, strict<font color="#909090">=False</font>)</dt><dd><tt>Open&nbsp;a&nbsp;project.<br>
&nbsp;<br>
Read&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;and&nbsp;return&nbsp;the&nbsp;project<br>
object.<br>
&nbsp;<br>
The&nbsp;open&nbsp;operation&nbsp;will&nbsp;fail&nbsp;(return&nbsp;False)&nbsp;if&nbsp;the&nbsp;project&nbsp;is<br>
locked,&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;already&nbsp;loaded,&nbsp;or&nbsp;if&nbsp;the&nbsp;project<br>
doesn't&nbsp;exist.&nbsp;Set&nbsp;the&nbsp;'grablock'&nbsp;argument&nbsp;to&nbsp;True&nbsp;to&nbsp;override<br>
any&nbsp;existing&nbsp;lock&nbsp;and&nbsp;force&nbsp;loading&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>.<br>
&nbsp;<br>
Specifying&nbsp;'readonly'&nbsp;as&nbsp;True&nbsp;populates&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object<br>
from&nbsp;the&nbsp;file&nbsp;on&nbsp;disk&nbsp;without&nbsp;attempting&nbsp;to&nbsp;lock&nbsp;the&nbsp;resource.<br>
However&nbsp;it&nbsp;will&nbsp;clear&nbsp;an&nbsp;existing&nbsp;lock,&nbsp;so&nbsp;the&nbsp;process&nbsp;may<br>
still&nbsp;own&nbsp;the&nbsp;lock&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;in&nbsp;'read-only'&nbsp;mode.<br>
&nbsp;<br>
If&nbsp;the&nbsp;'strict'&nbsp;flag&nbsp;is&nbsp;true&nbsp;then&nbsp;header&nbsp;information&nbsp;about<br>
the&nbsp;project&nbsp;name&nbsp;and&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;are&nbsp;checked&nbsp;against<br>
the&nbsp;internal&nbsp;values,&nbsp;and&nbsp;warnings&nbsp;issued&nbsp;if&nbsp;there&nbsp;is&nbsp;a<br>
discrepancy.</tt></dd></dl>

<dl><dt><a name="subjobDB-refresh"><strong>refresh</strong></a>(self, grablock<font color="#909090">=False</font>, readonly<font color="#909090">=True</font>)</dt><dd><tt>Reload&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;file&nbsp;into&nbsp;a&nbsp;<a href="#database">database</a>&nbsp;object.<br>
&nbsp;<br>
Use&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to&nbsp;re-read&nbsp;the&nbsp;data&nbsp;from&nbsp;the<br>
file&nbsp;on&nbsp;disk&nbsp;into&nbsp;an&nbsp;existing&nbsp;(loaded)&nbsp;<a href="#database">database</a>&nbsp;object.<br>
This&nbsp;is&nbsp;necessary&nbsp;for&nbsp;example&nbsp;if&nbsp;the&nbsp;file&nbsp;is&nbsp;updated<br>
by&nbsp;an&nbsp;external&nbsp;process.<br>
&nbsp;<br>
Essentially&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;object&nbsp;is&nbsp;closed&nbsp;and&nbsp;then<br>
reopened.&nbsp;By&nbsp;default&nbsp;the&nbsp;data&nbsp;is&nbsp;reloaded&nbsp;in&nbsp;'readonly'<br>
mode.&nbsp;Set&nbsp;the&nbsp;'grablock'&nbsp;argument&nbsp;to&nbsp;True&nbsp;to&nbsp;override<br>
any&nbsp;existing&nbsp;lock&nbsp;and&nbsp;force&nbsp;loading&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>&nbsp;in<br>
write&nbsp;mode&nbsp;-&nbsp;see&nbsp;the&nbsp;'open'&nbsp;method.</tt></dd></dl>

<dl><dt><a name="subjobDB-removefile"><strong>removefile</strong></a>(self, job, ftype, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'ftype'&nbsp;specifies<br>
whether&nbsp;the&nbsp;file&nbsp;should&nbsp;be&nbsp;associated&nbsp;as&nbsp;an&nbsp;'input'&nbsp;or<br>
'output'&nbsp;file.<br>
&nbsp;<br>
'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i&nbsp;<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="subjobDB-removeinputfile"><strong>removeinputfile</strong></a>(self, job, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;input&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="subjobDB-removeoutputfile"><strong>removeoutputfile</strong></a>(self, job, dirs, filename)</dt><dd><tt>Remove&nbsp;a&nbsp;file&nbsp;from&nbsp;the&nbsp;list&nbsp;of&nbsp;output&nbsp;files&nbsp;for&nbsp;a&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;'dirs'&nbsp;is&nbsp;a&nbsp;ccp4i<br>
<a href="#directories">directories</a>&nbsp;object.<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;the&nbsp;operation&nbsp;was&nbsp;successful,&nbsp;False<br>
if&nbsp;there&nbsp;was&nbsp;a&nbsp;problem.</tt></dd></dl>

<dl><dt><a name="subjobDB-save"><strong>save</strong></a>(self)</dt><dd><tt>Save&nbsp;the&nbsp;project&nbsp;<a href="#database">database</a>&nbsp;contents&nbsp;to&nbsp;file.<br>
&nbsp;<br>
The&nbsp;save&nbsp;method&nbsp;writes&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;object&nbsp;to&nbsp;persistent<br>
storage&nbsp;(i.e.&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file&nbsp;for&nbsp;the&nbsp;project).<br>
On&nbsp;successful&nbsp;completion&nbsp;True&nbsp;is&nbsp;returned.<br>
The&nbsp;save&nbsp;operation&nbsp;will&nbsp;fail&nbsp;if&nbsp;the&nbsp;project&nbsp;is&nbsp;not&nbsp;loaded,<br>
or&nbsp;if&nbsp;the&nbsp;object&nbsp;has&nbsp;lost&nbsp;the&nbsp;lock&nbsp;on&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file;<br>
in&nbsp;both&nbsp;cases&nbsp;False&nbsp;is&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="subjobDB-selectjobs"><strong>selectjobs</strong></a>(self, item, pattern)</dt><dd><tt>Retrieve&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;based&nbsp;on&nbsp;some&nbsp;selection&nbsp;criterion.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;jobs&nbsp;for&nbsp;which&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;given&nbsp;data<br>
item&nbsp;matches&nbsp;the&nbsp;supplied&nbsp;regular&nbsp;expression&nbsp;pattern.</tt></dd></dl>

<dl><dt><a name="subjobDB-set_auto_refresh"><strong>set_auto_refresh</strong></a>(self, auto_refresh)</dt><dd><tt>Set&nbsp;the&nbsp;auto_refresh&nbsp;flag.<br>
&nbsp;<br>
'auto_refresh'&nbsp;takes&nbsp;a&nbsp;boolean&nbsp;value.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'True'<br>
means&nbsp;that&nbsp;a&nbsp;read&nbsp;attempt&nbsp;on&nbsp;a&nbsp;'stale'&nbsp;<a href="#database">database</a>&nbsp;(i.e.&nbsp;when<br>
the&nbsp;source&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;is&nbsp;newer&nbsp;than&nbsp;the&nbsp;data&nbsp;in&nbsp;the<br>
object)&nbsp;will&nbsp;automatically&nbsp;invoke&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;to<br>
load&nbsp;the&nbsp;data&nbsp;in&nbsp;read-only&nbsp;mode.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;'False'<br>
means&nbsp;that&nbsp;the&nbsp;'refresh'&nbsp;method&nbsp;must&nbsp;be&nbsp;explicitly&nbsp;invoked.</tt></dd></dl>

<dl><dt><a name="subjobDB-setdata"><strong>setdata</strong></a>(self, job, item, value)</dt><dd><tt>Set&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;data&nbsp;item&nbsp;for&nbsp;the&nbsp;specified&nbsp;job.<br>
&nbsp;<br>
The&nbsp;job&nbsp;is&nbsp;specified&nbsp;by&nbsp;an&nbsp;id&nbsp;number.&nbsp;The&nbsp;operation&nbsp;returns<br>
True&nbsp;if&nbsp;the&nbsp;value&nbsp;was&nbsp;successlly&nbsp;updated&nbsp;and&nbsp;False&nbsp;if&nbsp;the<br>
<a href="#database">database</a>&nbsp;is&nbsp;not&nbsp;writeable,&nbsp;or&nbsp;if&nbsp;the&nbsp;data&nbsp;item&nbsp;is&nbsp;valid&nbsp;but<br>
could&nbsp;not&nbsp;be&nbsp;updated.<br>
&nbsp;<br>
An&nbsp;IndexError&nbsp;exception&nbsp;will&nbsp;be&nbsp;raised&nbsp;if&nbsp;the&nbsp;data&nbsp;item&nbsp;is<br>
invalid,&nbsp;either&nbsp;because&nbsp;the&nbsp;job&nbsp;doesn't&nbsp;exist&nbsp;or&nbsp;because&nbsp;the<br>
data&nbsp;item&nbsp;doesn't&nbsp;exist&nbsp;for&nbsp;the&nbsp;job,&nbsp;as&nbsp;indicated&nbsp;by&nbsp;a&nbsp;call<br>
to&nbsp;the&nbsp;itemexists&nbsp;method.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;validity&nbsp;of&nbsp;the&nbsp;new&nbsp;value&nbsp;is&nbsp;not&nbsp;checked,&nbsp;except<br>
for&nbsp;the&nbsp;TASKNAME&nbsp;data&nbsp;item,&nbsp;which&nbsp;must&nbsp;not&nbsp;be&nbsp;blank.</tt></dd></dl>

<dl><dt><a name="subjobDB-updatetime"><strong>updatetime</strong></a>(self, job)</dt><dd><tt>Update&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;job&nbsp;to&nbsp;be&nbsp;the&nbsp;current&nbsp;time.<br>
&nbsp;<br>
This&nbsp;wraps&nbsp;the&nbsp;setdata&nbsp;method&nbsp;to&nbsp;automatically&nbsp;set&nbsp;the&nbsp;DATE<br>
attribute&nbsp;of&nbsp;the&nbsp;job&nbsp;specified&nbsp;by&nbsp;the&nbsp;id&nbsp;number,&nbsp;and&nbsp;returns<br>
the&nbsp;result&nbsp;of&nbsp;the&nbsp;setdata&nbsp;operation.</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-DirExists"><strong>DirExists</strong></a>(directory)</dt><dd><tt>Check&nbsp;for&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;directory.<br>
&nbsp;<br>
This&nbsp;will&nbsp;also&nbsp;return&nbsp;a&nbsp;negative&nbsp;result&nbsp;if&nbsp;the&nbsp;target&nbsp;exists<br>
but&nbsp;is&nbsp;not&nbsp;a&nbsp;directory.</tt></dd></dl>
 <dl><dt><a name="-FileExists"><strong>FileExists</strong></a>(filen)</dt><dd><tt>Check&nbsp;for&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;file.</tt></dd></dl>
 <dl><dt><a name="-FileMtime"><strong>FileMtime</strong></a>(filen)</dt><dd><tt>Return&nbsp;the&nbsp;modification&nbsp;time&nbsp;of&nbsp;a&nbsp;file.</tt></dd></dl>
 <dl><dt><a name="-FindExecutable"><strong>FindExecutable</strong></a>(program)</dt><dd><tt>Return&nbsp;the&nbsp;full&nbsp;path&nbsp;for&nbsp;the&nbsp;named&nbsp;program.<br>
&nbsp;<br>
FindExecutable&nbsp;operates&nbsp;by&nbsp;looking&nbsp;for&nbsp;the&nbsp;named<br>
'program'&nbsp;in&nbsp;each&nbsp;directory&nbsp;in&nbsp;the&nbsp;user's&nbsp;path.<br>
Under&nbsp;Windows&nbsp;it&nbsp;appends&nbsp;'.exe'&nbsp;automatically.<br>
If&nbsp;the&nbsp;program&nbsp;file&nbsp;is&nbsp;found&nbsp;then&nbsp;the&nbsp;full&nbsp;path<br>
is&nbsp;returned,&nbsp;otherwise&nbsp;the&nbsp;program&nbsp;name&nbsp;is<br>
returned.</tt></dd></dl>
 <dl><dt><a name="-FormatDate"><strong>FormatDate</strong></a>(epoch)</dt><dd><tt>Return&nbsp;an&nbsp;epoch&nbsp;formatted&nbsp;as&nbsp;a&nbsp;date.<br>
&nbsp;<br>
Given&nbsp;an&nbsp;epoch&nbsp;value&nbsp;in&nbsp;seconds&nbsp;this&nbsp;returns&nbsp;a&nbsp;more&nbsp;user-friendly<br>
string&nbsp;representation&nbsp;similar&nbsp;to&nbsp;that&nbsp;used&nbsp;in&nbsp;CCP4i:&nbsp;if&nbsp;the&nbsp;epoch<br>
is&nbsp;a&nbsp;time&nbsp;with&nbsp;the&nbsp;last&nbsp;24&nbsp;hours&nbsp;then&nbsp;it&nbsp;is&nbsp;returned&nbsp;as<br>
'hours:minutes:seconds';&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;returned&nbsp;as<br>
'day&nbsp;month&nbsp;year'.</tt></dd></dl>
 <dl><dt><a name="-GetAbsolutePath"><strong>GetAbsolutePath</strong></a>(filen)</dt><dd><tt>Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;-&nbsp;assume&nbsp;that&nbsp;relative&nbsp;paths&nbsp;are&nbsp;rooted<br>
at&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.</tt></dd></dl>
 <dl><dt><a name="-GetDate"><strong>GetDate</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;current&nbsp;date.<br>
&nbsp;<br>
The&nbsp;date&nbsp;is&nbsp;in&nbsp;the&nbsp;format&nbsp;e.g.&nbsp;27&nbsp;Feb&nbsp;2006&nbsp;&nbsp;15:05:34.</tt></dd></dl>
 <dl><dt><a name="-GetDbDir"><strong>GetDbDir</strong></a>(projectdir)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;CCP4i&nbsp;<a href="#database">database</a>&nbsp;directory&nbsp;for&nbsp;a&nbsp;project.<br>
&nbsp;<br>
Given&nbsp;the&nbsp;project&nbsp;directory&nbsp;path,&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;default&nbsp;CCP4i<br>
<a href="#database">database</a>&nbsp;subdirectory&nbsp;is&nbsp;returned.</tt></dd></dl>
 <dl><dt><a name="-GetDbFile"><strong>GetDbFile</strong></a>(projectdir)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;<a href="#database">database</a>.def&nbsp;file.<br>
&nbsp;<br>
The&nbsp;sole&nbsp;argument&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;project&nbsp;directory.</tt></dd></dl>
 <dl><dt><a name="-GetDefDate"><strong>GetDefDate</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;current&nbsp;date&nbsp;for&nbsp;a&nbsp;def&nbsp;file&nbsp;header.<br>
&nbsp;<br>
The&nbsp;date&nbsp;is&nbsp;in&nbsp;the&nbsp;format&nbsp;dd/mm/yy&nbsp;HH:MM:SS.</tt></dd></dl>
 <dl><dt><a name="-GetDotCCP4"><strong>GetDotCCP4</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;location&nbsp;of&nbsp;the&nbsp;.CCP4&nbsp;directory.</tt></dd></dl>
 <dl><dt><a name="-GetEnvVar"><strong>GetEnvVar</strong></a>(var)</dt><dd><tt>Return&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;environment&nbsp;variable.</tt></dd></dl>
 <dl><dt><a name="-GetFileRootname"><strong>GetFileRootname</strong></a>(filen)</dt><dd><tt>Return&nbsp;the&nbsp;rootname&nbsp;of&nbsp;a&nbsp;filename.</tt></dd></dl>
 <dl><dt><a name="-GetOPSYS"><strong>GetOPSYS</strong></a>()</dt><dd><tt>Return&nbsp;'WINDOWS'&nbsp;or&nbsp;'UNIX',&nbsp;depending&nbsp;on&nbsp;the&nbsp;operating&nbsp;system.</tt></dd></dl>
 <dl><dt><a name="-GetOpsys"><strong>GetOpsys</strong></a>()</dt><dd><tt>Return&nbsp;'windows'&nbsp;or&nbsp;'unix',&nbsp;depending&nbsp;on&nbsp;the&nbsp;operating&nbsp;system.</tt></dd></dl>
 <dl><dt><a name="-GetPid"><strong>GetPid</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;current&nbsp;process&nbsp;id.</tt></dd></dl>
 <dl><dt><a name="-GetPlatform"><strong>GetPlatform</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;platform&nbsp;information.</tt></dd></dl>
 <dl><dt><a name="-GetUserId"><strong>GetUserId</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;username&nbsp;of&nbsp;the&nbsp;current&nbsp;user.<br>
&nbsp;<br>
This&nbsp;function&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;environment&nbsp;variable<br>
USER,&nbsp;which&nbsp;should&nbsp;be&nbsp;set&nbsp;on&nbsp;UNIX&nbsp;type&nbsp;systems.&nbsp;If&nbsp;USER&nbsp;is<br>
not&nbsp;set&nbsp;then&nbsp;USERNAME&nbsp;is&nbsp;retrieved,&nbsp;which&nbsp;should&nbsp;be&nbsp;set&nbsp;on<br>
Windows&nbsp;based&nbsp;systems.&nbsp;Otherwise&nbsp;'None'&nbsp;will&nbsp;be&nbsp;returned.</tt></dd></dl>
 <dl><dt><a name="-InitialiseDotCCP4"><strong>InitialiseDotCCP4</strong></a>()</dt><dd><tt>Create&nbsp;or&nbsp;update&nbsp;the&nbsp;.CCP4&nbsp;directory.<br>
&nbsp;<br>
This&nbsp;function&nbsp;replicates&nbsp;a&nbsp;subset&nbsp;of&nbsp;the&nbsp;functionality&nbsp;of<br>
the&nbsp;InitialiseDotCCP4&nbsp;procedure&nbsp;in&nbsp;CCP4i's&nbsp;system.tcl.</tt></dd></dl>
 <dl><dt><a name="-ListDbItems"><strong>ListDbItems</strong></a>()</dt><dd><tt>Return&nbsp;a&nbsp;template&nbsp;list&nbsp;of&nbsp;the&nbsp;items&nbsp;in&nbsp;<a href="#database">database</a>&nbsp;record.</tt></dd></dl>
 <dl><dt><a name="-MakeDbFile"><strong>MakeDbFile</strong></a>(dbfile, project)</dt><dd><tt>Make&nbsp;a&nbsp;new&nbsp;CCP4i&nbsp;<a href="#database">database</a>.def&nbsp;file.<br>
&nbsp;<br>
The&nbsp;arguments&nbsp;are&nbsp;the&nbsp;absolute&nbsp;filename&nbsp;and&nbsp;the&nbsp;name&nbsp;of&nbsp;the<br>
project.&nbsp;A&nbsp;<a href="#database">database</a>&nbsp;file&nbsp;will&nbsp;be&nbsp;generated&nbsp;from&nbsp;the&nbsp;template<br>
<a href="#database">database</a>.def&nbsp;file&nbsp;in&nbsp;the&nbsp;CCP4&nbsp;distribution.</tt></dd></dl>
 <dl><dt><a name="-MakeDir"><strong>MakeDir</strong></a>(directory)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;directory.</tt></dd></dl>
 <dl><dt><a name="-MakeJobid"><strong>MakeJobid</strong></a>(jobid, subjobid<font color="#909090">=None</font>)</dt><dd><tt>Return&nbsp;a&nbsp;job&nbsp;id&nbsp;from&nbsp;job&nbsp;and&nbsp;(optionally)&nbsp;subjob&nbsp;components.<br>
&nbsp;<br>
Given&nbsp;a&nbsp;job&nbsp;id&nbsp;number&nbsp;'jobid'&nbsp;and&nbsp;(optionally)&nbsp;a&nbsp;subjob&nbsp;id<br>
number&nbsp;'subjobid',&nbsp;construct&nbsp;a&nbsp;compound&nbsp;job&nbsp;id.&nbsp;If&nbsp;no&nbsp;subjob&nbsp;id<br>
is&nbsp;supplied&nbsp;then&nbsp;the&nbsp;result&nbsp;is&nbsp;just&nbsp;the&nbsp;job&nbsp;id;&nbsp;if&nbsp;a&nbsp;subjob&nbsp;id<br>
is&nbsp;also&nbsp;supplied&nbsp;then&nbsp;the&nbsp;compound&nbsp;id&nbsp;is&nbsp;returned&nbsp;that&nbsp;uniquely<br>
identifies&nbsp;the&nbsp;subjob&nbsp;as&nbsp;a&nbsp;child&nbsp;of&nbsp;the&nbsp;job.</tt></dd></dl>
 <dl><dt><a name="-SearchPath"><strong>SearchPath</strong></a>(topname, *elements)</dt><dd><tt>Return&nbsp;the&nbsp;full&nbsp;path&nbsp;name&nbsp;for&nbsp;a&nbsp;CCP4i&nbsp;code-&nbsp;or&nbsp;data-file.<br>
&nbsp;<br>
This&nbsp;function&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;CCP4i&nbsp;'SearchPath'&nbsp;command.<br>
'topname'&nbsp;should&nbsp;be&nbsp;either&nbsp;'TOP'&nbsp;or&nbsp;'HELP',&nbsp;with&nbsp;the&nbsp;remaining<br>
elements&nbsp;being&nbsp;subdirectories&nbsp;(typically&nbsp;ending&nbsp;with&nbsp;a<br>
filename).&nbsp;SearchPath&nbsp;will&nbsp;then&nbsp;look&nbsp;for&nbsp;the&nbsp;specified&nbsp;file<br>
first&nbsp;in&nbsp;the&nbsp;user's&nbsp;.CCP4,&nbsp;then&nbsp;in&nbsp;the&nbsp;DBCCP4I_TOP&nbsp;area,<br>
and&nbsp;finally&nbsp;in&nbsp;the&nbsp;CCP4I_TOP&nbsp;area.&nbsp;It&nbsp;will&nbsp;return&nbsp;the&nbsp;first<br>
match&nbsp;that&nbsp;it&nbsp;finds.<br>
&nbsp;<br>
For&nbsp;example:&nbsp;<a href="#-SearchPath">SearchPath</a>('TOP','etc','<a href="#database">database</a>.def')&nbsp;will<br>
look&nbsp;in&nbsp;$USER/.CCP4I/CCP4I_TOP/etc/,&nbsp;$DBCCP4I_TOP/etc/<br>
and&nbsp;$CCP4I_TOP/etc/&nbsp;for&nbsp;the&nbsp;file&nbsp;'<a href="#database">database</a>.def'.</tt></dd></dl>
 <dl><dt><a name="-SplitJobid"><strong>SplitJobid</strong></a>(jobid)</dt><dd><tt>Split&nbsp;a&nbsp;job&nbsp;id&nbsp;into&nbsp;job&nbsp;and&nbsp;subjob&nbsp;components.<br>
&nbsp;<br>
Job&nbsp;ids&nbsp;can&nbsp;be&nbsp;either&nbsp;single&nbsp;(integer)&nbsp;numbers,&nbsp;in&nbsp;which<br>
case&nbsp;they&nbsp;are&nbsp;taken&nbsp;as&nbsp;referring&nbsp;to&nbsp;jobs&nbsp;in&nbsp;the&nbsp;main<br>
project&nbsp;<a href="#database">database</a>,&nbsp;or&nbsp;they&nbsp;can&nbsp;be&nbsp;a&nbsp;pair&nbsp;of&nbsp;numbers<br>
joined&nbsp;with&nbsp;a&nbsp;dot&nbsp;'.',&nbsp;in&nbsp;which&nbsp;case&nbsp;they&nbsp;are&nbsp;taken<br>
as&nbsp;referring&nbsp;to&nbsp;subjobs.&nbsp;The&nbsp;first&nbsp;number&nbsp;is&nbsp;the<br>
main&nbsp;job&nbsp;number&nbsp;and&nbsp;the&nbsp;second&nbsp;the&nbsp;subjob&nbsp;number.<br>
&nbsp;<br>
This&nbsp;method&nbsp;returns&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;two&nbsp;items.<br>
The&nbsp;first&nbsp;is&nbsp;the&nbsp;job&nbsp;number,&nbsp;and&nbsp;the&nbsp;second&nbsp;is&nbsp;either<br>
a&nbsp;subjob&nbsp;number&nbsp;or&nbsp;'None'.</tt></dd></dl>
 <dl><dt><a name="-simulateFileAccessDelay"><strong>simulateFileAccessDelay</strong></a>()</dt><dd><tt>Simulate&nbsp;a&nbsp;delay&nbsp;in&nbsp;a&nbsp;file&nbsp;access&nbsp;operation.<br>
&nbsp;<br>
This&nbsp;is&nbsp;used&nbsp;for&nbsp;testing&nbsp;purposes&nbsp;only;&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;delay<br>
should&nbsp;be&nbsp;zero&nbsp;in&nbsp;normal&nbsp;usage.</tt></dd></dl>
 <dl><dt><a name="-tokenise"><strong>tokenise</strong></a>(line)</dt><dd><tt>Tokenise&nbsp;a&nbsp;string&nbsp;and&nbsp;return&nbsp;a&nbsp;list.<br>
&nbsp;<br>
Typically&nbsp;the&nbsp;string&nbsp;will&nbsp;be&nbsp;a&nbsp;line&nbsp;from&nbsp;a&nbsp;CCP4i&nbsp;def&nbsp;file.&nbsp;Tokens<br>
are&nbsp;delimited&nbsp;by&nbsp;whitespace,&nbsp;by&nbsp;double&nbsp;quotes,&nbsp;and&nbsp;by&nbsp;curly&nbsp;braces<br>
'{'&nbsp;and&nbsp;'}',&nbsp;with&nbsp;quoted&nbsp;whitespace&nbsp;within&nbsp;a&nbsp;token&nbsp;not&nbsp;counting&nbsp;as<br>
a&nbsp;delimiter.<br>
&nbsp;<br>
The&nbsp;tokens&nbsp;are&nbsp;returned&nbsp;with&nbsp;the&nbsp;surrounding&nbsp;quoting&nbsp;characters<br>
and&nbsp;spaces&nbsp;removed.</tt></dd></dl>
 <dl><dt><a name="-version"><strong>version</strong></a>()</dt><dd><tt>Return&nbsp;the&nbsp;version&nbsp;number&nbsp;of&nbsp;the&nbsp;module&nbsp;extracted&nbsp;from&nbsp;the&nbsp;RCS&nbsp;string.</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>__version__</strong> = '$Revision: 1.7 $'</td></tr></table>
</body></html>